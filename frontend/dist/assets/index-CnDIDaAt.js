var bK=Object.defineProperty;var wK=(e,t,r)=>t in e?bK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var C5=(e,t,r)=>wK(e,typeof t!="symbol"?t+"":t,r);function kK(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var T5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NK(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var yD={exports:{}},Gb={},bD={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=Symbol.for("react.element"),SK=Symbol.for("react.portal"),jK=Symbol.for("react.fragment"),AK=Symbol.for("react.strict_mode"),_K=Symbol.for("react.profiler"),EK=Symbol.for("react.provider"),CK=Symbol.for("react.context"),TK=Symbol.for("react.forward_ref"),PK=Symbol.for("react.suspense"),OK=Symbol.for("react.memo"),LK=Symbol.for("react.lazy"),rC=Symbol.iterator;function FK(e){return e===null||typeof e!="object"?null:(e=rC&&e[rC]||e["@@iterator"],typeof e=="function"?e:null)}var wD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kD=Object.assign,ND={};function Ch(e,t,r){this.props=e,this.context=t,this.refs=ND,this.updater=r||wD}Ch.prototype.isReactComponent={};Ch.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ch.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function SD(){}SD.prototype=Ch.prototype;function A3(e,t,r){this.props=e,this.context=t,this.refs=ND,this.updater=r||wD}var _3=A3.prototype=new SD;_3.constructor=A3;kD(_3,Ch.prototype);_3.isPureReactComponent=!0;var nC=Array.isArray,jD=Object.prototype.hasOwnProperty,E3={current:null},AD={key:!0,ref:!0,__self:!0,__source:!0};function _D(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)jD.call(t,n)&&!AD.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Hg,type:e,key:s,ref:i,props:a,_owner:E3.current}}function DK(e,t){return{$$typeof:Hg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function C3(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hg}function IK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var aC=/\/+/g;function P5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IK(""+e.key):t.toString(36)}function Ov(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Hg:case SK:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+P5(i,0):n,nC(a)?(r="",e!=null&&(r=e.replace(aC,"$&/")+"/"),Ov(a,t,r,"",function(u){return u})):a!=null&&(C3(a)&&(a=DK(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(aC,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",nC(e))for(var o=0;o<e.length;o++){s=e[o];var c=n+P5(s,o);i+=Ov(s,t,r,c,a)}else if(c=FK(e),typeof c=="function")for(e=c.call(e),o=0;!(s=e.next()).done;)s=s.value,c=n+P5(s,o++),i+=Ov(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function C1(e,t,r){if(e==null)return e;var n=[],a=0;return Ov(e,n,"","",function(s){return t.call(r,s,a++)}),n}function MK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fs={current:null},Lv={transition:null},RK={ReactCurrentDispatcher:Fs,ReactCurrentBatchConfig:Lv,ReactCurrentOwner:E3};function ED(){throw Error("act(...) is not supported in production builds of React.")}er.Children={map:C1,forEach:function(e,t,r){C1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return C1(e,function(){t++}),t},toArray:function(e){return C1(e,function(t){return t})||[]},only:function(e){if(!C3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};er.Component=Ch;er.Fragment=jK;er.Profiler=_K;er.PureComponent=A3;er.StrictMode=AK;er.Suspense=PK;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RK;er.act=ED;er.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kD({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=E3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)jD.call(t,c)&&!AD.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Hg,type:e.type,key:a,ref:s,props:n,_owner:i}};er.createContext=function(e){return e={$$typeof:CK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EK,_context:e},e.Consumer=e};er.createElement=_D;er.createFactory=function(e){var t=_D.bind(null,e);return t.type=e,t};er.createRef=function(){return{current:null}};er.forwardRef=function(e){return{$$typeof:TK,render:e}};er.isValidElement=C3;er.lazy=function(e){return{$$typeof:LK,_payload:{_status:-1,_result:e},_init:MK}};er.memo=function(e,t){return{$$typeof:OK,type:e,compare:t===void 0?null:t}};er.startTransition=function(e){var t=Lv.transition;Lv.transition={};try{e()}finally{Lv.transition=t}};er.unstable_act=ED;er.useCallback=function(e,t){return Fs.current.useCallback(e,t)};er.useContext=function(e){return Fs.current.useContext(e)};er.useDebugValue=function(){};er.useDeferredValue=function(e){return Fs.current.useDeferredValue(e)};er.useEffect=function(e,t){return Fs.current.useEffect(e,t)};er.useId=function(){return Fs.current.useId()};er.useImperativeHandle=function(e,t,r){return Fs.current.useImperativeHandle(e,t,r)};er.useInsertionEffect=function(e,t){return Fs.current.useInsertionEffect(e,t)};er.useLayoutEffect=function(e,t){return Fs.current.useLayoutEffect(e,t)};er.useMemo=function(e,t){return Fs.current.useMemo(e,t)};er.useReducer=function(e,t,r){return Fs.current.useReducer(e,t,r)};er.useRef=function(e){return Fs.current.useRef(e)};er.useState=function(e){return Fs.current.useState(e)};er.useSyncExternalStore=function(e,t,r){return Fs.current.useSyncExternalStore(e,t,r)};er.useTransition=function(){return Fs.current.useTransition()};er.version="18.3.1";bD.exports=er;var k=bD.exports;const Ou=Tl(k),CD=kK({__proto__:null,default:Ou},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BK=k,zK=Symbol.for("react.element"),UK=Symbol.for("react.fragment"),$K=Object.prototype.hasOwnProperty,WK=BK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HK={key:!0,ref:!0,__self:!0,__source:!0};function TD(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)$K.call(t,n)&&!HK.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:zK,type:e,key:s,ref:i,props:a,_owner:WK.current}}Gb.Fragment=UK;Gb.jsx=TD;Gb.jsxs=TD;yD.exports=Gb;var l=yD.exports,N4={},PD={exports:{}},Ci={},OD={exports:{}},LD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,z){var Q=Y.length;Y.push(z);e:for(;0<Q;){var de=Q-1>>>1,L=Y[de];if(0<a(L,z))Y[de]=z,Y[Q]=L,Q=de;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var z=Y[0],Q=Y.pop();if(Q!==z){Y[0]=Q;e:for(var de=0,L=Y.length,R=L>>>1;de<R;){var U=2*(de+1)-1,I=Y[U],X=U+1,V=Y[X];if(0>a(I,Q))X<L&&0>a(V,I)?(Y[de]=V,Y[X]=Q,de=X):(Y[de]=I,Y[U]=Q,de=U);else if(X<L&&0>a(V,Q))Y[de]=V,Y[X]=Q,de=X;else break e}}return z}function a(Y,z){var Q=Y.sortIndex-z.sortIndex;return Q!==0?Q:Y.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Y){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=Y)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function N(Y){if(g=!1,b(Y),!p)if(r(c)!==null)p=!0,M(S);else{var z=r(u);z!==null&&B(N,z.startTime-Y)}}function S(Y,z){p=!1,g&&(g=!1,v(C),C=-1),m=!0;var Q=h;try{for(b(z),f=r(c);f!==null&&(!(f.expirationTime>z)||Y&&!O());){var de=f.callback;if(typeof de=="function"){f.callback=null,h=f.priorityLevel;var L=de(f.expirationTime<=z);z=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),b(z)}else n(c);f=r(c)}if(f!==null)var R=!0;else{var U=r(u);U!==null&&B(N,U.startTime-z),R=!1}return R}finally{f=null,h=Q,m=!1}}var A=!1,j=null,C=-1,E=5,F=-1;function O(){return!(e.unstable_now()-F<E)}function T(){if(j!==null){var Y=e.unstable_now();F=Y;var z=!0;try{z=j(!0,Y)}finally{z?H():(A=!1,j=null)}}else A=!1}var H;if(typeof y=="function")H=function(){y(T)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,se=K.port2;K.port1.onmessage=T,H=function(){se.postMessage(null)}}else H=function(){x(T,0)};function M(Y){j=Y,A||(A=!0,H())}function B(Y,z){C=x(function(){Y(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,M(S))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Q=h;h=z;try{return Y()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=h;h=Y;try{return z()}finally{h=Q}},e.unstable_scheduleCallback=function(Y,z,Q){var de=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?de+Q:de):Q=de,Y){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Q+L,Y={id:d++,callback:z,priorityLevel:Y,startTime:Q,expirationTime:L,sortIndex:-1},Q>de?(Y.sortIndex=Q,t(u,Y),r(c)===null&&Y===r(u)&&(g?(v(C),C=-1):g=!0,B(N,Q-de))):(Y.sortIndex=L,t(c,Y),p||m||(p=!0,M(S))),Y},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Y){var z=h;return function(){var Q=h;h=z;try{return Y.apply(this,arguments)}finally{h=Q}}}})(LD);OD.exports=LD;var VK=OD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qK=k,ji=VK;function nt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FD=new Set,Mp={};function S0(e,t){th(e,t),th(e+"Capture",t)}function th(e,t){for(Mp[e]=t,e=0;e<t.length;e++)FD.add(t[e])}var dc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S4=Object.prototype.hasOwnProperty,GK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sC={},iC={};function KK(e){return S4.call(iC,e)?!0:S4.call(sC,e)?!1:GK.test(e)?iC[e]=!0:(sC[e]=!0,!1)}function YK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function XK(e,t,r,n){if(t===null||typeof t>"u"||YK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ds(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var $a={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$a[e]=new Ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$a[t]=new Ds(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$a[e]=new Ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$a[e]=new Ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$a[e]=new Ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$a[e]=new Ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$a[e]=new Ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$a[e]=new Ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$a[e]=new Ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var T3=/[\-:]([a-z])/g;function P3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T3,P3);$a[t]=new Ds(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T3,P3);$a[t]=new Ds(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T3,P3);$a[t]=new Ds(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$a[e]=new Ds(e,1,!1,e.toLowerCase(),null,!1,!1)});$a.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$a[e]=new Ds(e,1,!1,e.toLowerCase(),null,!0,!0)});function O3(e,t,r,n){var a=$a.hasOwnProperty(t)?$a[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(XK(t,r,a,n)&&(r=null),n||a===null?KK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _c=qK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T1=Symbol.for("react.element"),bf=Symbol.for("react.portal"),wf=Symbol.for("react.fragment"),L3=Symbol.for("react.strict_mode"),j4=Symbol.for("react.profiler"),DD=Symbol.for("react.provider"),ID=Symbol.for("react.context"),F3=Symbol.for("react.forward_ref"),A4=Symbol.for("react.suspense"),_4=Symbol.for("react.suspense_list"),D3=Symbol.for("react.memo"),au=Symbol.for("react.lazy"),MD=Symbol.for("react.offscreen"),oC=Symbol.iterator;function Tm(e){return e===null||typeof e!="object"?null:(e=oC&&e[oC]||e["@@iterator"],typeof e=="function"?e:null)}var dn=Object.assign,O5;function Zm(e){if(O5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O5=t&&t[1]||""}return`
`+O5+e}var L5=!1;function F5(e,t){if(!e||L5)return"";L5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==s[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{L5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zm(e):""}function ZK(e){switch(e.tag){case 5:return Zm(e.type);case 16:return Zm("Lazy");case 13:return Zm("Suspense");case 19:return Zm("SuspenseList");case 0:case 2:case 15:return e=F5(e.type,!1),e;case 11:return e=F5(e.type.render,!1),e;case 1:return e=F5(e.type,!0),e;default:return""}}function E4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wf:return"Fragment";case bf:return"Portal";case j4:return"Profiler";case L3:return"StrictMode";case A4:return"Suspense";case _4:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ID:return(e.displayName||"Context")+".Consumer";case DD:return(e._context.displayName||"Context")+".Provider";case F3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D3:return t=e.displayName||null,t!==null?t:E4(e.type)||"Memo";case au:t=e._payload,e=e._init;try{return E4(e(t))}catch{}}return null}function JK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E4(t);case 8:return t===L3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QK(e){var t=RD(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P1(e){e._valueTracker||(e._valueTracker=QK(e))}function BD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=RD(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ay(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function C4(e,t){var r=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Lu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zD(e,t){t=t.checked,t!=null&&O3(e,"checked",t,!1)}function T4(e,t){zD(e,t);var r=Lu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P4(e,t.type,r):t.hasOwnProperty("defaultValue")&&P4(e,t.type,Lu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function P4(e,t,r){(t!=="number"||ay(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jm=Array.isArray;function Uf(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Lu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function O4(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(nt(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(nt(92));if(Jm(r)){if(1<r.length)throw Error(nt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Lu(r)}}function UD(e,t){var r=Lu(t.value),n=Lu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $D(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L4(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$D(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var O1,WD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(O1=O1||document.createElement("div"),O1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=O1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var op={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eY=["Webkit","ms","Moz","O"];Object.keys(op).forEach(function(e){eY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),op[t]=op[e]})});function HD(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||op.hasOwnProperty(e)&&op[e]?(""+t).trim():t+"px"}function VD(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=HD(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var tY=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F4(e,t){if(t){if(tY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(nt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(nt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(nt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(nt(62))}}function D4(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I4=null;function I3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var M4=null,$f=null,Wf=null;function fC(e){if(e=Gg(e)){if(typeof M4!="function")throw Error(nt(280));var t=e.stateNode;t&&(t=Jb(t),M4(e.stateNode,e.type,t))}}function qD(e){$f?Wf?Wf.push(e):Wf=[e]:$f=e}function GD(){if($f){var e=$f,t=Wf;if(Wf=$f=null,fC(e),t)for(e=0;e<t.length;e++)fC(t[e])}}function KD(e,t){return e(t)}function YD(){}var D5=!1;function XD(e,t,r){if(D5)return e(t,r);D5=!0;try{return KD(e,t,r)}finally{D5=!1,($f!==null||Wf!==null)&&(YD(),GD())}}function Bp(e,t){var r=e.stateNode;if(r===null)return null;var n=Jb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(nt(231,t,typeof r));return r}var R4=!1;if(dc)try{var Pm={};Object.defineProperty(Pm,"passive",{get:function(){R4=!0}}),window.addEventListener("test",Pm,Pm),window.removeEventListener("test",Pm,Pm)}catch{R4=!1}function rY(e,t,r,n,a,s,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var lp=!1,sy=null,iy=!1,B4=null,nY={onError:function(e){lp=!0,sy=e}};function aY(e,t,r,n,a,s,i,o,c){lp=!1,sy=null,rY.apply(nY,arguments)}function sY(e,t,r,n,a,s,i,o,c){if(aY.apply(this,arguments),lp){if(lp){var u=sy;lp=!1,sy=null}else throw Error(nt(198));iy||(iy=!0,B4=u)}}function j0(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ZD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hC(e){if(j0(e)!==e)throw Error(nt(188))}function iY(e){var t=e.alternate;if(!t){if(t=j0(e),t===null)throw Error(nt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return hC(a),e;if(s===n)return hC(a),t;s=s.sibling}throw Error(nt(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(nt(189))}}if(r.alternate!==n)throw Error(nt(190))}if(r.tag!==3)throw Error(nt(188));return r.stateNode.current===r?e:t}function JD(e){return e=iY(e),e!==null?QD(e):null}function QD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=QD(e);if(t!==null)return t;e=e.sibling}return null}var eI=ji.unstable_scheduleCallback,mC=ji.unstable_cancelCallback,oY=ji.unstable_shouldYield,lY=ji.unstable_requestPaint,On=ji.unstable_now,cY=ji.unstable_getCurrentPriorityLevel,M3=ji.unstable_ImmediatePriority,tI=ji.unstable_UserBlockingPriority,oy=ji.unstable_NormalPriority,uY=ji.unstable_LowPriority,rI=ji.unstable_IdlePriority,Kb=null,vl=null;function dY(e){if(vl&&typeof vl.onCommitFiberRoot=="function")try{vl.onCommitFiberRoot(Kb,e,void 0,(e.current.flags&128)===128)}catch{}}var Mo=Math.clz32?Math.clz32:mY,fY=Math.log,hY=Math.LN2;function mY(e){return e>>>=0,e===0?32:31-(fY(e)/hY|0)|0}var L1=64,F1=4194304;function Qm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ly(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Qm(o):(s&=i,s!==0&&(n=Qm(s)))}else i=r&~a,i!==0?n=Qm(i):s!==0&&(n=Qm(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mo(t),a=1<<r,n|=e[r],t&=~a;return n}function pY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gY(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Mo(s),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=pY(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}function z4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nI(){var e=L1;return L1<<=1,!(L1&4194240)&&(L1=64),e}function I5(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mo(t),e[t]=r}function xY(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Mo(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function R3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Er=0;function aI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sI,B3,iI,oI,lI,U4=!1,D1=[],wu=null,ku=null,Nu=null,zp=new Map,Up=new Map,lu=[],vY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pC(e,t){switch(e){case"focusin":case"focusout":wu=null;break;case"dragenter":case"dragleave":ku=null;break;case"mouseover":case"mouseout":Nu=null;break;case"pointerover":case"pointerout":zp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Up.delete(t.pointerId)}}function Om(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Gg(t),t!==null&&B3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function yY(e,t,r,n,a){switch(t){case"focusin":return wu=Om(wu,e,t,r,n,a),!0;case"dragenter":return ku=Om(ku,e,t,r,n,a),!0;case"mouseover":return Nu=Om(Nu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return zp.set(s,Om(zp.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Up.set(s,Om(Up.get(s)||null,e,t,r,n,a)),!0}return!1}function cI(e){var t=Ed(e.target);if(t!==null){var r=j0(t);if(r!==null){if(t=r.tag,t===13){if(t=ZD(r),t!==null){e.blockedOn=t,lI(e.priority,function(){iI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);I4=n,r.target.dispatchEvent(n),I4=null}else return t=Gg(r),t!==null&&B3(t),e.blockedOn=r,!1;t.shift()}return!0}function gC(e,t,r){Fv(e)&&r.delete(t)}function bY(){U4=!1,wu!==null&&Fv(wu)&&(wu=null),ku!==null&&Fv(ku)&&(ku=null),Nu!==null&&Fv(Nu)&&(Nu=null),zp.forEach(gC),Up.forEach(gC)}function Lm(e,t){e.blockedOn===t&&(e.blockedOn=null,U4||(U4=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,bY)))}function $p(e){function t(a){return Lm(a,e)}if(0<D1.length){Lm(D1[0],e);for(var r=1;r<D1.length;r++){var n=D1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wu!==null&&Lm(wu,e),ku!==null&&Lm(ku,e),Nu!==null&&Lm(Nu,e),zp.forEach(t),Up.forEach(t),r=0;r<lu.length;r++)n=lu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<lu.length&&(r=lu[0],r.blockedOn===null);)cI(r),r.blockedOn===null&&lu.shift()}var Hf=_c.ReactCurrentBatchConfig,cy=!0;function wY(e,t,r,n){var a=Er,s=Hf.transition;Hf.transition=null;try{Er=1,z3(e,t,r,n)}finally{Er=a,Hf.transition=s}}function kY(e,t,r,n){var a=Er,s=Hf.transition;Hf.transition=null;try{Er=4,z3(e,t,r,n)}finally{Er=a,Hf.transition=s}}function z3(e,t,r,n){if(cy){var a=$4(e,t,r,n);if(a===null)q5(e,t,n,uy,r),pC(e,n);else if(yY(a,e,t,r,n))n.stopPropagation();else if(pC(e,n),t&4&&-1<vY.indexOf(e)){for(;a!==null;){var s=Gg(a);if(s!==null&&sI(s),s=$4(e,t,r,n),s===null&&q5(e,t,n,uy,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else q5(e,t,n,null,r)}}var uy=null;function $4(e,t,r,n){if(uy=null,e=I3(n),e=Ed(e),e!==null)if(t=j0(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ZD(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uy=e,null}function uI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cY()){case M3:return 1;case tI:return 4;case oy:case uY:return 16;case rI:return 536870912;default:return 16}default:return 16}}var hu=null,U3=null,Dv=null;function dI(){if(Dv)return Dv;var e,t=U3,r=t.length,n,a="value"in hu?hu.value:hu.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return Dv=a.slice(e,1<n?1-n:void 0)}function Iv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function I1(){return!0}function xC(){return!1}function Ti(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?I1:xC,this.isPropagationStopped=xC,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=I1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=I1)},persist:function(){},isPersistent:I1}),t}var Th={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$3=Ti(Th),qg=dn({},Th,{view:0,detail:0}),NY=Ti(qg),M5,R5,Fm,Yb=dn({},qg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fm&&(Fm&&e.type==="mousemove"?(M5=e.screenX-Fm.screenX,R5=e.screenY-Fm.screenY):R5=M5=0,Fm=e),M5)},movementY:function(e){return"movementY"in e?e.movementY:R5}}),vC=Ti(Yb),SY=dn({},Yb,{dataTransfer:0}),jY=Ti(SY),AY=dn({},qg,{relatedTarget:0}),B5=Ti(AY),_Y=dn({},Th,{animationName:0,elapsedTime:0,pseudoElement:0}),EY=Ti(_Y),CY=dn({},Th,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TY=Ti(CY),PY=dn({},Th,{data:0}),yC=Ti(PY),OY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FY[e])?!!t[e]:!1}function W3(){return DY}var IY=dn({},qg,{key:function(e){if(e.key){var t=OY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Iv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W3,charCode:function(e){return e.type==="keypress"?Iv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Iv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MY=Ti(IY),RY=dn({},Yb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bC=Ti(RY),BY=dn({},qg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W3}),zY=Ti(BY),UY=dn({},Th,{propertyName:0,elapsedTime:0,pseudoElement:0}),$Y=Ti(UY),WY=dn({},Yb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HY=Ti(WY),VY=[9,13,27,32],H3=dc&&"CompositionEvent"in window,cp=null;dc&&"documentMode"in document&&(cp=document.documentMode);var qY=dc&&"TextEvent"in window&&!cp,fI=dc&&(!H3||cp&&8<cp&&11>=cp),wC=" ",kC=!1;function hI(e,t){switch(e){case"keyup":return VY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kf=!1;function GY(e,t){switch(e){case"compositionend":return mI(t);case"keypress":return t.which!==32?null:(kC=!0,wC);case"textInput":return e=t.data,e===wC&&kC?null:e;default:return null}}function KY(e,t){if(kf)return e==="compositionend"||!H3&&hI(e,t)?(e=dI(),Dv=U3=hu=null,kf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fI&&t.locale!=="ko"?null:t.data;default:return null}}var YY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YY[e.type]:t==="textarea"}function pI(e,t,r,n){qD(n),t=dy(t,"onChange"),0<t.length&&(r=new $3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var up=null,Wp=null;function XY(e){AI(e,0)}function Xb(e){var t=jf(e);if(BD(t))return e}function ZY(e,t){if(e==="change")return t}var gI=!1;if(dc){var z5;if(dc){var U5="oninput"in document;if(!U5){var SC=document.createElement("div");SC.setAttribute("oninput","return;"),U5=typeof SC.oninput=="function"}z5=U5}else z5=!1;gI=z5&&(!document.documentMode||9<document.documentMode)}function jC(){up&&(up.detachEvent("onpropertychange",xI),Wp=up=null)}function xI(e){if(e.propertyName==="value"&&Xb(Wp)){var t=[];pI(t,Wp,e,I3(e)),XD(XY,t)}}function JY(e,t,r){e==="focusin"?(jC(),up=t,Wp=r,up.attachEvent("onpropertychange",xI)):e==="focusout"&&jC()}function QY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xb(Wp)}function eX(e,t){if(e==="click")return Xb(t)}function tX(e,t){if(e==="input"||e==="change")return Xb(t)}function rX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wo=typeof Object.is=="function"?Object.is:rX;function Hp(e,t){if(Wo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!S4.call(t,a)||!Wo(e[a],t[a]))return!1}return!0}function AC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _C(e,t){var r=AC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=AC(r)}}function vI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yI(){for(var e=window,t=ay();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ay(e.document)}return t}function V3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nX(e){var t=yI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vI(r.ownerDocument.documentElement,r)){if(n!==null&&V3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=_C(r,s);var i=_C(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aX=dc&&"documentMode"in document&&11>=document.documentMode,Nf=null,W4=null,dp=null,H4=!1;function EC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;H4||Nf==null||Nf!==ay(n)||(n=Nf,"selectionStart"in n&&V3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dp&&Hp(dp,n)||(dp=n,n=dy(W4,"onSelect"),0<n.length&&(t=new $3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nf)))}function M1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sf={animationend:M1("Animation","AnimationEnd"),animationiteration:M1("Animation","AnimationIteration"),animationstart:M1("Animation","AnimationStart"),transitionend:M1("Transition","TransitionEnd")},$5={},bI={};dc&&(bI=document.createElement("div").style,"AnimationEvent"in window||(delete Sf.animationend.animation,delete Sf.animationiteration.animation,delete Sf.animationstart.animation),"TransitionEvent"in window||delete Sf.transitionend.transition);function Zb(e){if($5[e])return $5[e];if(!Sf[e])return e;var t=Sf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bI)return $5[e]=t[r];return e}var wI=Zb("animationend"),kI=Zb("animationiteration"),NI=Zb("animationstart"),SI=Zb("transitionend"),jI=new Map,CC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yu(e,t){jI.set(e,t),S0(t,[e])}for(var W5=0;W5<CC.length;W5++){var H5=CC[W5],sX=H5.toLowerCase(),iX=H5[0].toUpperCase()+H5.slice(1);Yu(sX,"on"+iX)}Yu(wI,"onAnimationEnd");Yu(kI,"onAnimationIteration");Yu(NI,"onAnimationStart");Yu("dblclick","onDoubleClick");Yu("focusin","onFocus");Yu("focusout","onBlur");Yu(SI,"onTransitionEnd");th("onMouseEnter",["mouseout","mouseover"]);th("onMouseLeave",["mouseout","mouseover"]);th("onPointerEnter",["pointerout","pointerover"]);th("onPointerLeave",["pointerout","pointerover"]);S0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));S0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));S0("onBeforeInput",["compositionend","keypress","textInput","paste"]);S0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));S0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));S0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ep="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oX=new Set("cancel close invalid load scroll toggle".split(" ").concat(ep));function TC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,sY(n,t,void 0,e),e.currentTarget=null}function AI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&a.isPropagationStopped())break e;TC(a,o,u),s=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&a.isPropagationStopped())break e;TC(a,o,u),s=c}}}if(iy)throw e=B4,iy=!1,B4=null,e}function Hr(e,t){var r=t[Y4];r===void 0&&(r=t[Y4]=new Set);var n=e+"__bubble";r.has(n)||(_I(t,e,2,!1),r.add(n))}function V5(e,t,r){var n=0;t&&(n|=4),_I(r,e,n,t)}var R1="_reactListening"+Math.random().toString(36).slice(2);function Vp(e){if(!e[R1]){e[R1]=!0,FD.forEach(function(r){r!=="selectionchange"&&(oX.has(r)||V5(r,!1,e),V5(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[R1]||(t[R1]=!0,V5("selectionchange",!1,t))}}function _I(e,t,r,n){switch(uI(t)){case 1:var a=wY;break;case 4:a=kY;break;default:a=z3}r=a.bind(null,t,r,e),a=void 0,!R4||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function q5(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Ed(o),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}o=o.parentNode}}n=n.return}XD(function(){var u=s,d=I3(r),f=[];e:{var h=jI.get(e);if(h!==void 0){var m=$3,p=e;switch(e){case"keypress":if(Iv(r)===0)break e;case"keydown":case"keyup":m=MY;break;case"focusin":p="focus",m=B5;break;case"focusout":p="blur",m=B5;break;case"beforeblur":case"afterblur":m=B5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=jY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zY;break;case wI:case kI:case NI:m=EY;break;case SI:m=$Y;break;case"scroll":m=NY;break;case"wheel":m=HY;break;case"copy":case"cut":case"paste":m=TY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bC}var g=(t&4)!==0,x=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,v!==null&&(N=Bp(y,v),N!=null&&g.push(qp(y,N,b)))),x)break;y=y.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==I4&&(p=r.relatedTarget||r.fromElement)&&(Ed(p)||p[fc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Ed(p):null,p!==null&&(x=j0(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=vC,N="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=bC,N="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?h:jf(m),b=p==null?h:jf(p),h=new g(N,y+"leave",m,r,d),h.target=x,h.relatedTarget=b,N=null,Ed(d)===u&&(g=new g(v,y+"enter",p,r,d),g.target=b,g.relatedTarget=x,N=g),x=N,m&&p)t:{for(g=m,v=p,y=0,b=g;b;b=of(b))y++;for(b=0,N=v;N;N=of(N))b++;for(;0<y-b;)g=of(g),y--;for(;0<b-y;)v=of(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=of(g),v=of(v)}g=null}else g=null;m!==null&&PC(f,h,m,g,!1),p!==null&&x!==null&&PC(f,x,p,g,!0)}}e:{if(h=u?jf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=ZY;else if(NC(h))if(gI)S=tX;else{S=QY;var A=JY}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=eX);if(S&&(S=S(e,u))){pI(f,S,r,d);break e}A&&A(e,h,u),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&P4(h,"number",h.value)}switch(A=u?jf(u):window,e){case"focusin":(NC(A)||A.contentEditable==="true")&&(Nf=A,W4=u,dp=null);break;case"focusout":dp=W4=Nf=null;break;case"mousedown":H4=!0;break;case"contextmenu":case"mouseup":case"dragend":H4=!1,EC(f,r,d);break;case"selectionchange":if(aX)break;case"keydown":case"keyup":EC(f,r,d)}var j;if(H3)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else kf?hI(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(fI&&r.locale!=="ko"&&(kf||C!=="onCompositionStart"?C==="onCompositionEnd"&&kf&&(j=dI()):(hu=d,U3="value"in hu?hu.value:hu.textContent,kf=!0)),A=dy(u,C),0<A.length&&(C=new yC(C,e,null,r,d),f.push({event:C,listeners:A}),j?C.data=j:(j=mI(r),j!==null&&(C.data=j)))),(j=qY?GY(e,r):KY(e,r))&&(u=dy(u,"onBeforeInput"),0<u.length&&(d=new yC("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}AI(f,t)})}function qp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dy(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Bp(e,r),s!=null&&n.unshift(qp(e,s,a)),s=Bp(e,t),s!=null&&n.push(qp(e,s,a))),e=e.return}return n}function of(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function PC(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Bp(r,s),c!=null&&i.unshift(qp(r,c,o))):a||(c=Bp(r,s),c!=null&&i.push(qp(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var lX=/\r\n?/g,cX=/\u0000|\uFFFD/g;function OC(e){return(typeof e=="string"?e:""+e).replace(lX,`
`).replace(cX,"")}function B1(e,t,r){if(t=OC(t),OC(e)!==t&&r)throw Error(nt(425))}function fy(){}var V4=null,q4=null;function G4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var K4=typeof setTimeout=="function"?setTimeout:void 0,uX=typeof clearTimeout=="function"?clearTimeout:void 0,LC=typeof Promise=="function"?Promise:void 0,dX=typeof queueMicrotask=="function"?queueMicrotask:typeof LC<"u"?function(e){return LC.resolve(null).then(e).catch(fX)}:K4;function fX(e){setTimeout(function(){throw e})}function G5(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),$p(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);$p(t)}function Su(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function FC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ph=Math.random().toString(36).slice(2),fl="__reactFiber$"+Ph,Gp="__reactProps$"+Ph,fc="__reactContainer$"+Ph,Y4="__reactEvents$"+Ph,hX="__reactListeners$"+Ph,mX="__reactHandles$"+Ph;function Ed(e){var t=e[fl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fc]||r[fl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=FC(e);e!==null;){if(r=e[fl])return r;e=FC(e)}return t}e=r,r=e.parentNode}return null}function Gg(e){return e=e[fl]||e[fc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(nt(33))}function Jb(e){return e[Gp]||null}var X4=[],Af=-1;function Xu(e){return{current:e}}function Kr(e){0>Af||(e.current=X4[Af],X4[Af]=null,Af--)}function zr(e,t){Af++,X4[Af]=e.current,e.current=t}var Fu={},fs=Xu(Fu),Ks=Xu(!1),a0=Fu;function rh(e,t){var r=e.type.contextTypes;if(!r)return Fu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ys(e){return e=e.childContextTypes,e!=null}function hy(){Kr(Ks),Kr(fs)}function DC(e,t,r){if(fs.current!==Fu)throw Error(nt(168));zr(fs,t),zr(Ks,r)}function EI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(nt(108,JK(e)||"Unknown",a));return dn({},r,n)}function my(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fu,a0=fs.current,zr(fs,e),zr(Ks,Ks.current),!0}function IC(e,t,r){var n=e.stateNode;if(!n)throw Error(nt(169));r?(e=EI(e,t,a0),n.__reactInternalMemoizedMergedChildContext=e,Kr(Ks),Kr(fs),zr(fs,e)):Kr(Ks),zr(Ks,r)}var Xl=null,Qb=!1,K5=!1;function CI(e){Xl===null?Xl=[e]:Xl.push(e)}function pX(e){Qb=!0,CI(e)}function Zu(){if(!K5&&Xl!==null){K5=!0;var e=0,t=Er;try{var r=Xl;for(Er=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xl=null,Qb=!1}catch(a){throw Xl!==null&&(Xl=Xl.slice(e+1)),eI(M3,Zu),a}finally{Er=t,K5=!1}}return null}var _f=[],Ef=0,py=null,gy=0,Ji=[],Qi=0,s0=null,ec=1,tc="";function bd(e,t){_f[Ef++]=gy,_f[Ef++]=py,py=e,gy=t}function TI(e,t,r){Ji[Qi++]=ec,Ji[Qi++]=tc,Ji[Qi++]=s0,s0=e;var n=ec;e=tc;var a=32-Mo(n)-1;n&=~(1<<a),r+=1;var s=32-Mo(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ec=1<<32-Mo(t)+a|r<<a|n,tc=s+e}else ec=1<<s|r<<a|n,tc=e}function q3(e){e.return!==null&&(bd(e,1),TI(e,1,0))}function G3(e){for(;e===py;)py=_f[--Ef],_f[Ef]=null,gy=_f[--Ef],_f[Ef]=null;for(;e===s0;)s0=Ji[--Qi],Ji[Qi]=null,tc=Ji[--Qi],Ji[Qi]=null,ec=Ji[--Qi],Ji[Qi]=null}var wi=null,vi=null,Qr=!1,Po=null;function PI(e,t){var r=eo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function MC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wi=e,vi=Su(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wi=e,vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=s0!==null?{id:ec,overflow:tc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=eo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wi=e,vi=null,!0):!1;default:return!1}}function Z4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J4(e){if(Qr){var t=vi;if(t){var r=t;if(!MC(e,t)){if(Z4(e))throw Error(nt(418));t=Su(r.nextSibling);var n=wi;t&&MC(e,t)?PI(n,r):(e.flags=e.flags&-4097|2,Qr=!1,wi=e)}}else{if(Z4(e))throw Error(nt(418));e.flags=e.flags&-4097|2,Qr=!1,wi=e}}}function RC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wi=e}function z1(e){if(e!==wi)return!1;if(!Qr)return RC(e),Qr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!G4(e.type,e.memoizedProps)),t&&(t=vi)){if(Z4(e))throw OI(),Error(nt(418));for(;t;)PI(e,t),t=Su(t.nextSibling)}if(RC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vi=Su(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vi=null}}else vi=wi?Su(e.stateNode.nextSibling):null;return!0}function OI(){for(var e=vi;e;)e=Su(e.nextSibling)}function nh(){vi=wi=null,Qr=!1}function K3(e){Po===null?Po=[e]:Po.push(e)}var gX=_c.ReactCurrentBatchConfig;function Dm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(nt(309));var n=r.stateNode}if(!n)throw Error(nt(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=a.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(nt(284));if(!r._owner)throw Error(nt(290,e))}return e}function U1(e,t){throw e=Object.prototype.toString.call(t),Error(nt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function BC(e){var t=e._init;return t(e._payload)}function LI(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=Eu(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,N){return y===null||y.tag!==6?(y=tk(b,v.mode,N),y.return=v,y):(y=a(y,b),y.return=v,y)}function c(v,y,b,N){var S=b.type;return S===wf?d(v,y,b.props.children,N,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===au&&BC(S)===y.type)?(N=a(y,b.props),N.ref=Dm(v,y,b),N.return=v,N):(N=Wv(b.type,b.key,b.props,null,v.mode,N),N.ref=Dm(v,y,b),N.return=v,N)}function u(v,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=rk(b,v.mode,N),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function d(v,y,b,N,S){return y===null||y.tag!==7?(y=Ud(b,v.mode,N,S),y.return=v,y):(y=a(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=tk(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case T1:return b=Wv(y.type,y.key,y.props,null,v.mode,b),b.ref=Dm(v,null,y),b.return=v,b;case bf:return y=rk(y,v.mode,b),y.return=v,y;case au:var N=y._init;return f(v,N(y._payload),b)}if(Jm(y)||Tm(y))return y=Ud(y,v.mode,b,null),y.return=v,y;U1(v,y)}return null}function h(v,y,b,N){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(v,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case T1:return b.key===S?c(v,y,b,N):null;case bf:return b.key===S?u(v,y,b,N):null;case au:return S=b._init,h(v,y,S(b._payload),N)}if(Jm(b)||Tm(b))return S!==null?null:d(v,y,b,N,null);U1(v,b)}return null}function m(v,y,b,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(b)||null,o(y,v,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case T1:return v=v.get(N.key===null?b:N.key)||null,c(y,v,N,S);case bf:return v=v.get(N.key===null?b:N.key)||null,u(y,v,N,S);case au:var A=N._init;return m(v,y,b,A(N._payload),S)}if(Jm(N)||Tm(N))return v=v.get(b)||null,d(y,v,N,S,null);U1(y,N)}return null}function p(v,y,b,N){for(var S=null,A=null,j=y,C=y=0,E=null;j!==null&&C<b.length;C++){j.index>C?(E=j,j=null):E=j.sibling;var F=h(v,j,b[C],N);if(F===null){j===null&&(j=E);break}e&&j&&F.alternate===null&&t(v,j),y=s(F,y,C),A===null?S=F:A.sibling=F,A=F,j=E}if(C===b.length)return r(v,j),Qr&&bd(v,C),S;if(j===null){for(;C<b.length;C++)j=f(v,b[C],N),j!==null&&(y=s(j,y,C),A===null?S=j:A.sibling=j,A=j);return Qr&&bd(v,C),S}for(j=n(v,j);C<b.length;C++)E=m(j,v,C,b[C],N),E!==null&&(e&&E.alternate!==null&&j.delete(E.key===null?C:E.key),y=s(E,y,C),A===null?S=E:A.sibling=E,A=E);return e&&j.forEach(function(O){return t(v,O)}),Qr&&bd(v,C),S}function g(v,y,b,N){var S=Tm(b);if(typeof S!="function")throw Error(nt(150));if(b=S.call(b),b==null)throw Error(nt(151));for(var A=S=null,j=y,C=y=0,E=null,F=b.next();j!==null&&!F.done;C++,F=b.next()){j.index>C?(E=j,j=null):E=j.sibling;var O=h(v,j,F.value,N);if(O===null){j===null&&(j=E);break}e&&j&&O.alternate===null&&t(v,j),y=s(O,y,C),A===null?S=O:A.sibling=O,A=O,j=E}if(F.done)return r(v,j),Qr&&bd(v,C),S;if(j===null){for(;!F.done;C++,F=b.next())F=f(v,F.value,N),F!==null&&(y=s(F,y,C),A===null?S=F:A.sibling=F,A=F);return Qr&&bd(v,C),S}for(j=n(v,j);!F.done;C++,F=b.next())F=m(j,v,C,F.value,N),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?C:F.key),y=s(F,y,C),A===null?S=F:A.sibling=F,A=F);return e&&j.forEach(function(T){return t(v,T)}),Qr&&bd(v,C),S}function x(v,y,b,N){if(typeof b=="object"&&b!==null&&b.type===wf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case T1:e:{for(var S=b.key,A=y;A!==null;){if(A.key===S){if(S=b.type,S===wf){if(A.tag===7){r(v,A.sibling),y=a(A,b.props.children),y.return=v,v=y;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===au&&BC(S)===A.type){r(v,A.sibling),y=a(A,b.props),y.ref=Dm(v,A,b),y.return=v,v=y;break e}r(v,A);break}else t(v,A);A=A.sibling}b.type===wf?(y=Ud(b.props.children,v.mode,N,b.key),y.return=v,v=y):(N=Wv(b.type,b.key,b.props,null,v.mode,N),N.ref=Dm(v,y,b),N.return=v,v=N)}return i(v);case bf:e:{for(A=b.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=a(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=rk(b,v.mode,N),y.return=v,v=y}return i(v);case au:return A=b._init,x(v,y,A(b._payload),N)}if(Jm(b))return p(v,y,b,N);if(Tm(b))return g(v,y,b,N);U1(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=a(y,b),y.return=v,v=y):(r(v,y),y=tk(b,v.mode,N),y.return=v,v=y),i(v)):r(v,y)}return x}var ah=LI(!0),FI=LI(!1),xy=Xu(null),vy=null,Cf=null,Y3=null;function X3(){Y3=Cf=vy=null}function Z3(e){var t=xy.current;Kr(xy),e._currentValue=t}function Q4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vf(e,t){vy=e,Y3=Cf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vs=!0),e.firstContext=null)}function io(e){var t=e._currentValue;if(Y3!==e)if(e={context:e,memoizedValue:t,next:null},Cf===null){if(vy===null)throw Error(nt(308));Cf=e,vy.dependencies={lanes:0,firstContext:e}}else Cf=Cf.next=e;return t}var Cd=null;function J3(e){Cd===null?Cd=[e]:Cd.push(e)}function DI(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,J3(t)):(r.next=a.next,a.next=r),t.interleaved=r,hc(e,n)}function hc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var su=!1;function Q3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function II(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ju(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,lr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,hc(e,r)}return a=n.interleaved,a===null?(t.next=t,J3(n)):(t.next=a.next,a.next=t),n.interleaved=t,hc(e,r)}function Mv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R3(e,r)}}function zC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yy(e,t,r,n){var a=e.updateQueue;su=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,o=s;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=dn({},f,h);break e;case 2:su=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);o0|=i,e.lanes=i,e.memoizedState=f}}function UC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(nt(191,a));a.call(n)}}}var Kg={},yl=Xu(Kg),Kp=Xu(Kg),Yp=Xu(Kg);function Td(e){if(e===Kg)throw Error(nt(174));return e}function ej(e,t){switch(zr(Yp,t),zr(Kp,e),zr(yl,Kg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:L4(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=L4(t,e)}Kr(yl),zr(yl,t)}function sh(){Kr(yl),Kr(Kp),Kr(Yp)}function MI(e){Td(Yp.current);var t=Td(yl.current),r=L4(t,e.type);t!==r&&(zr(Kp,e),zr(yl,r))}function tj(e){Kp.current===e&&(Kr(yl),Kr(Kp))}var sn=Xu(0);function by(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Y5=[];function rj(){for(var e=0;e<Y5.length;e++)Y5[e]._workInProgressVersionPrimary=null;Y5.length=0}var Rv=_c.ReactCurrentDispatcher,X5=_c.ReactCurrentBatchConfig,i0=0,un=null,aa=null,Sa=null,wy=!1,fp=!1,Xp=0,xX=0;function qa(){throw Error(nt(321))}function nj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wo(e[r],t[r]))return!1;return!0}function aj(e,t,r,n,a,s){if(i0=s,un=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rv.current=e===null||e.memoizedState===null?wX:kX,e=r(n,a),fp){s=0;do{if(fp=!1,Xp=0,25<=s)throw Error(nt(301));s+=1,Sa=aa=null,t.updateQueue=null,Rv.current=NX,e=r(n,a)}while(fp)}if(Rv.current=ky,t=aa!==null&&aa.next!==null,i0=0,Sa=aa=un=null,wy=!1,t)throw Error(nt(300));return e}function sj(){var e=Xp!==0;return Xp=0,e}function cl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sa===null?un.memoizedState=Sa=e:Sa=Sa.next=e,Sa}function oo(){if(aa===null){var e=un.alternate;e=e!==null?e.memoizedState:null}else e=aa.next;var t=Sa===null?un.memoizedState:Sa.next;if(t!==null)Sa=t,aa=e;else{if(e===null)throw Error(nt(310));aa=e,e={memoizedState:aa.memoizedState,baseState:aa.baseState,baseQueue:aa.baseQueue,queue:aa.queue,next:null},Sa===null?un.memoizedState=Sa=e:Sa=Sa.next=e}return Sa}function Zp(e,t){return typeof t=="function"?t(e):t}function Z5(e){var t=oo(),r=t.queue;if(r===null)throw Error(nt(311));r.lastRenderedReducer=e;var n=aa,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=i=null,c=null,u=s;do{var d=u.lane;if((i0&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,i=n):c=c.next=f,un.lanes|=d,o0|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=o,Wo(n,t.memoizedState)||(Vs=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,un.lanes|=s,o0|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function J5(e){var t=oo(),r=t.queue;if(r===null)throw Error(nt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Wo(s,t.memoizedState)||(Vs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function RI(){}function BI(e,t){var r=un,n=oo(),a=t(),s=!Wo(n.memoizedState,a);if(s&&(n.memoizedState=a,Vs=!0),n=n.queue,ij($I.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Sa!==null&&Sa.memoizedState.tag&1){if(r.flags|=2048,Jp(9,UI.bind(null,r,n,a,t),void 0,null),Ea===null)throw Error(nt(349));i0&30||zI(r,t,a)}return a}function zI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=un.updateQueue,t===null?(t={lastEffect:null,stores:null},un.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function UI(e,t,r,n){t.value=r,t.getSnapshot=n,WI(t)&&HI(e)}function $I(e,t,r){return r(function(){WI(t)&&HI(e)})}function WI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wo(e,r)}catch{return!0}}function HI(e){var t=hc(e,1);t!==null&&Ro(t,e,1,-1)}function $C(e){var t=cl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zp,lastRenderedState:e},t.queue=e,e=e.dispatch=bX.bind(null,un,e),[t.memoizedState,e]}function Jp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=un.updateQueue,t===null?(t={lastEffect:null,stores:null},un.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function VI(){return oo().memoizedState}function Bv(e,t,r,n){var a=cl();un.flags|=e,a.memoizedState=Jp(1|t,r,void 0,n===void 0?null:n)}function e2(e,t,r,n){var a=oo();n=n===void 0?null:n;var s=void 0;if(aa!==null){var i=aa.memoizedState;if(s=i.destroy,n!==null&&nj(n,i.deps)){a.memoizedState=Jp(t,r,s,n);return}}un.flags|=e,a.memoizedState=Jp(1|t,r,s,n)}function WC(e,t){return Bv(8390656,8,e,t)}function ij(e,t){return e2(2048,8,e,t)}function qI(e,t){return e2(4,2,e,t)}function GI(e,t){return e2(4,4,e,t)}function KI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YI(e,t,r){return r=r!=null?r.concat([e]):null,e2(4,4,KI.bind(null,t,e),r)}function oj(){}function XI(e,t){var r=oo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ZI(e,t){var r=oo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function JI(e,t,r){return i0&21?(Wo(r,t)||(r=nI(),un.lanes|=r,o0|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vs=!0),e.memoizedState=r)}function vX(e,t){var r=Er;Er=r!==0&&4>r?r:4,e(!0);var n=X5.transition;X5.transition={};try{e(!1),t()}finally{Er=r,X5.transition=n}}function QI(){return oo().memoizedState}function yX(e,t,r){var n=_u(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},eM(e))tM(t,r);else if(r=DI(e,t,r,n),r!==null){var a=Es();Ro(r,e,n,a),rM(r,t,n)}}function bX(e,t,r){var n=_u(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(eM(e))tM(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,Wo(o,i)){var c=t.interleaved;c===null?(a.next=a,J3(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=DI(e,t,a,n),r!==null&&(a=Es(),Ro(r,e,n,a),rM(r,t,n))}}function eM(e){var t=e.alternate;return e===un||t!==null&&t===un}function tM(e,t){fp=wy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R3(e,r)}}var ky={readContext:io,useCallback:qa,useContext:qa,useEffect:qa,useImperativeHandle:qa,useInsertionEffect:qa,useLayoutEffect:qa,useMemo:qa,useReducer:qa,useRef:qa,useState:qa,useDebugValue:qa,useDeferredValue:qa,useTransition:qa,useMutableSource:qa,useSyncExternalStore:qa,useId:qa,unstable_isNewReconciler:!1},wX={readContext:io,useCallback:function(e,t){return cl().memoizedState=[e,t===void 0?null:t],e},useContext:io,useEffect:WC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bv(4194308,4,KI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bv(4,2,e,t)},useMemo:function(e,t){var r=cl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yX.bind(null,un,e),[n.memoizedState,e]},useRef:function(e){var t=cl();return e={current:e},t.memoizedState=e},useState:$C,useDebugValue:oj,useDeferredValue:function(e){return cl().memoizedState=e},useTransition:function(){var e=$C(!1),t=e[0];return e=vX.bind(null,e[1]),cl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=un,a=cl();if(Qr){if(r===void 0)throw Error(nt(407));r=r()}else{if(r=t(),Ea===null)throw Error(nt(349));i0&30||zI(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,WC($I.bind(null,n,s,e),[e]),n.flags|=2048,Jp(9,UI.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=cl(),t=Ea.identifierPrefix;if(Qr){var r=tc,n=ec;r=(n&~(1<<32-Mo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=xX++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kX={readContext:io,useCallback:XI,useContext:io,useEffect:ij,useImperativeHandle:YI,useInsertionEffect:qI,useLayoutEffect:GI,useMemo:ZI,useReducer:Z5,useRef:VI,useState:function(){return Z5(Zp)},useDebugValue:oj,useDeferredValue:function(e){var t=oo();return JI(t,aa.memoizedState,e)},useTransition:function(){var e=Z5(Zp)[0],t=oo().memoizedState;return[e,t]},useMutableSource:RI,useSyncExternalStore:BI,useId:QI,unstable_isNewReconciler:!1},NX={readContext:io,useCallback:XI,useContext:io,useEffect:ij,useImperativeHandle:YI,useInsertionEffect:qI,useLayoutEffect:GI,useMemo:ZI,useReducer:J5,useRef:VI,useState:function(){return J5(Zp)},useDebugValue:oj,useDeferredValue:function(e){var t=oo();return aa===null?t.memoizedState=e:JI(t,aa.memoizedState,e)},useTransition:function(){var e=J5(Zp)[0],t=oo().memoizedState;return[e,t]},useMutableSource:RI,useSyncExternalStore:BI,useId:QI,unstable_isNewReconciler:!1};function Eo(e,t){if(e&&e.defaultProps){t=dn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function eN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var t2={isMounted:function(e){return(e=e._reactInternals)?j0(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Es(),a=_u(e),s=sc(n,a);s.payload=t,r!=null&&(s.callback=r),t=ju(e,s,a),t!==null&&(Ro(t,e,a,n),Mv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Es(),a=_u(e),s=sc(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ju(e,s,a),t!==null&&(Ro(t,e,a,n),Mv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Es(),n=_u(e),a=sc(r,n);a.tag=2,t!=null&&(a.callback=t),t=ju(e,a,n),t!==null&&(Ro(t,e,n,r),Mv(t,e,n))}};function HC(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Hp(r,n)||!Hp(a,s):!0}function nM(e,t,r){var n=!1,a=Fu,s=t.contextType;return typeof s=="object"&&s!==null?s=io(s):(a=Ys(t)?a0:fs.current,n=t.contextTypes,s=(n=n!=null)?rh(e,a):Fu),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=t2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function VC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&t2.enqueueReplaceState(t,t.state,null)}function tN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Q3(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=io(s):(s=Ys(t)?a0:fs.current,a.context=rh(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(eN(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&t2.enqueueReplaceState(a,a.state,null),yy(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ih(e,t){try{var r="",n=t;do r+=ZK(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Q5(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function rN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var SX=typeof WeakMap=="function"?WeakMap:Map;function aM(e,t,r){r=sc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Sy||(Sy=!0,fN=n),rN(e,t)},r}function sM(e,t,r){r=sc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){rN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){rN(e,t),typeof n!="function"&&(Au===null?Au=new Set([this]):Au.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function qC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new SX;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=RX.bind(null,e,t,r),t.then(e,e))}function GC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function KC(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sc(-1,1),t.tag=2,ju(r,t,1))),r.lanes|=1),e)}var jX=_c.ReactCurrentOwner,Vs=!1;function ks(e,t,r,n){t.child=e===null?FI(t,null,r,n):ah(t,e.child,r,n)}function YC(e,t,r,n,a){r=r.render;var s=t.ref;return Vf(t,a),n=aj(e,t,r,n,s,a),r=sj(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mc(e,t,a)):(Qr&&r&&q3(t),t.flags|=1,ks(e,t,n,a),t.child)}function XC(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!pj(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,iM(e,t,s,n,a)):(e=Wv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Hp,r(i,n)&&e.ref===t.ref)return mc(e,t,a)}return t.flags|=1,e=Eu(s,n),e.ref=t.ref,e.return=t,t.child=e}function iM(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Hp(s,n)&&e.ref===t.ref)if(Vs=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Vs=!0);else return t.lanes=e.lanes,mc(e,t,a)}return nN(e,t,r,n,a)}function oM(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(Pf,di),di|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zr(Pf,di),di|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,zr(Pf,di),di|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,zr(Pf,di),di|=n;return ks(e,t,a,r),t.child}function lM(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function nN(e,t,r,n,a){var s=Ys(r)?a0:fs.current;return s=rh(t,s),Vf(t,a),r=aj(e,t,r,n,s,a),n=sj(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mc(e,t,a)):(Qr&&n&&q3(t),t.flags|=1,ks(e,t,r,a),t.child)}function ZC(e,t,r,n,a){if(Ys(r)){var s=!0;my(t)}else s=!1;if(Vf(t,a),t.stateNode===null)zv(e,t),nM(t,r,n),tN(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=io(u):(u=Ys(r)?a0:fs.current,u=rh(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==u)&&VC(t,i,n,u),su=!1;var h=t.memoizedState;i.state=h,yy(t,n,i,a),c=t.memoizedState,o!==n||h!==c||Ks.current||su?(typeof d=="function"&&(eN(t,r,d,n),c=t.memoizedState),(o=su||HC(t,r,o,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,II(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Eo(t.type,o),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=io(c):(c=Ys(r)?a0:fs.current,c=rh(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==c)&&VC(t,i,n,c),su=!1,h=t.memoizedState,i.state=h,yy(t,n,i,a);var p=t.memoizedState;o!==f||h!==p||Ks.current||su?(typeof m=="function"&&(eN(t,r,m,n),p=t.memoizedState),(u=su||HC(t,r,u,n,h,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return aN(e,t,r,n,s,a)}function aN(e,t,r,n,a,s){lM(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&IC(t,r,!1),mc(e,t,s);n=t.stateNode,jX.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ah(t,e.child,null,s),t.child=ah(t,null,o,s)):ks(e,t,o,s),t.memoizedState=n.state,a&&IC(t,r,!0),t.child}function cM(e){var t=e.stateNode;t.pendingContext?DC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&DC(e,t.context,!1),ej(e,t.containerInfo)}function JC(e,t,r,n,a){return nh(),K3(a),t.flags|=256,ks(e,t,r,n),t.child}var sN={dehydrated:null,treeContext:null,retryLane:0};function iN(e){return{baseLanes:e,cachePool:null,transitions:null}}function uM(e,t,r){var n=t.pendingProps,a=sn.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),zr(sn,a&1),e===null)return J4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=a2(i,n,0,null),e=Ud(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=iN(r),t.memoizedState=sN,e):lj(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return AX(e,t,i,n,o,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Eu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=Eu(o,s):(s=Ud(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?iN(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=sN,n}return s=e.child,e=s.sibling,n=Eu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lj(e,t){return t=a2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $1(e,t,r,n){return n!==null&&K3(n),ah(t,e.child,null,r),e=lj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AX(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Q5(Error(nt(422))),$1(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=a2({mode:"visible",children:n.children},a,0,null),s=Ud(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ah(t,e.child,null,i),t.child.memoizedState=iN(i),t.memoizedState=sN,s);if(!(t.mode&1))return $1(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(nt(419)),n=Q5(s,n,void 0),$1(e,t,i,n)}if(o=(i&e.childLanes)!==0,Vs||o){if(n=Ea,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,hc(e,a),Ro(n,e,a,-1))}return mj(),n=Q5(Error(nt(421))),$1(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=BX.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,vi=Su(a.nextSibling),wi=t,Qr=!0,Po=null,e!==null&&(Ji[Qi++]=ec,Ji[Qi++]=tc,Ji[Qi++]=s0,ec=e.id,tc=e.overflow,s0=t),t=lj(t,n.children),t.flags|=4096,t)}function QC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Q4(e.return,t,r)}function ek(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function dM(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(ks(e,t,n.children,r),n=sn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&QC(e,r,t);else if(e.tag===19)QC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zr(sn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&by(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ek(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&by(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ek(t,!0,r,null,s);break;case"together":ek(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),o0|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(nt(153));if(t.child!==null){for(e=t.child,r=Eu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Eu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _X(e,t,r){switch(t.tag){case 3:cM(t),nh();break;case 5:MI(t);break;case 1:Ys(t.type)&&my(t);break;case 4:ej(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;zr(xy,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zr(sn,sn.current&1),t.flags|=128,null):r&t.child.childLanes?uM(e,t,r):(zr(sn,sn.current&1),e=mc(e,t,r),e!==null?e.sibling:null);zr(sn,sn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return dM(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zr(sn,sn.current),n)break;return null;case 22:case 23:return t.lanes=0,oM(e,t,r)}return mc(e,t,r)}var fM,oN,hM,mM;fM=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};oN=function(){};hM=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Td(yl.current);var s=null;switch(r){case"input":a=C4(e,a),n=C4(e,n),s=[];break;case"select":a=dn({},a,{value:void 0}),n=dn({},n,{value:void 0}),s=[];break;case"textarea":a=O4(e,a),n=O4(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fy)}F4(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Hr("scroll",e),s||o===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};mM=function(e,t,r,n){r!==n&&(t.flags|=4)};function Im(e,t){if(!Qr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ga(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function EX(e,t,r){var n=t.pendingProps;switch(G3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:return Ys(t.type)&&hy(),Ga(t),null;case 3:return n=t.stateNode,sh(),Kr(Ks),Kr(fs),rj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(z1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Po!==null&&(pN(Po),Po=null))),oN(e,t),Ga(t),null;case 5:tj(t);var a=Td(Yp.current);if(r=t.type,e!==null&&t.stateNode!=null)hM(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(nt(166));return Ga(t),null}if(e=Td(yl.current),z1(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[fl]=t,n[Gp]=s,e=(t.mode&1)!==0,r){case"dialog":Hr("cancel",n),Hr("close",n);break;case"iframe":case"object":case"embed":Hr("load",n);break;case"video":case"audio":for(a=0;a<ep.length;a++)Hr(ep[a],n);break;case"source":Hr("error",n);break;case"img":case"image":case"link":Hr("error",n),Hr("load",n);break;case"details":Hr("toggle",n);break;case"input":lC(n,s),Hr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Hr("invalid",n);break;case"textarea":uC(n,s),Hr("invalid",n)}F4(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&B1(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&B1(n.textContent,o,e),a=["children",""+o]):Mp.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Hr("scroll",n)}switch(r){case"input":P1(n),cC(n,s,!0);break;case"textarea":P1(n),dC(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=fy)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$D(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[fl]=t,e[Gp]=n,fM(e,t,!1,!1),t.stateNode=e;e:{switch(i=D4(r,n),r){case"dialog":Hr("cancel",e),Hr("close",e),a=n;break;case"iframe":case"object":case"embed":Hr("load",e),a=n;break;case"video":case"audio":for(a=0;a<ep.length;a++)Hr(ep[a],e);a=n;break;case"source":Hr("error",e),a=n;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),a=n;break;case"details":Hr("toggle",e),a=n;break;case"input":lC(e,n),a=C4(e,n),Hr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=dn({},n,{value:void 0}),Hr("invalid",e);break;case"textarea":uC(e,n),a=O4(e,n),Hr("invalid",e);break;default:a=n}F4(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?VD(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&WD(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Rp(e,c):typeof c=="number"&&Rp(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Hr("scroll",e):c!=null&&O3(e,s,c,i))}switch(r){case"input":P1(e),cC(e,n,!1);break;case"textarea":P1(e),dC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Lu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Uf(e,!!n.multiple,s,!1):n.defaultValue!=null&&Uf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=fy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&t.stateNode!=null)mM(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(nt(166));if(r=Td(Yp.current),Td(yl.current),z1(t)){if(n=t.stateNode,r=t.memoizedProps,n[fl]=t,(s=n.nodeValue!==r)&&(e=wi,e!==null))switch(e.tag){case 3:B1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&B1(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fl]=t,t.stateNode=n}return Ga(t),null;case 13:if(Kr(sn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qr&&vi!==null&&t.mode&1&&!(t.flags&128))OI(),nh(),t.flags|=98560,s=!1;else if(s=z1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(nt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(nt(317));s[fl]=t}else nh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else Po!==null&&(pN(Po),Po=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||sn.current&1?la===0&&(la=3):mj())),t.updateQueue!==null&&(t.flags|=4),Ga(t),null);case 4:return sh(),oN(e,t),e===null&&Vp(t.stateNode.containerInfo),Ga(t),null;case 10:return Z3(t.type._context),Ga(t),null;case 17:return Ys(t.type)&&hy(),Ga(t),null;case 19:if(Kr(sn),s=t.memoizedState,s===null)return Ga(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Im(s,!1);else{if(la!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=by(e),i!==null){for(t.flags|=128,Im(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zr(sn,sn.current&1|2),t.child}e=e.sibling}s.tail!==null&&On()>oh&&(t.flags|=128,n=!0,Im(s,!1),t.lanes=4194304)}else{if(!n)if(e=by(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Im(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Qr)return Ga(t),null}else 2*On()-s.renderingStartTime>oh&&r!==1073741824&&(t.flags|=128,n=!0,Im(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=On(),t.sibling=null,r=sn.current,zr(sn,n?r&1|2:r&1),t):(Ga(t),null);case 22:case 23:return hj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?di&1073741824&&(Ga(t),t.subtreeFlags&6&&(t.flags|=8192)):Ga(t),null;case 24:return null;case 25:return null}throw Error(nt(156,t.tag))}function CX(e,t){switch(G3(t),t.tag){case 1:return Ys(t.type)&&hy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sh(),Kr(Ks),Kr(fs),rj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tj(t),null;case 13:if(Kr(sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(nt(340));nh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kr(sn),null;case 4:return sh(),null;case 10:return Z3(t.type._context),null;case 22:case 23:return hj(),null;case 24:return null;default:return null}}var W1=!1,rs=!1,TX=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Tf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yn(e,t,n)}else r.current=null}function lN(e,t,r){try{r()}catch(n){yn(e,t,n)}}var eT=!1;function PX(e,t){if(V4=cy,e=yI(),V3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=i),h===s&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(q4={focusedElem:e,selectionRange:r},cy=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,x=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Eo(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(N){yn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return p=eT,eT=!1,p}function hp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&lN(t,r,s)}a=a.next}while(a!==n)}}function r2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function cN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pM(e){var t=e.alternate;t!==null&&(e.alternate=null,pM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fl],delete t[Gp],delete t[Y4],delete t[hX],delete t[mX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gM(e){return e.tag===5||e.tag===3||e.tag===4}function tT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fy));else if(n!==4&&(e=e.child,e!==null))for(uN(e,t,r),e=e.sibling;e!==null;)uN(e,t,r),e=e.sibling}function dN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(dN(e,t,r),e=e.sibling;e!==null;)dN(e,t,r),e=e.sibling}var Ia=null,To=!1;function Qc(e,t,r){for(r=r.child;r!==null;)xM(e,t,r),r=r.sibling}function xM(e,t,r){if(vl&&typeof vl.onCommitFiberUnmount=="function")try{vl.onCommitFiberUnmount(Kb,r)}catch{}switch(r.tag){case 5:rs||Tf(r,t);case 6:var n=Ia,a=To;Ia=null,Qc(e,t,r),Ia=n,To=a,Ia!==null&&(To?(e=Ia,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ia.removeChild(r.stateNode));break;case 18:Ia!==null&&(To?(e=Ia,r=r.stateNode,e.nodeType===8?G5(e.parentNode,r):e.nodeType===1&&G5(e,r),$p(e)):G5(Ia,r.stateNode));break;case 4:n=Ia,a=To,Ia=r.stateNode.containerInfo,To=!0,Qc(e,t,r),Ia=n,To=a;break;case 0:case 11:case 14:case 15:if(!rs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&lN(r,t,i),a=a.next}while(a!==n)}Qc(e,t,r);break;case 1:if(!rs&&(Tf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){yn(r,t,o)}Qc(e,t,r);break;case 21:Qc(e,t,r);break;case 22:r.mode&1?(rs=(n=rs)||r.memoizedState!==null,Qc(e,t,r),rs=n):Qc(e,t,r);break;default:Qc(e,t,r)}}function rT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new TX),t.forEach(function(n){var a=zX.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function No(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ia=o.stateNode,To=!1;break e;case 3:Ia=o.stateNode.containerInfo,To=!0;break e;case 4:Ia=o.stateNode.containerInfo,To=!0;break e}o=o.return}if(Ia===null)throw Error(nt(160));xM(s,i,a),Ia=null,To=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){yn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vM(t,e),t=t.sibling}function vM(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(No(t,e),rl(e),n&4){try{hp(3,e,e.return),r2(3,e)}catch(g){yn(e,e.return,g)}try{hp(5,e,e.return)}catch(g){yn(e,e.return,g)}}break;case 1:No(t,e),rl(e),n&512&&r!==null&&Tf(r,r.return);break;case 5:if(No(t,e),rl(e),n&512&&r!==null&&Tf(r,r.return),e.flags&32){var a=e.stateNode;try{Rp(a,"")}catch(g){yn(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&zD(a,s),D4(o,i);var u=D4(o,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?VD(a,f):d==="dangerouslySetInnerHTML"?WD(a,f):d==="children"?Rp(a,f):O3(a,d,f,u)}switch(o){case"input":T4(a,s);break;case"textarea":UD(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Uf(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Uf(a,!!s.multiple,s.defaultValue,!0):Uf(a,!!s.multiple,s.multiple?[]:"",!1))}a[Gp]=s}catch(g){yn(e,e.return,g)}}break;case 6:if(No(t,e),rl(e),n&4){if(e.stateNode===null)throw Error(nt(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){yn(e,e.return,g)}}break;case 3:if(No(t,e),rl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$p(t.containerInfo)}catch(g){yn(e,e.return,g)}break;case 4:No(t,e),rl(e);break;case 13:No(t,e),rl(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(dj=On())),n&4&&rT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(rs=(u=rs)||d,No(t,e),rs=u):No(t,e),rl(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(vt=e,d=e.child;d!==null;){for(f=vt=d;vt!==null;){switch(h=vt,m=h.child,h.tag){case 0:case 11:case 14:case 15:hp(4,h,h.return);break;case 1:Tf(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){yn(n,r,g)}}break;case 5:Tf(h,h.return);break;case 22:if(h.memoizedState!==null){aT(f);continue}}m!==null?(m.return=h,vt=m):aT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=HD("display",i))}catch(g){yn(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){yn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:No(t,e),rl(e),n&4&&rT(e);break;case 21:break;default:No(t,e),rl(e)}}function rl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gM(r)){var n=r;break e}r=r.return}throw Error(nt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Rp(a,""),n.flags&=-33);var s=tT(e);dN(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=tT(e);uN(e,o,i);break;default:throw Error(nt(161))}}catch(c){yn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OX(e,t,r){vt=e,yM(e)}function yM(e,t,r){for(var n=(e.mode&1)!==0;vt!==null;){var a=vt,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||W1;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||rs;o=W1;var u=rs;if(W1=i,(rs=c)&&!u)for(vt=a;vt!==null;)i=vt,c=i.child,i.tag===22&&i.memoizedState!==null?sT(a):c!==null?(c.return=i,vt=c):sT(a);for(;s!==null;)vt=s,yM(s),s=s.sibling;vt=a,W1=o,rs=u}nT(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,vt=s):nT(e)}}function nT(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rs||r2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rs)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Eo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&UC(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}UC(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$p(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}rs||t.flags&512&&cN(t)}catch(h){yn(t,t.return,h)}}if(t===e){vt=null;break}if(r=t.sibling,r!==null){r.return=t.return,vt=r;break}vt=t.return}}function aT(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,vt=r;break}vt=t.return}}function sT(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{r2(4,t)}catch(c){yn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){yn(t,a,c)}}var s=t.return;try{cN(t)}catch(c){yn(t,s,c)}break;case 5:var i=t.return;try{cN(t)}catch(c){yn(t,i,c)}}}catch(c){yn(t,t.return,c)}if(t===e){vt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,vt=o;break}vt=t.return}}var LX=Math.ceil,Ny=_c.ReactCurrentDispatcher,cj=_c.ReactCurrentOwner,no=_c.ReactCurrentBatchConfig,lr=0,Ea=null,Xn=null,Ua=0,di=0,Pf=Xu(0),la=0,Qp=null,o0=0,n2=0,uj=0,mp=null,Ws=null,dj=0,oh=1/0,Yl=null,Sy=!1,fN=null,Au=null,H1=!1,mu=null,jy=0,pp=0,hN=null,Uv=-1,$v=0;function Es(){return lr&6?On():Uv!==-1?Uv:Uv=On()}function _u(e){return e.mode&1?lr&2&&Ua!==0?Ua&-Ua:gX.transition!==null?($v===0&&($v=nI()),$v):(e=Er,e!==0||(e=window.event,e=e===void 0?16:uI(e.type)),e):1}function Ro(e,t,r,n){if(50<pp)throw pp=0,hN=null,Error(nt(185));Vg(e,r,n),(!(lr&2)||e!==Ea)&&(e===Ea&&(!(lr&2)&&(n2|=r),la===4&&cu(e,Ua)),Xs(e,n),r===1&&lr===0&&!(t.mode&1)&&(oh=On()+500,Qb&&Zu()))}function Xs(e,t){var r=e.callbackNode;gY(e,t);var n=ly(e,e===Ea?Ua:0);if(n===0)r!==null&&mC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mC(r),t===1)e.tag===0?pX(iT.bind(null,e)):CI(iT.bind(null,e)),dX(function(){!(lr&6)&&Zu()}),r=null;else{switch(aI(n)){case 1:r=M3;break;case 4:r=tI;break;case 16:r=oy;break;case 536870912:r=rI;break;default:r=oy}r=_M(r,bM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bM(e,t){if(Uv=-1,$v=0,lr&6)throw Error(nt(327));var r=e.callbackNode;if(qf()&&e.callbackNode!==r)return null;var n=ly(e,e===Ea?Ua:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ay(e,n);else{t=n;var a=lr;lr|=2;var s=kM();(Ea!==e||Ua!==t)&&(Yl=null,oh=On()+500,zd(e,t));do try{IX();break}catch(o){wM(e,o)}while(!0);X3(),Ny.current=s,lr=a,Xn!==null?t=0:(Ea=null,Ua=0,t=la)}if(t!==0){if(t===2&&(a=z4(e),a!==0&&(n=a,t=mN(e,a))),t===1)throw r=Qp,zd(e,0),cu(e,n),Xs(e,On()),r;if(t===6)cu(e,n);else{if(a=e.current.alternate,!(n&30)&&!FX(a)&&(t=Ay(e,n),t===2&&(s=z4(e),s!==0&&(n=s,t=mN(e,s))),t===1))throw r=Qp,zd(e,0),cu(e,n),Xs(e,On()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(nt(345));case 2:wd(e,Ws,Yl);break;case 3:if(cu(e,n),(n&130023424)===n&&(t=dj+500-On(),10<t)){if(ly(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Es(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=K4(wd.bind(null,e,Ws,Yl),t);break}wd(e,Ws,Yl);break;case 4:if(cu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Mo(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=On()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LX(n/1960))-n,10<n){e.timeoutHandle=K4(wd.bind(null,e,Ws,Yl),n);break}wd(e,Ws,Yl);break;case 5:wd(e,Ws,Yl);break;default:throw Error(nt(329))}}}return Xs(e,On()),e.callbackNode===r?bM.bind(null,e):null}function mN(e,t){var r=mp;return e.current.memoizedState.isDehydrated&&(zd(e,t).flags|=256),e=Ay(e,t),e!==2&&(t=Ws,Ws=r,t!==null&&pN(t)),e}function pN(e){Ws===null?Ws=e:Ws.push.apply(Ws,e)}function FX(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Wo(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cu(e,t){for(t&=~uj,t&=~n2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mo(t),n=1<<r;e[r]=-1,t&=~n}}function iT(e){if(lr&6)throw Error(nt(327));qf();var t=ly(e,0);if(!(t&1))return Xs(e,On()),null;var r=Ay(e,t);if(e.tag!==0&&r===2){var n=z4(e);n!==0&&(t=n,r=mN(e,n))}if(r===1)throw r=Qp,zd(e,0),cu(e,t),Xs(e,On()),r;if(r===6)throw Error(nt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wd(e,Ws,Yl),Xs(e,On()),null}function fj(e,t){var r=lr;lr|=1;try{return e(t)}finally{lr=r,lr===0&&(oh=On()+500,Qb&&Zu())}}function l0(e){mu!==null&&mu.tag===0&&!(lr&6)&&qf();var t=lr;lr|=1;var r=no.transition,n=Er;try{if(no.transition=null,Er=1,e)return e()}finally{Er=n,no.transition=r,lr=t,!(lr&6)&&Zu()}}function hj(){di=Pf.current,Kr(Pf)}function zd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uX(r)),Xn!==null)for(r=Xn.return;r!==null;){var n=r;switch(G3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hy();break;case 3:sh(),Kr(Ks),Kr(fs),rj();break;case 5:tj(n);break;case 4:sh();break;case 13:Kr(sn);break;case 19:Kr(sn);break;case 10:Z3(n.type._context);break;case 22:case 23:hj()}r=r.return}if(Ea=e,Xn=e=Eu(e.current,null),Ua=di=t,la=0,Qp=null,uj=n2=o0=0,Ws=mp=null,Cd!==null){for(t=0;t<Cd.length;t++)if(r=Cd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Cd=null}return e}function wM(e,t){do{var r=Xn;try{if(X3(),Rv.current=ky,wy){for(var n=un.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}wy=!1}if(i0=0,Sa=aa=un=null,fp=!1,Xp=0,cj.current=null,r===null||r.return===null){la=1,Qp=t,Xn=null;break}e:{var s=e,i=r.return,o=r,c=t;if(t=Ua,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=GC(i);if(m!==null){m.flags&=-257,KC(m,i,o,s,t),m.mode&1&&qC(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){qC(s,u,t),mj();break e}c=Error(nt(426))}}else if(Qr&&o.mode&1){var x=GC(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),KC(x,i,o,s,t),K3(ih(c,o));break e}}s=c=ih(c,o),la!==4&&(la=2),mp===null?mp=[s]:mp.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=aM(s,c,t);zC(s,v);break e;case 1:o=c;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Au===null||!Au.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=sM(s,o,t);zC(s,N);break e}}s=s.return}while(s!==null)}SM(r)}catch(S){t=S,Xn===r&&r!==null&&(Xn=r=r.return);continue}break}while(!0)}function kM(){var e=Ny.current;return Ny.current=ky,e===null?ky:e}function mj(){(la===0||la===3||la===2)&&(la=4),Ea===null||!(o0&268435455)&&!(n2&268435455)||cu(Ea,Ua)}function Ay(e,t){var r=lr;lr|=2;var n=kM();(Ea!==e||Ua!==t)&&(Yl=null,zd(e,t));do try{DX();break}catch(a){wM(e,a)}while(!0);if(X3(),lr=r,Ny.current=n,Xn!==null)throw Error(nt(261));return Ea=null,Ua=0,la}function DX(){for(;Xn!==null;)NM(Xn)}function IX(){for(;Xn!==null&&!oY();)NM(Xn)}function NM(e){var t=AM(e.alternate,e,di);e.memoizedProps=e.pendingProps,t===null?SM(e):Xn=t,cj.current=null}function SM(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=CX(r,t),r!==null){r.flags&=32767,Xn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{la=6,Xn=null;return}}else if(r=EX(r,t,di),r!==null){Xn=r;return}if(t=t.sibling,t!==null){Xn=t;return}Xn=t=e}while(t!==null);la===0&&(la=5)}function wd(e,t,r){var n=Er,a=no.transition;try{no.transition=null,Er=1,MX(e,t,r,n)}finally{no.transition=a,Er=n}return null}function MX(e,t,r,n){do qf();while(mu!==null);if(lr&6)throw Error(nt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(nt(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(xY(e,s),e===Ea&&(Xn=Ea=null,Ua=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||H1||(H1=!0,_M(oy,function(){return qf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=no.transition,no.transition=null;var i=Er;Er=1;var o=lr;lr|=4,cj.current=null,PX(e,r),vM(r,e),nX(q4),cy=!!V4,q4=V4=null,e.current=r,OX(r),lY(),lr=o,Er=i,no.transition=s}else e.current=r;if(H1&&(H1=!1,mu=e,jy=a),s=e.pendingLanes,s===0&&(Au=null),dY(r.stateNode),Xs(e,On()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Sy)throw Sy=!1,e=fN,fN=null,e;return jy&1&&e.tag!==0&&qf(),s=e.pendingLanes,s&1?e===hN?pp++:(pp=0,hN=e):pp=0,Zu(),null}function qf(){if(mu!==null){var e=aI(jy),t=no.transition,r=Er;try{if(no.transition=null,Er=16>e?16:e,mu===null)var n=!1;else{if(e=mu,mu=null,jy=0,lr&6)throw Error(nt(331));var a=lr;for(lr|=4,vt=e.current;vt!==null;){var s=vt,i=s.child;if(vt.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(vt=u;vt!==null;){var d=vt;switch(d.tag){case 0:case 11:case 15:hp(8,d,s)}var f=d.child;if(f!==null)f.return=d,vt=f;else for(;vt!==null;){d=vt;var h=d.sibling,m=d.return;if(pM(d),d===u){vt=null;break}if(h!==null){h.return=m,vt=h;break}vt=m}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}vt=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,vt=i;else e:for(;vt!==null;){if(s=vt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hp(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,vt=v;break e}vt=s.return}}var y=e.current;for(vt=y;vt!==null;){i=vt;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,vt=b;else e:for(i=y;vt!==null;){if(o=vt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:r2(9,o)}}catch(S){yn(o,o.return,S)}if(o===i){vt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,vt=N;break e}vt=o.return}}if(lr=a,Zu(),vl&&typeof vl.onPostCommitFiberRoot=="function")try{vl.onPostCommitFiberRoot(Kb,e)}catch{}n=!0}return n}finally{Er=r,no.transition=t}}return!1}function oT(e,t,r){t=ih(r,t),t=aM(e,t,1),e=ju(e,t,1),t=Es(),e!==null&&(Vg(e,1,t),Xs(e,t))}function yn(e,t,r){if(e.tag===3)oT(e,e,r);else for(;t!==null;){if(t.tag===3){oT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Au===null||!Au.has(n))){e=ih(r,e),e=sM(t,e,1),t=ju(t,e,1),e=Es(),t!==null&&(Vg(t,1,e),Xs(t,e));break}}t=t.return}}function RX(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Es(),e.pingedLanes|=e.suspendedLanes&r,Ea===e&&(Ua&r)===r&&(la===4||la===3&&(Ua&130023424)===Ua&&500>On()-dj?zd(e,0):uj|=r),Xs(e,t)}function jM(e,t){t===0&&(e.mode&1?(t=F1,F1<<=1,!(F1&130023424)&&(F1=4194304)):t=1);var r=Es();e=hc(e,t),e!==null&&(Vg(e,t,r),Xs(e,r))}function BX(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jM(e,r)}function zX(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(nt(314))}n!==null&&n.delete(t),jM(e,r)}var AM;AM=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ks.current)Vs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vs=!1,_X(e,t,r);Vs=!!(e.flags&131072)}else Vs=!1,Qr&&t.flags&1048576&&TI(t,gy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zv(e,t),e=t.pendingProps;var a=rh(t,fs.current);Vf(t,r),a=aj(null,t,n,e,a,r);var s=sj();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ys(n)?(s=!0,my(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Q3(t),a.updater=t2,t.stateNode=a,a._reactInternals=t,tN(t,n,e,r),t=aN(null,t,n,!0,s,r)):(t.tag=0,Qr&&s&&q3(t),ks(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=$X(n),e=Eo(n,e),a){case 0:t=nN(null,t,n,e,r);break e;case 1:t=ZC(null,t,n,e,r);break e;case 11:t=YC(null,t,n,e,r);break e;case 14:t=XC(null,t,n,Eo(n.type,e),r);break e}throw Error(nt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Eo(n,a),nN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Eo(n,a),ZC(e,t,n,a,r);case 3:e:{if(cM(t),e===null)throw Error(nt(387));n=t.pendingProps,s=t.memoizedState,a=s.element,II(e,t),yy(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=ih(Error(nt(423)),t),t=JC(e,t,n,r,a);break e}else if(n!==a){a=ih(Error(nt(424)),t),t=JC(e,t,n,r,a);break e}else for(vi=Su(t.stateNode.containerInfo.firstChild),wi=t,Qr=!0,Po=null,r=FI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nh(),n===a){t=mc(e,t,r);break e}ks(e,t,n,r)}t=t.child}return t;case 5:return MI(t),e===null&&J4(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,G4(n,a)?i=null:s!==null&&G4(n,s)&&(t.flags|=32),lM(e,t),ks(e,t,i,r),t.child;case 6:return e===null&&J4(t),null;case 13:return uM(e,t,r);case 4:return ej(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ah(t,null,n,r):ks(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Eo(n,a),YC(e,t,n,a,r);case 7:return ks(e,t,t.pendingProps,r),t.child;case 8:return ks(e,t,t.pendingProps.children,r),t.child;case 12:return ks(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,zr(xy,n._currentValue),n._currentValue=i,s!==null)if(Wo(s.value,i)){if(s.children===a.children&&!Ks.current){t=mc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=sc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Q4(s.return,r,t),o.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(nt(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Q4(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}ks(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Vf(t,r),a=io(a),n=n(a),t.flags|=1,ks(e,t,n,r),t.child;case 14:return n=t.type,a=Eo(n,t.pendingProps),a=Eo(n.type,a),XC(e,t,n,a,r);case 15:return iM(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Eo(n,a),zv(e,t),t.tag=1,Ys(n)?(e=!0,my(t)):e=!1,Vf(t,r),nM(t,n,a),tN(t,n,a,r),aN(null,t,n,!0,e,r);case 19:return dM(e,t,r);case 22:return oM(e,t,r)}throw Error(nt(156,t.tag))};function _M(e,t){return eI(e,t)}function UX(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(e,t,r,n){return new UX(e,t,r,n)}function pj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $X(e){if(typeof e=="function")return pj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===F3)return 11;if(e===D3)return 14}return 2}function Eu(e,t){var r=e.alternate;return r===null?(r=eo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wv(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")pj(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case wf:return Ud(r.children,a,s,t);case L3:i=8,a|=8;break;case j4:return e=eo(12,r,t,a|2),e.elementType=j4,e.lanes=s,e;case A4:return e=eo(13,r,t,a),e.elementType=A4,e.lanes=s,e;case _4:return e=eo(19,r,t,a),e.elementType=_4,e.lanes=s,e;case MD:return a2(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DD:i=10;break e;case ID:i=9;break e;case F3:i=11;break e;case D3:i=14;break e;case au:i=16,n=null;break e}throw Error(nt(130,e==null?e:typeof e,""))}return t=eo(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Ud(e,t,r,n){return e=eo(7,e,n,t),e.lanes=r,e}function a2(e,t,r,n){return e=eo(22,e,n,t),e.elementType=MD,e.lanes=r,e.stateNode={isHidden:!1},e}function tk(e,t,r){return e=eo(6,e,null,t),e.lanes=r,e}function rk(e,t,r){return t=eo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WX(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I5(0),this.expirationTimes=I5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I5(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function gj(e,t,r,n,a,s,i,o,c){return e=new WX(e,t,r,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=eo(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q3(s),e}function HX(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function EM(e){if(!e)return Fu;e=e._reactInternals;e:{if(j0(e)!==e||e.tag!==1)throw Error(nt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ys(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(nt(171))}if(e.tag===1){var r=e.type;if(Ys(r))return EI(e,r,t)}return t}function CM(e,t,r,n,a,s,i,o,c){return e=gj(r,n,!0,e,a,s,i,o,c),e.context=EM(null),r=e.current,n=Es(),a=_u(r),s=sc(n,a),s.callback=t??null,ju(r,s,a),e.current.lanes=a,Vg(e,a,n),Xs(e,n),e}function s2(e,t,r,n){var a=t.current,s=Es(),i=_u(a);return r=EM(r),t.context===null?t.context=r:t.pendingContext=r,t=sc(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ju(a,t,i),e!==null&&(Ro(e,a,i,s),Mv(e,a,i)),i}function _y(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xj(e,t){lT(e,t),(e=e.alternate)&&lT(e,t)}function VX(){return null}var TM=typeof reportError=="function"?reportError:function(e){console.error(e)};function vj(e){this._internalRoot=e}i2.prototype.render=vj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(nt(409));s2(e,t,null,null)};i2.prototype.unmount=vj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;l0(function(){s2(null,e,null,null)}),t[fc]=null}};function i2(e){this._internalRoot=e}i2.prototype.unstable_scheduleHydration=function(e){if(e){var t=oI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<lu.length&&t!==0&&t<lu[r].priority;r++);lu.splice(r,0,e),r===0&&cI(e)}};function yj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cT(){}function qX(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=_y(i);s.call(u)}}var i=CM(t,n,e,0,null,!1,!1,"",cT);return e._reactRootContainer=i,e[fc]=i.current,Vp(e.nodeType===8?e.parentNode:e),l0(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=_y(c);o.call(u)}}var c=gj(e,0,!1,null,null,!1,!1,"",cT);return e._reactRootContainer=c,e[fc]=c.current,Vp(e.nodeType===8?e.parentNode:e),l0(function(){s2(t,c,r,n)}),c}function l2(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var o=a;a=function(){var c=_y(i);o.call(c)}}s2(t,i,e,a)}else i=qX(r,t,e,a,n);return _y(i)}sI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qm(t.pendingLanes);r!==0&&(R3(t,r|1),Xs(t,On()),!(lr&6)&&(oh=On()+500,Zu()))}break;case 13:l0(function(){var n=hc(e,1);if(n!==null){var a=Es();Ro(n,e,1,a)}}),xj(e,1)}};B3=function(e){if(e.tag===13){var t=hc(e,134217728);if(t!==null){var r=Es();Ro(t,e,134217728,r)}xj(e,134217728)}};iI=function(e){if(e.tag===13){var t=_u(e),r=hc(e,t);if(r!==null){var n=Es();Ro(r,e,t,n)}xj(e,t)}};oI=function(){return Er};lI=function(e,t){var r=Er;try{return Er=e,t()}finally{Er=r}};M4=function(e,t,r){switch(t){case"input":if(T4(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Jb(n);if(!a)throw Error(nt(90));BD(n),T4(n,a)}}}break;case"textarea":UD(e,r);break;case"select":t=r.value,t!=null&&Uf(e,!!r.multiple,t,!1)}};KD=fj;YD=l0;var GX={usingClientEntryPoint:!1,Events:[Gg,jf,Jb,qD,GD,fj]},Mm={findFiberByHostInstance:Ed,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KX={bundleType:Mm.bundleType,version:Mm.version,rendererPackageName:Mm.rendererPackageName,rendererConfig:Mm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_c.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=JD(e),e===null?null:e.stateNode},findFiberByHostInstance:Mm.findFiberByHostInstance||VX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var V1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!V1.isDisabled&&V1.supportsFiber)try{Kb=V1.inject(KX),vl=V1}catch{}}Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GX;Ci.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yj(t))throw Error(nt(200));return HX(e,t,null,r)};Ci.createRoot=function(e,t){if(!yj(e))throw Error(nt(299));var r=!1,n="",a=TM;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=gj(e,1,!1,null,null,r,!1,n,a),e[fc]=t.current,Vp(e.nodeType===8?e.parentNode:e),new vj(t)};Ci.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(nt(188)):(e=Object.keys(e).join(","),Error(nt(268,e)));return e=JD(t),e=e===null?null:e.stateNode,e};Ci.flushSync=function(e){return l0(e)};Ci.hydrate=function(e,t,r){if(!o2(t))throw Error(nt(200));return l2(null,e,t,!0,r)};Ci.hydrateRoot=function(e,t,r){if(!yj(e))throw Error(nt(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=TM;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=CM(t,null,e,1,r??null,a,!1,s,i),e[fc]=t.current,Vp(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new i2(t)};Ci.render=function(e,t,r){if(!o2(t))throw Error(nt(200));return l2(null,e,t,!1,r)};Ci.unmountComponentAtNode=function(e){if(!o2(e))throw Error(nt(40));return e._reactRootContainer?(l0(function(){l2(null,null,e,!1,function(){e._reactRootContainer=null,e[fc]=null})}),!0):!1};Ci.unstable_batchedUpdates=fj;Ci.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!o2(r))throw Error(nt(200));if(e==null||e._reactInternals===void 0)throw Error(nt(38));return l2(e,t,r,!1,n)};Ci.version="18.3.1-next-f1338f8080-20240426";function PM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PM)}catch(e){console.error(e)}}PM(),PD.exports=Ci;var c2=PD.exports,uT=c2;N4.createRoot=uT.createRoot,N4.hydrateRoot=uT.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}var pu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pu||(pu={}));const dT="popstate";function YX(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:o}=n.location;return gN("",{pathname:s,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ey(a)}return ZX(t,r,null,e)}function Mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XX(){return Math.random().toString(36).substr(2,8)}function fT(e,t){return{usr:e.state,key:e.key,idx:t}}function gN(e,t,r,n){return r===void 0&&(r=null),eg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oh(t):t,{state:r,key:t&&t.key||n||XX()})}function Ey(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ZX(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,o=pu.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(eg({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){o=pu.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:o,location:g.location,delta:v})}function h(x,v){o=pu.Push;let y=gN(g.location,x,v);u=d()+1;let b=fT(y,u),N=g.createHref(y);try{i.pushState(b,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(N)}s&&c&&c({action:o,location:g.location,delta:1})}function m(x,v){o=pu.Replace;let y=gN(g.location,x,v);u=d();let b=fT(y,u),N=g.createHref(y);i.replaceState(b,"",N),s&&c&&c({action:o,location:g.location,delta:0})}function p(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:Ey(x);return y=y.replace(/ $/,"%20"),Mn(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return o},get location(){return e(a,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(dT,f),c=x,()=>{a.removeEventListener(dT,f),c=null}},createHref(x){return t(a,x)},createURL:p,encodeLocation(x){let v=p(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(x){return i.go(x)}};return g}var hT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hT||(hT={}));function JX(e,t,r){return r===void 0&&(r="/"),QX(e,t,r)}function QX(e,t,r,n){let a=typeof t=="string"?Oh(t):t,s=wj(a.pathname||"/",r);if(s==null)return null;let i=OM(e);eZ(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=fZ(s);o=cZ(i[c],u)}return o}function OM(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Mn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Cu([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Mn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),OM(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:oZ(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))a(s,i);else for(let c of LM(s.path))a(s,i,c)}),t}function LM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=LM(n.join("/")),o=[];return o.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function eZ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:lZ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const tZ=/^:[\w-]+$/,rZ=3,nZ=2,aZ=1,sZ=10,iZ=-2,mT=e=>e==="*";function oZ(e,t){let r=e.split("/"),n=r.length;return r.some(mT)&&(n+=iZ),t&&(n+=nZ),r.filter(a=>!mT(a)).reduce((a,s)=>a+(tZ.test(s)?rZ:s===""?aZ:sZ),n)}function lZ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function cZ(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=uZ({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Cu([s,f.pathname]),pathnameBase:xZ(Cu([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Cu([s,f.pathnameBase]))}return i}function uZ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dZ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=o[f]||"";i=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function dZ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),bj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function fZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const hZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mZ=e=>hZ.test(e);function pZ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Oh(e):e,s;if(r)if(mZ(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),bj(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?s=pT(r.substring(1),"/"):s=pT(r,t)}else s=t;return{pathname:s,search:vZ(n),hash:yZ(a)}}function pT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function nk(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gZ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kj(e,t){let r=gZ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Nj(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Oh(e):(a=eg({},e),Mn(!a.pathname||!a.pathname.includes("?"),nk("?","pathname","search",a)),Mn(!a.pathname||!a.pathname.includes("#"),nk("#","pathname","hash",a)),Mn(!a.search||!a.search.includes("#"),nk("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,o;if(i==null)o=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=pZ(a,o),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Cu=e=>e.join("/").replace(/\/\/+/g,"/"),xZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const FM=["post","put","patch","delete"];new Set(FM);const wZ=["get",...FM];new Set(wZ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tg.apply(this,arguments)}const Sj=k.createContext(null),kZ=k.createContext(null),Ju=k.createContext(null),u2=k.createContext(null),Pl=k.createContext({outlet:null,matches:[],isDataRoute:!1}),DM=k.createContext(null);function NZ(e,t){let{relative:r}=t===void 0?{}:t;Lh()||Mn(!1);let{basename:n,navigator:a}=k.useContext(Ju),{hash:s,pathname:i,search:o}=MM(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Cu([n,i])),a.createHref({pathname:c,search:o,hash:s})}function Lh(){return k.useContext(u2)!=null}function Ec(){return Lh()||Mn(!1),k.useContext(u2).location}function IM(e){k.useContext(Ju).static||k.useLayoutEffect(e)}function Ol(){let{isDataRoute:e}=k.useContext(Pl);return e?RZ():SZ()}function SZ(){Lh()||Mn(!1);let e=k.useContext(Sj),{basename:t,future:r,navigator:n}=k.useContext(Ju),{matches:a}=k.useContext(Pl),{pathname:s}=Ec(),i=JSON.stringify(kj(a,r.v7_relativeSplatPath)),o=k.useRef(!1);return IM(()=>{o.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Nj(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Cu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}const jZ=k.createContext(null);function AZ(e){let t=k.useContext(Pl).outlet;return t&&k.createElement(jZ.Provider,{value:e},t)}function jj(){let{matches:e}=k.useContext(Pl),t=e[e.length-1];return t?t.params:{}}function MM(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Ju),{matches:a}=k.useContext(Pl),{pathname:s}=Ec(),i=JSON.stringify(kj(a,n.v7_relativeSplatPath));return k.useMemo(()=>Nj(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function _Z(e,t){return EZ(e,t)}function EZ(e,t,r,n){Lh()||Mn(!1);let{navigator:a}=k.useContext(Ju),{matches:s}=k.useContext(Pl),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ec(),d;if(t){var f;let x=typeof t=="string"?Oh(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Mn(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=JX(e,{pathname:m}),g=LZ(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Cu([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Cu([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return t&&g?k.createElement(u2.Provider,{value:{location:tg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:pu.Pop}},g):g}function CZ(){let e=MZ(),t=bZ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:a},r):null,null)}const TZ=k.createElement(CZ,null);class PZ extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Pl.Provider,{value:this.props.routeContext},k.createElement(DM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OZ(e){let{routeContext:t,match:r,children:n}=e,a=k.useContext(Sj);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Pl.Provider,{value:t},n)}function LZ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Mn(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,p=!1,g=null,x=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||TZ,c&&(u<0&&h===0?(BZ("route-fallback"),p=!0,x=null):u===h&&(p=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,h+1)),y=()=>{let b;return m?b=g:p?b=x:f.route.Component?b=k.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,k.createElement(OZ,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement(PZ,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var RM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(RM||{}),BM=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(BM||{});function FZ(e){let t=k.useContext(Sj);return t||Mn(!1),t}function DZ(e){let t=k.useContext(kZ);return t||Mn(!1),t}function IZ(e){let t=k.useContext(Pl);return t||Mn(!1),t}function zM(e){let t=IZ(),r=t.matches[t.matches.length-1];return r.route.id||Mn(!1),r.route.id}function MZ(){var e;let t=k.useContext(DM),r=DZ(),n=zM();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function RZ(){let{router:e}=FZ(RM.UseNavigateStable),t=zM(BM.UseNavigateStable),r=k.useRef(!1);return IM(()=>{r.current=!0}),k.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,tg({fromRouteId:t},s)))},[e,t])}const gT={};function BZ(e,t,r){gT[e]||(gT[e]=!0)}function zZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function d2(e){let{to:t,replace:r,state:n,relative:a}=e;Lh()||Mn(!1);let{future:s,static:i}=k.useContext(Ju),{matches:o}=k.useContext(Pl),{pathname:c}=Ec(),u=Ol(),d=Nj(t,kj(o,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function UM(e){return AZ(e.context)}function br(e){Mn(!1)}function UZ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=pu.Pop,navigator:s,static:i=!1,future:o}=e;Lh()&&Mn(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:s,static:i,future:tg({v7_relativeSplatPath:!1},o)}),[c,o,s,i]);typeof n=="string"&&(n=Oh(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=k.useMemo(()=>{let x=wj(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return g==null?null:k.createElement(Ju.Provider,{value:u},k.createElement(u2.Provider,{children:r,value:g}))}function $Z(e){let{children:t,location:r}=e;return _Z(xN(t),r)}new Promise(()=>{});function xN(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,a)=>{if(!k.isValidElement(n))return;let s=[...t,a];if(n.type===k.Fragment){r.push.apply(r,xN(n.props.children,s));return}n.type!==br&&Mn(!1),!n.props.index||!n.props.children||Mn(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=xN(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vN.apply(this,arguments)}function WZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function HZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VZ(e,t){return e.button===0&&(!t||t==="_self")&&!HZ(e)}function yN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function qZ(e,t){let r=yN(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const GZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KZ="6";try{window.__reactRouterVersion=KZ}catch{}const YZ="startTransition",xT=CD[YZ];function XZ(e){let{basename:t,children:r,future:n,window:a}=e,s=k.useRef();s.current==null&&(s.current=YX({window:a,v5Compat:!0}));let i=s.current,[o,c]=k.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=k.useCallback(f=>{u&&xT?xT(()=>c(f)):c(f)},[c,u]);return k.useLayoutEffect(()=>i.listen(d),[i,d]),k.useEffect(()=>zZ(n),[n]),k.createElement(UZ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const ZZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Of=k.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=WZ(t,GZ),{basename:m}=k.useContext(Ju),p,g=!1;if(typeof u=="string"&&JZ.test(u)&&(p=u,ZZ))try{let b=new URL(window.location.href),N=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=wj(N.pathname,m);N.origin===b.origin&&S!=null?u=S+N.search+N.hash:g=!0}catch{}let x=NZ(u,{relative:a}),v=QZ(u,{replace:i,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||v(b)}return k.createElement("a",vN({},h,{href:p||x,onClick:g||s?n:y,ref:r,target:c}))});var vT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vT||(vT={}));var yT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yT||(yT={}));function QZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}=t===void 0?{}:t,c=Ol(),u=Ec(),d=MM(e,{relative:i});return k.useCallback(f=>{if(VZ(f,r)){f.preventDefault();let h=n!==void 0?n:Ey(u)===Ey(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[u,c,d,n,a,r,e,s,i,o])}function eJ(e){let t=k.useRef(yN(e)),r=k.useRef(!1),n=Ec(),a=k.useMemo(()=>qZ(n.search,r.current?null:t.current),[n.search]),s=Ol(),i=k.useCallback((o,c)=>{const u=yN(typeof o=="function"?o(a):o);r.current=!0,s("?"+u,c)},[s,a]);return[a,i]}function $M(e,t){return function(){return e.apply(t,arguments)}}const{toString:tJ}=Object.prototype,{getPrototypeOf:Aj}=Object,{iterator:f2,toStringTag:WM}=Symbol,h2=(e=>t=>{const r=tJ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),qo=e=>(e=e.toLowerCase(),t=>h2(t)===e),m2=e=>t=>typeof t===e,{isArray:Fh}=Array,lh=m2("undefined");function Yg(e){return e!==null&&!lh(e)&&e.constructor!==null&&!lh(e.constructor)&&Zs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const HM=qo("ArrayBuffer");function rJ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&HM(e.buffer),t}const nJ=m2("string"),Zs=m2("function"),VM=m2("number"),Xg=e=>e!==null&&typeof e=="object",aJ=e=>e===!0||e===!1,Hv=e=>{if(h2(e)!=="object")return!1;const t=Aj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(WM in e)&&!(f2 in e)},sJ=e=>{if(!Xg(e)||Yg(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},iJ=qo("Date"),oJ=qo("File"),lJ=qo("Blob"),cJ=qo("FileList"),uJ=e=>Xg(e)&&Zs(e.pipe),dJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zs(e.append)&&((t=h2(e))==="formdata"||t==="object"&&Zs(e.toString)&&e.toString()==="[object FormData]"))},fJ=qo("URLSearchParams"),[hJ,mJ,pJ,gJ]=["ReadableStream","Request","Response","Headers"].map(qo),xJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zg(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Fh(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Yg(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let o;for(n=0;n<i;n++)o=s[n],t.call(null,e[o],o,e)}}function qM(e,t){if(Yg(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Pd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,GM=e=>!lh(e)&&e!==Pd;function bN(){const{caseless:e,skipUndefined:t}=GM(this)&&this||{},r={},n=(a,s)=>{const i=e&&qM(r,s)||s;Hv(r[i])&&Hv(a)?r[i]=bN(r[i],a):Hv(a)?r[i]=bN({},a):Fh(a)?r[i]=a.slice():(!t||!lh(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Zg(arguments[a],n);return r}const vJ=(e,t,r,{allOwnKeys:n}={})=>(Zg(t,(a,s)=>{r&&Zs(a)?e[s]=$M(a,r):e[s]=a},{allOwnKeys:n}),e),yJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bJ=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},wJ=(e,t,r,n)=>{let a,s,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&Aj(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kJ=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},NJ=e=>{if(!e)return null;if(Fh(e))return e;let t=e.length;if(!VM(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},SJ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Aj(Uint8Array)),jJ=(e,t)=>{const n=(e&&e[f2]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},AJ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},_J=qo("HTMLFormElement"),EJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),bT=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),CJ=qo("RegExp"),KM=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Zg(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},TJ=e=>{KM(e,(t,r)=>{if(Zs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Zs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},PJ=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Fh(e)?n(e):n(String(e).split(t)),r},OJ=()=>{},LJ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function FJ(e){return!!(e&&Zs(e.append)&&e[WM]==="FormData"&&e[f2])}const DJ=e=>{const t=new Array(10),r=(n,a)=>{if(Xg(n)){if(t.indexOf(n)>=0)return;if(Yg(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Fh(n)?[]:{};return Zg(n,(i,o)=>{const c=r(i,a+1);!lh(c)&&(s[o]=c)}),t[a]=void 0,s}}return n};return r(e,0)},IJ=qo("AsyncFunction"),MJ=e=>e&&(Xg(e)||Zs(e))&&Zs(e.then)&&Zs(e.catch),YM=((e,t)=>e?setImmediate:t?((r,n)=>(Pd.addEventListener("message",({source:a,data:s})=>{a===Pd&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Pd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Zs(Pd.postMessage)),RJ=typeof queueMicrotask<"u"?queueMicrotask.bind(Pd):typeof process<"u"&&process.nextTick||YM,BJ=e=>e!=null&&Zs(e[f2]),Re={isArray:Fh,isArrayBuffer:HM,isBuffer:Yg,isFormData:dJ,isArrayBufferView:rJ,isString:nJ,isNumber:VM,isBoolean:aJ,isObject:Xg,isPlainObject:Hv,isEmptyObject:sJ,isReadableStream:hJ,isRequest:mJ,isResponse:pJ,isHeaders:gJ,isUndefined:lh,isDate:iJ,isFile:oJ,isBlob:lJ,isRegExp:CJ,isFunction:Zs,isStream:uJ,isURLSearchParams:fJ,isTypedArray:SJ,isFileList:cJ,forEach:Zg,merge:bN,extend:vJ,trim:xJ,stripBOM:yJ,inherits:bJ,toFlatObject:wJ,kindOf:h2,kindOfTest:qo,endsWith:kJ,toArray:NJ,forEachEntry:jJ,matchAll:AJ,isHTMLForm:_J,hasOwnProperty:bT,hasOwnProp:bT,reduceDescriptors:KM,freezeMethods:TJ,toObjectSet:PJ,toCamelCase:EJ,noop:OJ,toFiniteNumber:LJ,findKey:qM,global:Pd,isContextDefined:GM,isSpecCompliantForm:FJ,toJSONObject:DJ,isAsyncFn:IJ,isThenable:MJ,setImmediate:YM,asap:RJ,isIterable:BJ};function Yt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Re.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const XM=Yt.prototype,ZM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ZM[e]={value:e}});Object.defineProperties(Yt,ZM);Object.defineProperty(XM,"isAxiosError",{value:!0});Yt.from=(e,t,r,n,a,s)=>{const i=Object.create(XM);Re.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Yt.call(i,o,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const zJ=null;function wN(e){return Re.isPlainObject(e)||Re.isArray(e)}function JM(e){return Re.endsWith(e,"[]")?e.slice(0,-2):e}function wT(e,t,r){return e?e.concat(t).map(function(a,s){return a=JM(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function UJ(e){return Re.isArray(e)&&!e.some(wN)}const $J=Re.toFlatObject(Re,{},null,function(t){return/^is[A-Z]/.test(t)});function p2(e,t,r){if(!Re.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!Re.isUndefined(x[g])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(t);if(!Re.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Re.isDate(p))return p.toISOString();if(Re.isBoolean(p))return p.toString();if(!c&&Re.isBlob(p))throw new Yt("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(p)||Re.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,x){let v=p;if(p&&!x&&typeof p=="object"){if(Re.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(Re.isArray(p)&&UJ(p)||(Re.isFileList(p)||Re.endsWith(g,"[]"))&&(v=Re.toArray(p)))return g=JM(g),v.forEach(function(b,N){!(Re.isUndefined(b)||b===null)&&t.append(i===!0?wT([g],N,s):i===null?g:g+"[]",u(b))}),!1}return wN(p)?!0:(t.append(wT(x,g,s),u(p)),!1)}const f=[],h=Object.assign($J,{defaultVisitor:d,convertValue:u,isVisitable:wN});function m(p,g){if(!Re.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),Re.forEach(p,function(v,y){(!(Re.isUndefined(v)||v===null)&&a.call(t,v,Re.isString(y)?y.trim():y,g,h))===!0&&m(v,g?g.concat(y):[y])}),f.pop()}}if(!Re.isObject(e))throw new TypeError("data must be an object");return m(e),t}function kT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function _j(e,t){this._pairs=[],e&&p2(e,this,t)}const QM=_j.prototype;QM.append=function(t,r){this._pairs.push([t,r])};QM.toString=function(t){const r=t?function(n){return t.call(this,n,kT)}:kT;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function WJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function eR(e,t,r){if(!t)return e;const n=r&&r.encode||WJ;Re.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Re.isURLSearchParams(t)?t.toString():new _j(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class NT{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Re.forEach(this.handlers,function(n){n!==null&&t(n)})}}const tR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HJ=typeof URLSearchParams<"u"?URLSearchParams:_j,VJ=typeof FormData<"u"?FormData:null,qJ=typeof Blob<"u"?Blob:null,GJ={isBrowser:!0,classes:{URLSearchParams:HJ,FormData:VJ,Blob:qJ},protocols:["http","https","file","blob","url","data"]},Ej=typeof window<"u"&&typeof document<"u",kN=typeof navigator=="object"&&navigator||void 0,KJ=Ej&&(!kN||["ReactNative","NativeScript","NS"].indexOf(kN.product)<0),YJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XJ=Ej&&window.location.href||"http://localhost",ZJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ej,hasStandardBrowserEnv:KJ,hasStandardBrowserWebWorkerEnv:YJ,navigator:kN,origin:XJ},Symbol.toStringTag,{value:"Module"})),ss={...ZJ,...GJ};function JJ(e,t){return p2(e,new ss.classes.URLSearchParams,{visitor:function(r,n,a,s){return ss.isNode&&Re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function QJ(e){return Re.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function eQ(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function rR(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=s>=r.length;return i=!i&&Re.isArray(a)?a.length:i,c?(Re.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!Re.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&Re.isArray(a[i])&&(a[i]=eQ(a[i])),!o)}if(Re.isFormData(e)&&Re.isFunction(e.entries)){const r={};return Re.forEachEntry(e,(n,a)=>{t(QJ(n),a,r,0)}),r}return null}function tQ(e,t,r){if(Re.isString(e))try{return(t||JSON.parse)(e),Re.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Jg={transitional:tR,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Re.isObject(t);if(s&&Re.isHTMLForm(t)&&(t=new FormData(t)),Re.isFormData(t))return a?JSON.stringify(rR(t)):t;if(Re.isArrayBuffer(t)||Re.isBuffer(t)||Re.isStream(t)||Re.isFile(t)||Re.isBlob(t)||Re.isReadableStream(t))return t;if(Re.isArrayBufferView(t))return t.buffer;if(Re.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return JJ(t,this.formSerializer).toString();if((o=Re.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return p2(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),tQ(t)):t}],transformResponse:[function(t){const r=this.transitional||Jg.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Re.isResponse(t)||Re.isReadableStream(t))return t;if(t&&Re.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?Yt.from(o,Yt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ss.classes.FormData,Blob:ss.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],e=>{Jg.headers[e]={}});const rQ=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nQ=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&rQ[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ST=Symbol("internals");function Rm(e){return e&&String(e).trim().toLowerCase()}function Vv(e){return e===!1||e==null?e:Re.isArray(e)?e.map(Vv):String(e)}function aQ(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const sQ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ak(e,t,r,n,a){if(Re.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Re.isString(t)){if(Re.isString(n))return t.indexOf(n)!==-1;if(Re.isRegExp(n))return n.test(t)}}function iQ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function oQ(e,t){const r=Re.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}let Js=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(o,c,u){const d=Rm(c);if(!d)throw new Error("header name must be a non-empty string");const f=Re.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Vv(o))}const i=(o,c)=>Re.forEach(o,(u,d)=>s(u,d,c));if(Re.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(Re.isString(t)&&(t=t.trim())&&!sQ(t))i(nQ(t),r);else if(Re.isObject(t)&&Re.isIterable(t)){let o={},c,u;for(const d of t){if(!Re.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?Re.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(o,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Rm(t),t){const n=Re.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return aQ(a);if(Re.isFunction(r))return r.call(this,a,n);if(Re.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Rm(t),t){const n=Re.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ak(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=Rm(i),i){const o=Re.findKey(n,i);o&&(!r||ak(n,n[o],o,r))&&(delete n[o],a=!0)}}return Re.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||ak(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Re.forEach(this,(a,s)=>{const i=Re.findKey(n,s);if(i){r[i]=Vv(a),delete r[s];return}const o=t?iQ(s):String(s).trim();o!==s&&delete r[s],r[o]=Vv(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Re.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[ST]=this[ST]={accessors:{}}).accessors,a=this.prototype;function s(i){const o=Rm(i);n[o]||(oQ(a,i),n[o]=!0)}return Re.isArray(t)?t.forEach(s):s(t),this}};Js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(Js.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Re.freezeMethods(Js);function sk(e,t){const r=this||Jg,n=t||r,a=Js.from(n.headers);let s=n.data;return Re.forEach(e,function(o){s=o.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function nR(e){return!!(e&&e.__CANCEL__)}function Dh(e,t,r){Yt.call(this,e??"canceled",Yt.ERR_CANCELED,t,r),this.name="CanceledError"}Re.inherits(Dh,Yt,{__CANCEL__:!0});function aR(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Yt("Request failed with status code "+r.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function lQ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cQ(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function uQ(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Cy=(e,t,r=3)=>{let n=0;const a=cQ(50,250);return uQ(s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=o;n=i;const f={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-i)/u:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},jT=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},AT=e=>(...t)=>Re.asap(()=>e(...t)),dQ=ss.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ss.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ss.origin),ss.navigator&&/(msie|trident)/i.test(ss.navigator.userAgent)):()=>!0,fQ=ss.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];Re.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),Re.isString(n)&&o.push(`path=${n}`),Re.isString(a)&&o.push(`domain=${a}`),s===!0&&o.push("secure"),Re.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mQ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function sR(e,t,r){let n=!hQ(t);return e&&(n||r==!1)?mQ(e,t):t}const _T=e=>e instanceof Js?{...e}:e;function c0(e,t){t=t||{};const r={};function n(u,d,f,h){return Re.isPlainObject(u)&&Re.isPlainObject(d)?Re.merge.call({caseless:h},u,d):Re.isPlainObject(d)?Re.merge({},d):Re.isArray(d)?d.slice():d}function a(u,d,f,h){if(Re.isUndefined(d)){if(!Re.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Re.isUndefined(d))return n(void 0,d)}function i(u,d){if(Re.isUndefined(d)){if(!Re.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,d,f)=>a(_T(u),_T(d),f,!0)};return Re.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Re.isUndefined(h)&&f!==o||(r[d]=h)}),r}const iR=e=>{const t=c0({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=Js.from(i),t.url=eR(sR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Re.isFormData(r)){if(ss.hasStandardBrowserEnv||ss.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Re.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(ss.hasStandardBrowserEnv&&(n&&Re.isFunction(n)&&(n=n(t)),n||n!==!1&&dQ(t.url))){const c=a&&s&&fQ.read(s);c&&i.set(a,c)}return t},pQ=typeof XMLHttpRequest<"u",gQ=pQ&&function(e){return new Promise(function(r,n){const a=iR(e);let s=a.data;const i=Js.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function g(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function v(){if(!x)return;const b=Js.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};aR(function(j){r(j),g()},function(j){n(j),g()},S),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(n(new Yt("Request aborted",Yt.ECONNABORTED,e,x)),x=null)},x.onerror=function(N){const S=N&&N.message?N.message:"Network Error",A=new Yt(S,Yt.ERR_NETWORK,e,x);A.event=N||null,n(A),x=null},x.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||tR;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),n(new Yt(N,S.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,e,x)),x=null},s===void 0&&i.setContentType(null),"setRequestHeader"in x&&Re.forEach(i.toJSON(),function(N,S){x.setRequestHeader(S,N)}),Re.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),o&&o!=="json"&&(x.responseType=a.responseType),u&&([h,p]=Cy(u,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,m]=Cy(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=b=>{x&&(n(!b||b.type?new Dh(null,e,x):b),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const y=lQ(a.url);if(y&&ss.protocols.indexOf(y)===-1){n(new Yt("Unsupported protocol "+y+":",Yt.ERR_BAD_REQUEST,e));return}x.send(s||null)})},xQ=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Yt?d:new Dh(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new Yt(`timeout ${t} of ms exceeded`,Yt.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Re.asap(o),c}},vQ=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},yQ=async function*(e,t){for await(const r of bQ(e))yield*vQ(r,t)},bQ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},ET=(e,t,r,n)=>{const a=yQ(e,t);let s=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){o(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},CT=64*1024,{isFunction:q1}=Re,wQ=(({Request:e,Response:t})=>({Request:e,Response:t}))(Re.global),{ReadableStream:TT,TextEncoder:PT}=Re.global,OT=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kQ=e=>{e=Re.merge.call({skipUndefined:!0},wQ,e);const{fetch:t,Request:r,Response:n}=e,a=t?q1(t):typeof fetch=="function",s=q1(r),i=q1(n);if(!a)return!1;const o=a&&q1(TT),c=a&&(typeof PT=="function"?(p=>g=>p.encode(g))(new PT):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&o&&OT(()=>{let p=!1;const g=new r(ss.origin,{body:new TT,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),d=i&&o&&OT(()=>Re.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(g,x)=>{let v=g&&g[p];if(v)return v.call(g);throw new Yt(`Response type '${p}' is not supported`,Yt.ERR_NOT_SUPPORT,x)})});const h=async p=>{if(p==null)return 0;if(Re.isBlob(p))return p.size;if(Re.isSpecCompliantForm(p))return(await new r(ss.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(p)||Re.isArrayBuffer(p))return p.byteLength;if(Re.isURLSearchParams(p)&&(p=p+""),Re.isString(p))return(await c(p)).byteLength},m=async(p,g)=>{const x=Re.toFiniteNumber(p.getContentLength());return x??h(g)};return async p=>{let{url:g,method:x,data:v,signal:y,cancelToken:b,timeout:N,onDownloadProgress:S,onUploadProgress:A,responseType:j,headers:C,withCredentials:E="same-origin",fetchOptions:F}=iR(p),O=t||fetch;j=j?(j+"").toLowerCase():"text";let T=xQ([y,b&&b.toAbortSignal()],N),H=null;const K=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let se;try{if(A&&u&&x!=="get"&&x!=="head"&&(se=await m(C,v))!==0){let de=new r(g,{method:"POST",body:v,duplex:"half"}),L;if(Re.isFormData(v)&&(L=de.headers.get("content-type"))&&C.setContentType(L),de.body){const[R,U]=jT(se,Cy(AT(A)));v=ET(de.body,CT,R,U)}}Re.isString(E)||(E=E?"include":"omit");const M=s&&"credentials"in r.prototype,B={...F,signal:T,method:x.toUpperCase(),headers:C.normalize().toJSON(),body:v,duplex:"half",credentials:M?E:void 0};H=s&&new r(g,B);let Y=await(s?O(H,F):O(g,B));const z=d&&(j==="stream"||j==="response");if(d&&(S||z&&K)){const de={};["status","statusText","headers"].forEach(I=>{de[I]=Y[I]});const L=Re.toFiniteNumber(Y.headers.get("content-length")),[R,U]=S&&jT(L,Cy(AT(S),!0))||[];Y=new n(ET(Y.body,CT,R,()=>{U&&U(),K&&K()}),de)}j=j||"text";let Q=await f[Re.findKey(f,j)||"text"](Y,p);return!z&&K&&K(),await new Promise((de,L)=>{aR(de,L,{data:Q,headers:Js.from(Y.headers),status:Y.status,statusText:Y.statusText,config:p,request:H})})}catch(M){throw K&&K(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,p,H),{cause:M.cause||M}):Yt.from(M,M&&M.code,p,H)}}},NQ=new Map,oR=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,o=i,c,u,d=NQ;for(;o--;)c=s[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:kQ(t)),d=u;return u};oR();const Cj={http:zJ,xhr:gQ,fetch:{get:oR}};Re.forEach(Cj,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const LT=e=>`- ${e}`,SQ=e=>Re.isFunction(e)||e===null||e===!1;function jQ(e,t){e=Re.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let o;if(a=n,!SQ(n)&&(a=Cj[(o=String(n)).toLowerCase()],a===void 0))throw new Yt(`Unknown adapter '${o}'`);if(a&&(Re.isFunction(a)||(a=a.get(t))))break;s[o||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(LT).join(`
`):" "+LT(i[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const lR={getAdapter:jQ,adapters:Cj};function ik(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dh(null,e)}function FT(e){return ik(e),e.headers=Js.from(e.headers),e.data=sk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lR.getAdapter(e.adapter||Jg.adapter,e)(e).then(function(n){return ik(e),n.data=sk.call(e,e.transformResponse,n),n.headers=Js.from(n.headers),n},function(n){return nR(n)||(ik(e),n&&n.response&&(n.response.data=sk.call(e,e.transformResponse,n.response),n.response.headers=Js.from(n.response.headers))),Promise.reject(n)})}const cR="1.13.2",g2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{g2[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const DT={};g2.transitional=function(t,r,n){function a(s,i){return"[Axios v"+cR+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,o)=>{if(t===!1)throw new Yt(a(i," has been removed"+(r?" in "+r:"")),Yt.ERR_DEPRECATED);return r&&!DT[i]&&(DT[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,o):!0}};g2.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function AQ(e,t,r){if(typeof e!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const o=e[s],c=o===void 0||i(o,s,e);if(c!==!0)throw new Yt("option "+s+" must be "+c,Yt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Yt("Unknown option "+s,Yt.ERR_BAD_OPTION)}}const qv={assertOptions:AQ,validators:g2},nl=qv.validators;let $d=class{constructor(t){this.defaults=t||{},this.interceptors={request:new NT,response:new NT}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=c0(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&qv.assertOptions(n,{silentJSONParsing:nl.transitional(nl.boolean),forcedJSONParsing:nl.transitional(nl.boolean),clarifyTimeoutError:nl.transitional(nl.boolean)},!1),a!=null&&(Re.isFunction(a)?r.paramsSerializer={serialize:a}:qv.assertOptions(a,{encode:nl.function,serialize:nl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),qv.assertOptions(r,{baseUrl:nl.spelling("baseURL"),withXsrfToken:nl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Re.merge(s.common,s[r.method]);s&&Re.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Js.concat(i,s);const o=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const p=[FT.bind(this),void 0];for(p.unshift(...o),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=o.length;let m=r;for(;f<h;){const p=o[f++],g=o[f++];try{m=p(m)}catch(x){g.call(this,x);break}}try{d=FT.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=c0(this.defaults,t);const r=sR(t.baseURL,t.url,t.allowAbsoluteUrls);return eR(r,t.params,t.paramsSerializer)}};Re.forEach(["delete","get","head","options"],function(t){$d.prototype[t]=function(r,n){return this.request(c0(n||{},{method:t,url:r,data:(n||{}).data}))}});Re.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,o){return this.request(c0(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}$d.prototype[t]=r(),$d.prototype[t+"Form"]=r(!0)});let _Q=class uR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(o=>{n.subscribe(o),s=o}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,o){n.reason||(n.reason=new Dh(s,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new uR(function(a){t=a}),cancel:t}}};function EQ(e){return function(r){return e.apply(null,r)}}function CQ(e){return Re.isObject(e)&&e.isAxiosError===!0}const NN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(NN).forEach(([e,t])=>{NN[t]=e});function dR(e){const t=new $d(e),r=$M($d.prototype.request,t);return Re.extend(r,$d.prototype,t,{allOwnKeys:!0}),Re.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return dR(c0(e,a))},r}const Bn=dR(Jg);Bn.Axios=$d;Bn.CanceledError=Dh;Bn.CancelToken=_Q;Bn.isCancel=nR;Bn.VERSION=cR;Bn.toFormData=p2;Bn.AxiosError=Yt;Bn.Cancel=Bn.CanceledError;Bn.all=function(t){return Promise.all(t)};Bn.spread=EQ;Bn.isAxiosError=CQ;Bn.mergeConfig=c0;Bn.AxiosHeaders=Js;Bn.formToJSON=e=>rR(Re.isHTMLForm(e)?new FormData(e):e);Bn.getAdapter=lR.getAdapter;Bn.HttpStatusCode=NN;Bn.default=Bn;const{Axios:G8e,AxiosError:K8e,CanceledError:Y8e,isCancel:X8e,CancelToken:Z8e,VERSION:J8e,all:Q8e,Cancel:e7e,isAxiosError:t7e,spread:r7e,toFormData:n7e,AxiosHeaders:a7e,HttpStatusCode:s7e,formToJSON:i7e,getAdapter:o7e,mergeConfig:l7e}=Bn,Ee=Bn.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json"}});Ee.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const fR=k.createContext(void 0),TQ=({children:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(null),[s,i]=k.useState(!0),o=async()=>{try{const f=(await Ee.get("/profile")).data;r(f),localStorage.setItem("user",JSON.stringify(f))}catch(d){console.error("Failed to refresh user",d)}};k.useEffect(()=>{(async()=>{const f=localStorage.getItem("token"),h=localStorage.getItem("user");if(f){a(f),h&&r(JSON.parse(h));try{const m=await Ee.get("/profile");r(m.data),localStorage.setItem("user",JSON.stringify(m.data))}catch(m){console.error("Failed to fetch user profile",m)}}i(!1)})()},[]);const c=(d,f)=>{localStorage.setItem("token",d),localStorage.setItem("user",JSON.stringify(f)),a(d),r(f)},u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),r(null)};return l.jsx(fR.Provider,{value:{user:t,token:n,login:c,logout:u,refreshUser:o,isAuthenticated:!!n,isLoading:s},children:e})},Wa=()=>{const e=k.useContext(fR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},PQ={schoolName:"My School",primaryColor:"#2563eb",secondaryColor:"#475569",accentColor:"#f59e0b"},hR=k.createContext(void 0),OQ=({children:e})=>{const[t,r]=k.useState(PQ),[n,a]=k.useState(!0),s=async()=>{try{const o=await Ee.get("/settings/public");r(o.data),i(o.data)}catch(o){console.error("Failed to fetch theme settings:",o)}finally{a(!1)}},i=o=>{const c=document.documentElement;c.style.setProperty("--primary-color",o.primaryColor),c.style.setProperty("--secondary-color",o.secondaryColor),c.style.setProperty("--accent-color",o.accentColor),document.title=o.schoolName};return k.useEffect(()=>{s()},[]),l.jsx(hR.Provider,{value:{settings:t,refreshSettings:s,loading:n},children:e})},Tj=()=>{const e=k.useContext(hR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),it=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:c,...u},d)=>k.createElement("svg",{ref:d,...LQ,width:a,height:a,stroke:n,strokeWidth:i?Number(s)*24/Number(a):s,className:["lucide",`lucide-${FQ(e)}`,o].join(" "),...u},[...t.map(([f,h])=>k.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=it("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=it("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=it("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=it("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=it("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=it("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=it("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=it("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=it("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=it("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=it("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=it("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=it("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=it("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=it("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=it("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=it("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=it("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=it("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=it("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=it("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=it("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=it("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=it("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=it("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=it("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=it("FileBarChart",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=it("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=it("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=it("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=it("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=it("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=it("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=it("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=it("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=it("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=it("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=it("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=it("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=it("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=it("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=it("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=it("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=it("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=it("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=it("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=it("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=it("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=it("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=it("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=it("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=it("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=it("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=it("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=it("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=it("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=it("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=it("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=it("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=it("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=it("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=it("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=it("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=it("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=it("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=it("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=it("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=it("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=it("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=it("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=it("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=it("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=it("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=it("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=it("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=it("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=it("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hee=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),[a,s]=k.useState(!1),[i,o]=k.useState(""),[c,u]=k.useState(!1),{login:d}=Wa(),f=Ol(),h=async m=>{var p,g;m.preventDefault(),o(""),u(!0);try{const x=await Ee.post("/auth/login",{email:e,password:r}),{token:v,user:y}=x.data;d(v,y),f("/")}catch(x){o(((g=(p=x.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to login. Please check your credentials.")}finally{u(!1)}};return l.jsxs("div",{className:"min-h-screen md:h-screen flex flex-col md:flex-row bg-white dark:bg-slate-900 md:overflow-hidden",children:[l.jsxs("div",{className:"hidden md:flex md:w-1/2 bg-[#0056b3] text-white p-6 md:p-12 flex-col justify-between relative h-full",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-blue-600 to-blue-800 opacity-50 z-0"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[l.jsx("div",{className:"bg-white/10 p-2 rounded-lg backdrop-blur-sm",children:l.jsx(jl,{size:28,className:"text-white"})}),l.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Sync Portal"})]}),l.jsxs("div",{className:"space-y-6 max-w-lg",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:"Empowering Education Through Technology"}),l.jsx("p",{className:"text-blue-100 text-lg leading-relaxed opacity-90",children:"Manage students, track attendance, monitor grades, and streamline your school operations all in one place."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8 max-w-lg",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 hover:bg-white/20 transition-colors",children:[l.jsx(cs,{className:"mb-3 text-blue-200",size:24}),l.jsx("h3",{className:"font-semibold",children:"Grades"}),l.jsx("p",{className:"text-sm text-blue-100 opacity-80",children:"Track academic progress"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 hover:bg-white/20 transition-colors",children:[l.jsx(In,{className:"mb-3 text-blue-200",size:24}),l.jsx("h3",{className:"font-semibold",children:"Students"}),l.jsx("p",{className:"text-sm text-blue-100 opacity-80",children:"Manage enrollment"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 hover:bg-white/20 transition-colors",children:[l.jsx(hs,{className:"mb-3 text-blue-200",size:24}),l.jsx("h3",{className:"font-semibold",children:"Schedule"}),l.jsx("p",{className:"text-sm text-blue-100 opacity-80",children:"Organize timetables"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 hover:bg-white/20 transition-colors",children:[l.jsx(UQ,{className:"mb-3 text-blue-200",size:24}),l.jsx("h3",{className:"font-semibold",children:"Reports"}),l.jsx("p",{className:"text-sm text-blue-100 opacity-80",children:"Generate Insights"})]})]})]}),l.jsxs("div",{className:"relative z-10 mt-12 md:mt-0 text-sm text-blue-200 opacity-60",children:[" ",new Date().getFullYear()," Sync Portal. All rights reserved."]})]}),l.jsx("div",{className:"md:w-1/2 flex items-center justify-center p-6 md:p-12 bg-white dark:bg-slate-900 md:h-full md:overflow-y-auto",children:l.jsxs("div",{className:"w-full max-w-md space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2 md:hidden mb-6",children:[l.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:l.jsx(jl,{size:24,className:"text-white"})}),l.jsx("span",{className:"text-xl font-bold tracking-tight text-blue-900 dark:text-white",children:"Sync Portal"})]}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Sign in to access your dashboard"})]}),l.jsxs("form",{onSubmit:h,className:"space-y-5",children:[i&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 p-4 rounded-lg text-sm border border-red-100 dark:border-red-800 flex items-center",children:i}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email or ID"}),l.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:m=>t(m.target.value),className:"block w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white dark:bg-slate-800",placeholder:"student@school.edu"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),l.jsx("a",{href:"#",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Forgot password?"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"password",type:a?"text":"password",required:!0,value:r,onChange:m=>n(m.target.value),className:"block w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-10 bg-white dark:bg-slate-800",placeholder:"Enter your password"}),l.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-pointer",children:a?l.jsx(zQ,{size:20}):l.jsx(Py,{size:20})})]})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-600 dark:text-gray-400",children:"Keep me signed in"})]}),l.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-900 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:c?l.jsx(ng,{size:20,className:"animate-spin"}):"Sign in"})]}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Need help?"," ",l.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Contact IT Support"})]})})]})})]})},UT=({children:e,onRefresh:t,className:r="",threshold:n=80,disabled:a=!1})=>{const[s,i]=k.useState(!1),[o,c]=k.useState(!1),[u,d]=k.useState(0),f=k.useRef(null),h=k.useRef(0),m=k.useRef(0),p=k.useCallback(N=>{var A;a||o||(((A=f.current)==null?void 0:A.scrollTop)||0)>0||(h.current=N.touches[0].clientY,i(!0))},[a,o]),g=k.useCallback(N=>{var C;if(!s||a||o)return;if((((C=f.current)==null?void 0:C.scrollTop)||0)>0){i(!1),d(0);return}m.current=N.touches[0].clientY;const A=Math.max(0,m.current-h.current),j=Math.min(A*.4,n*1.5);d(j)},[s,a,o,n]),x=k.useCallback(async()=>{if(!(!s||a)){if(i(!1),u>=n){c(!0),"vibrate"in navigator&&navigator.vibrate(10);try{await t()}finally{c(!1)}}d(0)}},[s,u,n,t,a]),v=Math.min(u/n,1),y=.5+v*.5,b=u>=n;return l.jsxs("div",{ref:f,className:`relative overflow-auto ${r}`,onTouchStart:p,onTouchMove:g,onTouchEnd:x,children:[l.jsx("div",{className:"absolute left-0 right-0 flex justify-center items-center pointer-events-none z-50 transition-transform duration-200",style:{top:-40,transform:`translateY(${u}px)`},children:l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${b?"bg-blue-600 text-white":"bg-white text-blue-600 shadow-lg border border-gray-100"}`,style:{opacity:v,transform:`scale(${y})`},children:l.jsx(Wd,{size:20,className:`transition-transform duration-300 ${o?"animate-spin":""}`,style:{transform:`rotate(${u*3}deg)`}})})}),o&&l.jsxs("div",{className:"sticky top-0 left-0 right-0 bg-blue-600 text-white py-2 px-4 text-center text-sm font-medium z-40 flex items-center justify-center gap-2",children:[l.jsx(Wd,{size:14,className:"animate-spin"}),"Refreshing..."]}),l.jsx("div",{style:{transform:s?`translateY(${u}px)`:"translateY(0)",transition:s?"none":"transform 0.3s ease-out"},children:e})]})},Hs=({className:e="",variant:t="rectangular",width:r,height:n,animation:a="shimmer"})=>{const s="bg-gray-200",i={text:"rounded",circular:"rounded-full",rectangular:"rounded-lg"},o={pulse:"animate-pulse",shimmer:"relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/60 before:to-transparent",none:""},c={width:r,height:n};return l.jsx("div",{className:`${s} ${i[t]} ${o[a]} ${e}`,style:c})},mee=({size:e=40,className:t=""})=>l.jsx(Hs,{variant:"circular",width:e,height:e,className:t}),ok=({className:e=""})=>l.jsxs("div",{className:`bg-white rounded-xl p-4 shadow-sm border border-gray-100 ${e}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(Hs,{variant:"rectangular",width:40,height:40,className:"rounded-lg"}),l.jsx(Hs,{variant:"rectangular",width:60,height:24,className:"rounded-full"})]}),l.jsx(Hs,{height:14,width:"60%",className:"mb-2"}),l.jsx(Hs,{height:28,width:"80%"})]}),pee=({className:e=""})=>l.jsxs("div",{className:`flex items-center gap-4 p-4 ${e}`,children:[l.jsx(mee,{size:44}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Hs,{height:16,width:"70%",className:"mb-2"}),l.jsx(Hs,{height:12,width:"50%"})]}),l.jsx(Hs,{height:20,width:60,className:"rounded-full"})]}),gee=()=>l.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx(Hs,{height:28,width:200,className:"mb-2"}),l.jsx(Hs,{height:16,width:300})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,t)=>l.jsxs("div",{className:"bg-white rounded-xl p-4 flex flex-col items-center gap-3",children:[l.jsx(Hs,{variant:"rectangular",width:40,height:40,className:"rounded-lg"}),l.jsx(Hs,{height:14,width:60})]},t))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ok,{}),l.jsx(ok,{}),l.jsx(ok,{})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between",children:[l.jsx(Hs,{height:20,width:150}),l.jsx(Hs,{height:16,width:60})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:Array.from({length:5}).map((e,t)=>l.jsx(pee,{},t))})]})]}),xee=({children:e,className:t="",onCardChange:r})=>{const n=k.useRef(null),[a,s]=k.useState(0),i=k.useCallback(()=>{const o=n.current;if(!o)return;const c=o.scrollLeft,u=o.offsetWidth*.85,d=Math.round(c/u);d!==a&&d>=0&&d<e.length&&(s(d),r==null||r(d))},[a,e.length,r]);return l.jsxs("div",{className:t,children:[l.jsx("div",{ref:n,onScroll:i,className:"flex gap-4 overflow-x-auto snap-x snap-mandatory scrollbar-hide pb-4 -mx-4 px-4",style:{scrollBehavior:"smooth"},children:Ou.Children.map(e,(o,c)=>l.jsx("div",{className:"flex-shrink-0 w-[85%] snap-center",children:o},c))}),e.length>1&&l.jsx("div",{className:"flex justify-center gap-1.5 mt-3",children:Ou.Children.map(e,(o,c)=>l.jsx("button",{onClick:()=>{const u=n.current;if(u){const d=u.offsetWidth*.85+16;u.scrollTo({left:d*c,behavior:"smooth"}),s(c)}},className:`w-2 h-2 rounded-full transition-all duration-200 ${c===a?"bg-blue-600 w-6":"bg-gray-300 hover:bg-gray-400"}`},c))})]})},vee=({actions:e,position:t="bottom-right",className:r=""})=>{const[n,a]=k.useState(!1),[s,i]=k.useState(!0),o=Ol(),{user:c}=Wa(),u=Ou.useRef(0),f=e||(()=>{const g=c==null?void 0:c.role;return g==="PARENT"?[{icon:l.jsx(AN,{size:20}),label:"Pay Fees",onClick:()=>o("/pay"),color:"bg-green-500"},{icon:l.jsx(Bo,{size:20}),label:"Message School",onClick:()=>o("/communication"),color:"bg-blue-500"}]:g==="TEACHER"?[{icon:l.jsx(RT,{size:20}),label:"Take Attendance",onClick:()=>o("/academics/attendance"),color:"bg-orange-500"},{icon:l.jsx(cs,{size:20}),label:"Enter Grades",onClick:()=>o("/academics/gradebook"),color:"bg-purple-500"},{icon:l.jsx(Bo,{size:20}),label:"Announcement",onClick:()=>o("/communication"),color:"bg-blue-500"}]:[{icon:l.jsx(cee,{size:20}),label:"Add Student",onClick:()=>o("/students"),color:"bg-blue-500"},{icon:l.jsx(AN,{size:20}),label:"Record Payment",onClick:()=>o("/finance"),color:"bg-green-500"},{icon:l.jsx(RT,{size:20}),label:"Attendance",onClick:()=>o("/attendance"),color:"bg-orange-500"},{icon:l.jsx(Bo,{size:20}),label:"Announcement",onClick:()=>o("/communication"),color:"bg-purple-500"}]})();k.useEffect(()=>{const g=()=>{const x=window.scrollY;x>u.current&&x>100?(i(!1),a(!1)):i(!0),u.current=x};return window.addEventListener("scroll",g,{passive:!0}),()=>window.removeEventListener("scroll",g)},[]);const h=()=>{"vibrate"in navigator&&navigator.vibrate(5),a(!n)},m=g=>{"vibrate"in navigator&&navigator.vibrate(5),a(!1),g.onClick()},p=t==="bottom-center"?"bottom-20 left-1/2 -translate-x-1/2":"bottom-20 right-4";return l.jsxs(l.Fragment,{children:[n&&l.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 md:hidden",onClick:()=>a(!1)}),l.jsxs("div",{className:`fixed z-50 md:hidden transition-all duration-300 ${p} ${r} ${s?"translate-y-0 opacity-100":"translate-y-16 opacity-0 pointer-events-none"}`,style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[l.jsx("div",{className:`absolute bottom-16 right-0 flex flex-col-reverse items-end gap-3 transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:f.map((g,x)=>l.jsxs("button",{onClick:()=>m(g),className:"flex items-center gap-3 animate-scale-in",style:{animationDelay:`${x*50}ms`},children:[l.jsx("span",{className:"px-3 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg shadow-lg whitespace-nowrap",children:g.label}),l.jsx("div",{className:`w-12 h-12 rounded-full ${g.color||"bg-blue-500"} text-white flex items-center justify-center shadow-lg active:scale-95 transition-transform`,children:g.icon})]},x))}),l.jsx("button",{onClick:h,className:`w-14 h-14 rounded-full bg-blue-600 text-white flex items-center justify-center shadow-xl active:scale-95 transition-all duration-300 ${n?"rotate-45 bg-gray-700":"rotate-0"}`,children:n?l.jsx(ea,{size:24}):l.jsx(Ca,{size:24})})]})]})},yee=()=>{const[e,t]=k.useState({isListening:!1,transcript:"",error:null,isSupported:!1}),r=k.useRef(null);k.useEffect(()=>{const i=window.SpeechRecognition||window.webkitSpeechRecognition;if(i){const o=new i;o.continuous=!1,o.interimResults=!0,o.lang="en-US",o.onresult=c=>{const u=Array.from(c.results).map(d=>d[0].transcript).join("");t(d=>({...d,transcript:u}))},o.onerror=c=>{let u="Speech recognition error";switch(c.error){case"not-allowed":u="Microphone access denied";break;case"no-speech":u="No speech detected";break;case"network":u="Network error";break}t(d=>({...d,error:u,isListening:!1}))},o.onend=()=>{t(c=>({...c,isListening:!1}))},r.current=o,t(c=>({...c,isSupported:!0}))}return()=>{r.current&&r.current.abort()}},[]);const n=k.useCallback(()=>{if(r.current){t(i=>({...i,isListening:!0,error:null,transcript:""}));try{r.current.start()}catch{}}},[]),a=k.useCallback(()=>{r.current&&(r.current.stop(),t(i=>({...i,isListening:!1})))},[]),s=k.useCallback(()=>{t(i=>({...i,transcript:"",error:null}))},[]);return{...e,startListening:n,stopListening:a,resetTranscript:s}},bee=({onResult:e,className:t="",size:r=20})=>{const{isSupported:n,isListening:a,transcript:s,startListening:i,stopListening:o}=yee();return k.useEffect(()=>{s&&!a&&e(s)},[s,a,e]),n?l.jsx("button",{onClick:a?o:i,className:`p-2 rounded-xl transition-all duration-200 ${a?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"} ${t}`,title:a?"Stop listening":"Voice search",children:a?l.jsx(YQ,{size:r}):l.jsx(XQ,{size:r})}):null},wee=()=>{const[e,t]=k.useState(()=>typeof window>"u"?"system":localStorage.getItem("theme")||"system"),[r,n]=k.useState(!1),a=k.useCallback(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,[]),s=k.useCallback(c=>{const u=c==="dark"||c==="system"&&a();n(u),u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",u?"#1e293b":"#2563eb")},[a]),i=k.useCallback(c=>{t(c),localStorage.setItem("theme",c),s(c)},[s]),o=k.useCallback(()=>{i(r?"light":"dark")},[r,i]);return k.useEffect(()=>{s(e);const c=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{e==="system"&&s("system")};return c.addEventListener("change",u),()=>c.removeEventListener("change",u)},[e,s]),{theme:e,isDark:r,setTheme:i,toggleTheme:o}},kee={light:5,medium:10,heavy:20,selection:3,success:[10,50,10],warning:[20,50,20],error:[30,50,30,50,30]},Nee=()=>"vibrate"in navigator,See=(e="light")=>{if(!Nee())return!1;try{const t=kee[e];return navigator.vibrate(t),!0}catch{return!1}},bR=()=>See("light"),jee=({showLabel:e=!1,className:t=""})=>{const{isDark:r,toggleTheme:n}=wee(),a=()=>{bR(),n()};return l.jsx("button",{onClick:a,className:`p-2.5 rounded-xl transition-all duration-200 ${r?"bg-gray-700 text-yellow-400 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${t}`,title:r?"Switch to light mode":"Switch to dark mode",children:l.jsxs("div",{className:"flex items-center gap-2",children:[r?l.jsx(ZQ,{size:20}):l.jsx(iee,{size:20}),e&&l.jsx("span",{className:"text-sm font-medium",children:r?"Dark":"Light"})]})})},Aee=()=>{var d;const{user:e}=Wa(),[t,r]=k.useState(null),[n,a]=k.useState(!0),[s,i]=k.useState(!1),o=k.useCallback(async()=>{try{const f=await Ee.get("/dashboard/stats");r(f.data)}catch(f){console.error("Error fetching dashboard stats:",f)}finally{a(!1)}},[]);k.useEffect(()=>{(e==null?void 0:e.role)!=="PARENT"&&o()},[e,o]);const c=async()=>{i(!0),await o(),i(!1)};if((e==null?void 0:e.role)==="PARENT")return l.jsx(d2,{to:"/my-children",replace:!0});if(n)return l.jsx(gee,{});if((t==null?void 0:t.role)==="TEACHER"){const f=t.stats,{todaySchedule:h,recentAssessments:m,myClasses:p}=t;return l.jsx(UT,{onRefresh:c,className:"min-h-screen",children:l.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Teacher Dashboard"}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Welcome back, ",(d=e==null?void 0:e.fullName)==null?void 0:d.split(" ")[0],". Here is your academic overview."]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-6 mb-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-xl flex items-center justify-center mb-3",children:l.jsx(In,{size:20,className:"md:w-6 md:h-6"})}),l.jsx("p",{className:"text-[11px] md:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"My Students"}),l.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:f.totalStudents})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-xl flex items-center justify-center mb-3",children:l.jsx(jl,{size:20,className:"md:w-6 md:h-6"})}),l.jsx("p",{className:"text-[11px] md:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"My Classes"}),l.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:f.totalClasses})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-xl flex items-center justify-center mb-3",children:l.jsx(Sl,{size:20,className:"md:w-6 md:h-6"})}),l.jsx("p",{className:"text-[11px] md:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Today"}),l.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:f.todayScheduleCount})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("h2",{className:"text-base md:text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[l.jsx(hs,{size:18,className:"text-blue-500"}),"Today's Schedule"]}),l.jsx("span",{className:"text-[10px] md:text-xs font-medium bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-1 rounded-full",children:new Date().toLocaleDateString("en-US",{weekday:"short"})})]}),l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:h.length===0?l.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No classes today."}):h.map(g=>l.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors flex items-center gap-4 active:bg-gray-100 dark:active:bg-slate-700",children:[l.jsxs("div",{className:"text-center min-w-[60px]",children:[l.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:g.startTime}),l.jsx("div",{className:"text-[10px] text-gray-400",children:g.endTime})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-bold text-blue-900 dark:text-blue-400 truncate",children:g.subject.name}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:g.class.name})]}),l.jsx(Of,{to:"/academics/attendance",className:"px-3 py-1.5 text-xs font-medium bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/50 active:bg-blue-200 transition-colors",children:"Mark"})]},g.id))})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsx("div",{className:"p-4 md:p-6 border-b border-gray-100 dark:border-slate-700",children:l.jsxs("h2",{className:"text-base md:text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[l.jsx(rg,{size:18,className:"text-green-500"}),"Recent Assessments"]})}),l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:m.length===0?l.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No recent assessments."}):m.map(g=>l.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors flex items-center gap-4 active:bg-gray-100 dark:active:bg-slate-700",children:[l.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-xl flex items-center justify-center flex-shrink-0",children:l.jsx(cs,{size:18})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:g.title}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[g.class.name,"  ",g.subject.name]})]}),l.jsxs("div",{className:"text-right flex-shrink-0",children:[l.jsx("div",{className:"text-xs font-bold text-gray-900 dark:text-white",children:g._count.results}),l.jsx(Of,{to:"/academics/gradebook",className:"text-[10px] text-blue-600 dark:text-blue-400 font-medium",children:"Grade"})]})]},g.id))})]})]})]})})}const u=t;return l.jsx(UT,{onRefresh:c,className:"min-h-screen",children:l.jsxs("div",{className:"p-4 md:p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Welcome back, here's what's happening today."})]}),l.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[{icon:In,label:"Students",path:"/students",color:"blue"},{icon:ki,label:"Finance",path:"/finance",color:"green"},{icon:cs,label:"Classes",path:"/classes",color:"purple"},{icon:rg,label:"Attendance",path:"/attendance",color:"orange"}].map(f=>l.jsxs(Of,{to:f.path,className:`p-3 md:p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 flex flex-col items-center justify-center gap-2 hover:bg-${f.color}-50 dark:hover:bg-slate-700 active:scale-95 transition-all group`,children:[l.jsx("div",{className:`p-2 md:p-3 bg-${f.color}-100 dark:bg-${f.color}-900/30 text-${f.color}-600 dark:text-${f.color}-400 rounded-xl group-hover:bg-${f.color}-200 dark:group-hover:bg-${f.color}-900/50 transition-colors`,children:l.jsx(f.icon,{size:20,className:"md:w-6 md:h-6"})}),l.jsx("span",{className:"text-[10px] md:text-xs font-medium text-gray-700 dark:text-gray-300 text-center",children:f.label})]},f.label))}),l.jsxs("div",{className:"hidden md:grid md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-2xl shadow-sm text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:l.jsx(ki,{size:20})}),l.jsx("span",{className:"text-xs font-medium bg-white/20 px-2 py-1 rounded-full backdrop-blur-sm",children:"Today"})]}),l.jsx("h3",{className:"text-green-100 text-sm font-medium",children:"Today's Collection"}),l.jsxs("p",{className:"text-3xl font-bold",children:["ZMW ",(u==null?void 0:u.dailyRevenue.toLocaleString())||"0"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg",children:l.jsx(pc,{size:20})}),l.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/30 px-2 py-1 rounded-full",children:"Outstanding"})]}),l.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Outstanding Fees"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["ZMW ",(u==null?void 0:u.outstandingFees.toLocaleString())||"0"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg",children:l.jsx(In,{size:20})}),l.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:"Active"})]}),l.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Active Students"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(u==null?void 0:u.activeStudents)||"0"})]})]}),l.jsx("div",{className:"md:hidden mb-6",children:l.jsxs(xee,{children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-5 rounded-2xl shadow-sm text-white h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:l.jsx(ki,{size:22})}),l.jsx("span",{className:"text-xs font-medium bg-white/20 px-2.5 py-1 rounded-full backdrop-blur-sm",children:"Today"})]}),l.jsx("h3",{className:"text-green-100 text-sm font-medium mb-1",children:"Today's Collection"}),l.jsxs("p",{className:"text-3xl font-bold",children:["ZMW ",(u==null?void 0:u.dailyRevenue.toLocaleString())||"0"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-2.5 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl",children:l.jsx(pc,{size:22})}),l.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/30 px-2.5 py-1 rounded-full",children:"Outstanding"})]}),l.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:"Outstanding Fees"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["ZMW ",(u==null?void 0:u.outstandingFees.toLocaleString())||"0"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-2.5 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-xl",children:l.jsx(In,{size:22})}),l.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2.5 py-1 rounded-full",children:"Active"})]}),l.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:"Active Students"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(u==null?void 0:u.activeStudents)||"0"})]})]})}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsx("h2",{className:"text-base md:text-lg font-bold text-gray-900 dark:text-white",children:"Recent Payments"}),l.jsx(Of,{to:"/finance",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 font-medium",children:"View All"})]}),l.jsx("div",{className:"hidden md:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm text-gray-600 dark:text-gray-300",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Student"}),l.jsx("th",{className:"px-6 py-3",children:"Class"}),l.jsx("th",{className:"px-6 py-3",children:"Amount"}),l.jsx("th",{className:"px-6 py-3",children:"Method"}),l.jsx("th",{className:"px-6 py-3",children:"Time"}),l.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:(u==null?void 0:u.recentPayments.length)===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No recent payments"})}):u==null?void 0:u.recentPayments.map(f=>{var h;return l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:[f.student.firstName," ",f.student.lastName]}),l.jsx("td",{className:"px-6 py-4",children:((h=f.student.class)==null?void 0:h.name)||"N/A"}),l.jsxs("td",{className:`px-6 py-4 font-semibold ${f.status==="VOIDED"?"line-through text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-white"}`,children:["ZMW ",Number(f.amount).toLocaleString()]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium
                          ${f.method==="CASH"?"bg-green-100 text-green-700":f.method==="MOBILE_MONEY"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:f.method.replace("_"," ")})}),l.jsx("td",{className:"px-6 py-4 text-gray-500",children:new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l.jsx("td",{className:"px-6 py-4",children:f.status==="VOIDED"?l.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium",children:"Voided"}):l.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Completed"})})]},f.id)})})]})}),l.jsx("div",{className:"md:hidden divide-y divide-gray-100 dark:divide-slate-700",children:(u==null?void 0:u.recentPayments.length)===0?l.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No recent payments"}):u==null?void 0:u.recentPayments.map(f=>{var h;return l.jsxs("div",{className:"p-4 active:bg-gray-50 dark:active:bg-slate-700 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[f.student.firstName," ",f.student.lastName]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:((h=f.student.class)==null?void 0:h.name)||"N/A"})]}),l.jsxs("span",{className:`text-lg font-bold ${f.status==="VOIDED"?"line-through text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-white"}`,children:["ZMW ",Number(f.amount).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium
                        ${f.method==="CASH"?"bg-green-100 text-green-700":f.method==="MOBILE_MONEY"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:f.method.replace("_"," ")}),f.status==="VOIDED"&&l.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded-full text-[10px] font-medium",children:"Voided"})]}),l.jsx("span",{className:"text-xs text-gray-400",children:new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},f.id)})})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ly={};Ly.version="0.18.5";var wR=1252,_ee=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Ij={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Mj=function(e){_ee.indexOf(e)!=-1&&(wR=Ij[0]=e)};function Eee(){Mj(1252)}var Do=function(e){Mj(e)};function Rj(){Do(1200),Eee()}function $T(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Cee(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function kR(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var tp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Cee(e.slice(2)):t==254&&r==255?kR(e.slice(2)):t==65279?e.slice(1):e},G1=function(t){return String.fromCharCode(t)},WT=function(t){return String.fromCharCode(t)},sg,gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ig(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=gu.charAt(s)+gu.charAt(i)+gu.charAt(o)+gu.charAt(c);return t}function Ai(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=gu.indexOf(e.charAt(u++)),i=gu.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=gu.indexOf(e.charAt(u++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=gu.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Jt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Cc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Iu(e){return Jt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function HT(e){return Jt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var pi=function(t){return Jt?Cc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function x2(e){if(typeof ArrayBuffer>"u")return pi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ed(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Tee(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function Bj(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Bj(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ja=Jt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Cc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Pee(e){for(var t=[],r=0,n=e.length+250,a=Iu(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Iu(65535),n=65530)}return t.push(a.slice(0,r)),ja(t)}var Ts=/\u0000/g,rp=/[\u0001-\u0006]/g;function Kf(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Io(e,t){var r=""+e;return r.length>=t?r:bn("0",t-r.length)+r}function zj(e,t){var r=""+e;return r.length>=t?r:bn(" ",t-r.length)+r}function Fy(e,t){var r=""+e;return r.length>=t?r:r+bn(" ",t-r.length)}function Oee(e,t){var r=""+Math.round(e);return r.length>=t?r:bn("0",t-r.length)+r}function Lee(e,t){var r=""+e;return r.length>=t?r:bn("0",t-r.length)+r}var VT=Math.pow(2,32);function lf(e,t){if(e>VT||e<-VT)return Oee(e,t);var r=Math.round(e);return Lee(r,t)}function Dy(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var qT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],lk=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Fee(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Mt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},GT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Dee={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Iy(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=s):(d=u,o=i)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function Od(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=Uee(c,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var NR=new Date(1899,11,31,0,0,0),Iee=NR.getTime(),Mee=new Date(1900,2,1,0,0,0);function SR(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Mee&&(r+=24*60*60*1e3),(r-(Iee+(e.getTimezoneOffset()-NR.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Uj(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Ree(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Bee(e){var t=e<0?12:11,r=Uj(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function zee(e){var t=Uj(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function og(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Bee(e):t===10?r=e.toFixed(10).substr(0,12):r=zee(e),Uj(Ree(r.toUpperCase()))}function u0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):og(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return co(14,SR(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Uee(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function $ee(e,t,r,n){var a="",s=0,i=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return lk[r.m-1][1];case 5:return lk[r.m-1][0];default:return lk[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return qT[r.q][0];default:return qT[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Io(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=Io(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?Io(c,u):"";return d}function xu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var jR=/%/g;function Wee(e,t,r){var n=t.replace(jR,""),a=t.length-n.length;return ic(e,n,r*Math.pow(10,2*a))+bn("%",a)}function Hee(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ic(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function AR(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+AR(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var _R=/# (\?+)( ?)\/( ?)(\d+)/;function Vee(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?bn(" ",e[1].length+1+e[4].length):zj(i,e[1].length)+e[2]+"/"+e[3]+Io(o,e[4].length))}function qee(e,t,r){return r+(t===0?"":""+t)+bn(" ",e[1].length+2+e[4].length)}var ER=/^#*0*\.([0#]+)/,CR=/\).*[0#]/,TR=/\(###\) ###\\?-####/;function Ns(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function KT(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function YT(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Gee(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Kee(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Hi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(CR)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Hi("n",n,r):"("+Hi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Hee(e,t,r);if(t.indexOf("%")!==-1)return Wee(e,t,r);if(t.indexOf("E")!==-1)return AR(t,r);if(t.charCodeAt(0)===36)return"$"+Hi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+lf(c,t.length);if(t.match(/^[#?]+$/))return a=lf(r,0),a==="0"&&(a=""),a.length>t.length?a:Ns(t.substr(0,t.length-a.length))+a;if(s=t.match(_R))return Vee(s,c,u);if(t.match(/^#+0+$/))return u+lf(c,t.length-t.indexOf("0"));if(s=t.match(ER))return a=KT(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ns(s[1])).replace(/\.$/,"."+Ns(s[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+bn("0",Ns(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+KT(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+xu(lf(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Hi(e,t,-r):xu(""+(Math.floor(r)+Gee(r,s[1].length)))+"."+Io(YT(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Hi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Kf(Hi(e,t.replace(/[\\-]/g,""),r)),i=0,Kf(Kf(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<a.length?a.charAt(i++):p==="0"?"0":""}));if(t.match(TR))return a=Hi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Iy(c,Math.pow(10,i)-1,!1),a=""+u,d=ic("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Fy(o[2],i),d.length<s[4].length&&(d=Ns(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=Iy(c,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?zj(o[1],i)+s[2]+"/"+s[3]+Fy(o[2],i):bn(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=lf(r,0),t.length<=a.length?a:Ns(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ns(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=YT(r,s[1].length),r<0?"-"+Hi(e,t,-r):xu(Kee(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Io(0,3-p.length):"")+p})+"."+Io(i,s[1].length);switch(t){case"###,##0.00":return Hi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=xu(lf(c,0));return m!=="0"?u+m:"";case"###,###.00":return Hi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Hi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Yee(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ic(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Xee(e,t,r){var n=t.replace(jR,""),a=t.length-n.length;return ic(e,n,r*Math.pow(10,2*a))+bn("%",a)}function PR(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+PR(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function il(e,t,r){if(e.charCodeAt(0)===40&&!t.match(CR)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?il("n",n,r):"("+il("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Yee(e,t,r);if(t.indexOf("%")!==-1)return Xee(e,t,r);if(t.indexOf("E")!==-1)return PR(t,r);if(t.charCodeAt(0)===36)return"$"+il(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Io(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ns(t.substr(0,t.length-a.length))+a;if(s=t.match(_R))return qee(s,c,u);if(t.match(/^#+0+$/))return u+Io(c,t.length-t.indexOf("0"));if(s=t.match(ER))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ns(s[1])).replace(/\.$/,"."+Ns(s[1])),a=a.replace(/\.(\d*)$/,function(p,g){return"."+g+bn("0",Ns(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+xu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+il(e,t,-r):xu(""+r)+"."+bn("0",s[1].length);if(s=t.match(/^#,#*,#0/))return il(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Kf(il(e,t.replace(/[\\-]/g,""),r)),i=0,Kf(Kf(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<a.length?a.charAt(i++):p==="0"?"0":""}));if(t.match(TR))return a=il(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Iy(c,Math.pow(10,i)-1,!1),a=""+u,d=ic("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Fy(o[2],i),d.length<s[4].length&&(d=Ns(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=Iy(c,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?zj(o[1],i)+s[2]+"/"+s[3]+Fy(o[2],i):bn(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ns(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ns(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+il(e,t,-r):xu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Io(0,3-p.length):"")+p})+"."+Io(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=xu(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return il(e,t.slice(0,t.lastIndexOf(".")),r)+Ns(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ic(e,t,r){return(r|0)===r?il(e,t,r):Hi(e,t,r)}function Zee(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var OR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ih(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Dy(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(OR))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Jee(e,t,r,n){for(var a=[],s="",i=0,o="",c="t",u,d,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!Dy(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=e.charAt(++i),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Od(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Od(t,r),u==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var g={t:o,v:o};if(u==null&&(u=Od(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",i+=5,h="h"):(g.t="t",++i),u==null&&g.t==="T")return"";a[a.length]=g,c=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(OR)){if(u==null&&(u=Od(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ih(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},c=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var x=0,v=0,y;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[i].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[i].v.match(/[Hh]/)&&(x=1),x<2&&a[i].v.match(/[Mm]/)&&(x=2),x<3&&a[i].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",N;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=$ee(a[i].t.charCodeAt(0),a[i].v,u,v),a[i].t="t";break;case"n":case"?":for(N=i+1;a[N]!=null&&((o=a[N].t)==="?"||o==="D"||(o===" "||o==="t")&&a[N+1]!=null&&(a[N+1].t==="?"||a[N+1].t==="t"&&a[N+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[N].v==="/"||a[N].v===" "&&a[N+1]!=null&&a[N+1].t=="?"));)a[i].v+=a[N].v,a[N]={v:"",t:";"},++N;b+=a[i].v,i=N-1;break;case"G":a[i].t="t",a[i].v=u0(t,r);break}var S="",A,j;if(b.length>0){b.charCodeAt(0)==40?(A=t<0&&b.charCodeAt(0)===45?-t:t,j=ic("n",b,A)):(A=t<0&&n>1?-t:t,j=ic("n",b,A),A<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),N=j.length-1;var C=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){C=i;break}var E=a.length;if(C===a.length&&j.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(N>=a[i].v.length-1?(N-=a[i].v.length,a[i].v=j.substr(N+1,a[i].v.length)):N<0?a[i].v="":(a[i].v=j.substr(0,N+1),N=-1),a[i].t="t",E=i);N>=0&&E<a.length&&(a[E].v=j.substr(0,N+1)+a[E].v)}else if(C!==a.length&&j.indexOf("E")===-1){for(N=j.indexOf(".")-1,i=C;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")-1:a[i].v.length-1,S=a[i].v.substr(d+1);d>=0;--d)N>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(S=j.charAt(N--)+S);a[i].v=S,a[i].t="t",E=i}for(N>=0&&E<a.length&&(a[E].v=j.substr(0,N+1)+a[E].v),N=j.indexOf(".")+1,i=C;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==C)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")+1:0,S=a[i].v.substr(0,d);d<a[i].v.length;++d)N<j.length&&(S+=j.charAt(N++));a[i].v=S,a[i].t="t",E=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(A=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=ic(a[i].t,a[i].v,A),a[i].t="t");var F="";for(i=0;i!==a.length;++i)a[i]!=null&&(F+=a[i].v);return F}var XT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ZT(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Qee(e,t){var r=Zee(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(XT),o=r[1].match(XT);return ZT(t,i)?[n,r[0]]:ZT(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function co(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Mt)[e],n==null&&(n=r.table&&r.table[GT[e]]||Mt[GT[e]]),n==null&&(n=Dee[e]||"General");break}if(Dy(n,0))return u0(t,r);t instanceof Date&&(t=SR(t,r.date1904));var a=Qee(n,t);if(Dy(a[1]))return u0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Jee(a[1],t,r,a[0])}function oc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Mt[r]==null){t<0&&(t=r);continue}if(Mt[r]==e){t=r;break}}t<0&&(t=391)}return Mt[t]=e,t}function v2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&oc(e[t],t)}function Mh(){Mt=Fee()}var ete={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},LR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function tte(e){var t=typeof e=="number"?Mt[e]:e;return t=t.replace(LR,"(\\d+)"),new RegExp("^"+t+"$")}function rte(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,c=-1;(t.match(LR)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?o=m:a=m;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var nte=function(){var e={};e.version="1.2.0";function t(){for(var j=0,C=new Array(256),E=0;E!=256;++E)j=E,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,C[E]=j;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(j){var C=0,E=0,F=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)O[F]=j[F];for(F=0;F!=256;++F)for(E=j[F],C=256+F;C<4096;C+=256)E=O[C]=E>>>8^j[E&255];var T=[];for(F=1;F!=16;++F)T[F-1]=typeof Int32Array<"u"?O.subarray(F*256,F*256+256):O.slice(F*256,F*256+256);return T}var a=n(r),s=a[0],i=a[1],o=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],p=a[9],g=a[10],x=a[11],v=a[12],y=a[13],b=a[14];function N(j,C){for(var E=C^-1,F=0,O=j.length;F<O;)E=E>>>8^r[(E^j.charCodeAt(F++))&255];return~E}function S(j,C){for(var E=C^-1,F=j.length-15,O=0;O<F;)E=b[j[O++]^E&255]^y[j[O++]^E>>8&255]^v[j[O++]^E>>16&255]^x[j[O++]^E>>>24]^g[j[O++]]^p[j[O++]]^m[j[O++]]^h[j[O++]]^f[j[O++]]^d[j[O++]]^u[j[O++]]^c[j[O++]]^o[j[O++]]^i[j[O++]]^s[j[O++]]^r[j[O++]];for(F+=15;O<F;)E=E>>>8^r[(E^j[O++])&255];return~E}function A(j,C){for(var E=C^-1,F=0,O=j.length,T=0,H=0;F<O;)T=j.charCodeAt(F++),T<128?E=E>>>8^r[(E^T)&255]:T<2048?(E=E>>>8^r[(E^(192|T>>6&31))&255],E=E>>>8^r[(E^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,H=j.charCodeAt(F++)&1023,E=E>>>8^r[(E^(240|T>>8&7))&255],E=E>>>8^r[(E^(128|T>>2&63))&255],E=E>>>8^r[(E^(128|H>>6&15|(T&3)<<4))&255],E=E>>>8^r[(E^(128|H&63))&255]):(E=E>>>8^r[(E^(224|T>>12&15))&255],E=E>>>8^r[(E^(128|T>>6&63))&255],E=E>>>8^r[(E^(128|T&63))&255]);return~E}return e.table=r,e.bstr=N,e.buf=S,e.str=A,e}(),Tt=function(){var t={};t.version="1.2.1";function r(te,he){for(var oe=te.split("/"),ce=he.split("/"),me=0,pe=0,Ce=Math.min(oe.length,ce.length);me<Ce;++me){if(pe=oe[me].length-ce[me].length)return pe;if(oe[me]!=ce[me])return oe[me]<ce[me]?-1:1}return oe.length-ce.length}function n(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:n(te.slice(0,-1));var he=te.lastIndexOf("/");return he===-1?te:te.slice(0,he+1)}function a(te){if(te.charAt(te.length-1)=="/")return a(te.slice(0,-1));var he=te.lastIndexOf("/");return he===-1?te:te.slice(he+1)}function s(te,he){typeof he=="string"&&(he=new Date(he));var oe=he.getHours();oe=oe<<6|he.getMinutes(),oe=oe<<5|he.getSeconds()>>>1,te.write_shift(2,oe);var ce=he.getFullYear()-1980;ce=ce<<4|he.getMonth()+1,ce=ce<<5|he.getDate(),te.write_shift(2,ce)}function i(te){var he=te.read_shift(2)&65535,oe=te.read_shift(2)&65535,ce=new Date,me=oe&31;oe>>>=5;var pe=oe&15;oe>>>=4,ce.setMilliseconds(0),ce.setFullYear(oe+1980),ce.setMonth(pe-1),ce.setDate(me);var Ce=he&31;he>>>=5;var Be=he&63;return he>>>=6,ce.setHours(he),ce.setMinutes(Be),ce.setSeconds(Ce<<1),ce}function o(te){Ba(te,0);for(var he={},oe=0;te.l<=te.length-4;){var ce=te.read_shift(2),me=te.read_shift(2),pe=te.l+me,Ce={};switch(ce){case 21589:oe=te.read_shift(1),oe&1&&(Ce.mtime=te.read_shift(4)),me>5&&(oe&2&&(Ce.atime=te.read_shift(4)),oe&4&&(Ce.ctime=te.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break}te.l=pe,he[ce]=Ce}return he}var c;function u(){return c||(c={})}function d(te,he){if(te[0]==80&&te[1]==75)return be(te,he);if((te[0]|32)==109&&(te[1]|32)==105)return xs(te,he);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var oe=3,ce=512,me=0,pe=0,Ce=0,Be=0,Te=0,Le=[],Ie=te.slice(0,512);Ba(Ie,0);var et=f(Ie);switch(oe=et[0],oe){case 3:ce=512;break;case 4:ce=4096;break;case 0:if(et[1]==0)return be(te,he);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}ce!==512&&(Ie=te.slice(0,ce),Ba(Ie,28));var ot=te.slice(0,ce);h(Ie,oe);var mt=Ie.read_shift(4,"i");if(oe===3&&mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+mt);Ie.l+=4,Ce=Ie.read_shift(4,"i"),Ie.l+=4,Ie.chk("00100000","Mini Stream Cutoff Size: "),Be=Ie.read_shift(4,"i"),me=Ie.read_shift(4,"i"),Te=Ie.read_shift(4,"i"),pe=Ie.read_shift(4,"i");for(var at=-1,ht=0;ht<109&&(at=Ie.read_shift(4,"i"),!(at<0));++ht)Le[ht]=at;var $t=m(te,ce);x(Te,pe,$t,ce,Le);var yr=y($t,Ce,Le,ce);yr[Ce].name="!Directory",me>0&&Be!==H&&(yr[Be].name="!MiniFAT"),yr[Le[0]].name="!FAT",yr.fat_addrs=Le,yr.ssz=ce;var Cr={},Un=[],go=[],Ml=[];b(Ce,yr,$t,Un,me,Cr,go,Be),p(go,Ml,Un),Un.shift();var Xo={FileIndex:go,FullPaths:Ml};return he&&he.raw&&(Xo.raw={header:ot,sectors:$t}),Xo}function f(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(K,"Header Signature: "),te.l+=16;var he=te.read_shift(2,"u");return[te.read_shift(2,"u"),he]}function h(te,he){var oe=9;switch(te.l+=2,oe=te.read_shift(2)){case 9:if(he!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(he!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function m(te,he){for(var oe=Math.ceil(te.length/he)-1,ce=[],me=1;me<oe;++me)ce[me-1]=te.slice(me*he,(me+1)*he);return ce[oe-1]=te.slice(oe*he),ce}function p(te,he,oe){for(var ce=0,me=0,pe=0,Ce=0,Be=0,Te=oe.length,Le=[],Ie=[];ce<Te;++ce)Le[ce]=Ie[ce]=ce,he[ce]=oe[ce];for(;Be<Ie.length;++Be)ce=Ie[Be],me=te[ce].L,pe=te[ce].R,Ce=te[ce].C,Le[ce]===ce&&(me!==-1&&Le[me]!==me&&(Le[ce]=Le[me]),pe!==-1&&Le[pe]!==pe&&(Le[ce]=Le[pe])),Ce!==-1&&(Le[Ce]=ce),me!==-1&&ce!=Le[ce]&&(Le[me]=Le[ce],Ie.lastIndexOf(me)<Be&&Ie.push(me)),pe!==-1&&ce!=Le[ce]&&(Le[pe]=Le[ce],Ie.lastIndexOf(pe)<Be&&Ie.push(pe));for(ce=1;ce<Te;++ce)Le[ce]===ce&&(pe!==-1&&Le[pe]!==pe?Le[ce]=Le[pe]:me!==-1&&Le[me]!==me&&(Le[ce]=Le[me]));for(ce=1;ce<Te;++ce)if(te[ce].type!==0){if(Be=ce,Be!=Le[Be])do Be=Le[Be],he[ce]=he[Be]+"/"+he[ce];while(Be!==0&&Le[Be]!==-1&&Be!=Le[Be]);Le[ce]=-1}for(he[0]+="/",ce=1;ce<Te;++ce)te[ce].type!==2&&(he[ce]+="/")}function g(te,he,oe){for(var ce=te.start,me=te.size,pe=[],Ce=ce;oe&&me>0&&Ce>=0;)pe.push(he.slice(Ce*T,Ce*T+T)),me-=T,Ce=_d(oe,Ce*4);return pe.length===0?We(0):ja(pe).slice(0,te.size)}function x(te,he,oe,ce,me){var pe=H;if(te===H){if(he!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Ce=oe[te],Be=(ce>>>2)-1;if(!Ce)return;for(var Te=0;Te<Be&&(pe=_d(Ce,Te*4))!==H;++Te)me.push(pe);x(_d(Ce,ce-4),he-1,oe,ce,me)}}function v(te,he,oe,ce,me){var pe=[],Ce=[];me||(me=[]);var Be=ce-1,Te=0,Le=0;for(Te=he;Te>=0;){me[Te]=!0,pe[pe.length]=Te,Ce.push(te[Te]);var Ie=oe[Math.floor(Te*4/ce)];if(Le=Te*4&Be,ce<4+Le)throw new Error("FAT boundary crossed: "+Te+" 4 "+ce);if(!te[Ie])break;Te=_d(te[Ie],Le)}return{nodes:pe,data:cP([Ce])}}function y(te,he,oe,ce){var me=te.length,pe=[],Ce=[],Be=[],Te=[],Le=ce-1,Ie=0,et=0,ot=0,mt=0;for(Ie=0;Ie<me;++Ie)if(Be=[],ot=Ie+he,ot>=me&&(ot-=me),!Ce[ot]){Te=[];var at=[];for(et=ot;et>=0;){at[et]=!0,Ce[et]=!0,Be[Be.length]=et,Te.push(te[et]);var ht=oe[Math.floor(et*4/ce)];if(mt=et*4&Le,ce<4+mt)throw new Error("FAT boundary crossed: "+et+" 4 "+ce);if(!te[ht]||(et=_d(te[ht],mt),at[et]))break}pe[ot]={nodes:Be,data:cP([Te])}}return pe}function b(te,he,oe,ce,me,pe,Ce,Be){for(var Te=0,Le=ce.length?2:0,Ie=he[te].data,et=0,ot=0,mt;et<Ie.length;et+=128){var at=Ie.slice(et,et+128);Ba(at,64),ot=at.read_shift(2),mt=Kj(at,0,ot-Le),ce.push(mt);var ht={name:mt,type:at.read_shift(1),color:at.read_shift(1),L:at.read_shift(4,"i"),R:at.read_shift(4,"i"),C:at.read_shift(4,"i"),clsid:at.read_shift(16),state:at.read_shift(4,"i"),start:0,size:0},$t=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);$t!==0&&(ht.ct=N(at,at.l-8));var yr=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);yr!==0&&(ht.mt=N(at,at.l-8)),ht.start=at.read_shift(4,"i"),ht.size=at.read_shift(4,"i"),ht.size<0&&ht.start<0&&(ht.size=ht.type=0,ht.start=H,ht.name=""),ht.type===5?(Te=ht.start,me>0&&Te!==H&&(he[Te].name="!StreamData")):ht.size>=4096?(ht.storage="fat",he[ht.start]===void 0&&(he[ht.start]=v(oe,ht.start,he.fat_addrs,he.ssz)),he[ht.start].name=ht.name,ht.content=he[ht.start].data.slice(0,ht.size)):(ht.storage="minifat",ht.size<0?ht.size=0:Te!==H&&ht.start!==H&&he[Te]&&(ht.content=g(ht,he[Te].data,(he[Be]||{}).data))),ht.content&&Ba(ht.content,0),pe[mt]=ht,Ce.push(ht)}}function N(te,he){return new Date((mi(te,he+4)/1e7*Math.pow(2,32)+mi(te,he)/1e7-11644473600)*1e3)}function S(te,he){return u(),d(c.readFileSync(te),he)}function A(te,he){var oe=he&&he.type;switch(oe||Jt&&Buffer.isBuffer(te)&&(oe="buffer"),oe||"base64"){case"file":return S(te,he);case"base64":return d(pi(Ai(te)),he);case"binary":return d(pi(te),he)}return d(te,he)}function j(te,he){var oe=he||{},ce=oe.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=ce+"/",te.FileIndex[0]={name:ce,type:5}),oe.CLSID&&(te.FileIndex[0].clsid=oe.CLSID),C(te)}function C(te){var he="Sh33tJ5";if(!Tt.find(te,"/"+he)){var oe=We(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,te.FileIndex.push({name:he,type:2,content:oe,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+he),E(te)}}function E(te,he){j(te);for(var oe=!1,ce=!1,me=te.FullPaths.length-1;me>=0;--me){var pe=te.FileIndex[me];switch(pe.type){case 0:ce?oe=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:ce=!0,isNaN(pe.R*pe.L*pe.C)&&(oe=!0),pe.R>-1&&pe.L>-1&&pe.R==pe.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!he)){var Ce=new Date(1987,1,19),Be=0,Te=Object.create?Object.create(null):{},Le=[];for(me=0;me<te.FullPaths.length;++me)Te[te.FullPaths[me]]=!0,te.FileIndex[me].type!==0&&Le.push([te.FullPaths[me],te.FileIndex[me]]);for(me=0;me<Le.length;++me){var Ie=n(Le[me][0]);ce=Te[Ie],ce||(Le.push([Ie,{name:a(Ie).replace("/",""),type:1,clsid:M,ct:Ce,mt:Ce,content:null}]),Te[Ie]=!0)}for(Le.sort(function(mt,at){return r(mt[0],at[0])}),te.FullPaths=[],te.FileIndex=[],me=0;me<Le.length;++me)te.FullPaths[me]=Le[me][0],te.FileIndex[me]=Le[me][1];for(me=0;me<Le.length;++me){var et=te.FileIndex[me],ot=te.FullPaths[me];if(et.name=a(ot).replace("/",""),et.L=et.R=et.C=-(et.color=1),et.size=et.content?et.content.length:0,et.start=0,et.clsid=et.clsid||M,me===0)et.C=Le.length>1?1:-1,et.size=0,et.type=5;else if(ot.slice(-1)=="/"){for(Be=me+1;Be<Le.length&&n(te.FullPaths[Be])!=ot;++Be);for(et.C=Be>=Le.length?-1:Be,Be=me+1;Be<Le.length&&n(te.FullPaths[Be])!=n(ot);++Be);et.R=Be>=Le.length?-1:Be,et.type=1}else n(te.FullPaths[me+1]||"")==n(ot)&&(et.R=me+1),et.type=2}}}function F(te,he){var oe=he||{};if(oe.fileType=="mad")return Pt(te,oe);switch(E(te),oe.fileType){case"zip":return Ot(te,oe)}var ce=function(mt){for(var at=0,ht=0,$t=0;$t<mt.FileIndex.length;++$t){var yr=mt.FileIndex[$t];if(yr.content){var Cr=yr.content.length;Cr>0&&(Cr<4096?at+=Cr+63>>6:ht+=Cr+511>>9)}}for(var Un=mt.FullPaths.length+3>>2,go=at+7>>3,Ml=at+127>>7,Xo=go+ht+Un+Ml,xo=Xo+127>>7,Zo=xo<=109?0:Math.ceil((xo-109)/127);Xo+xo+Zo+127>>7>xo;)Zo=++xo<=109?0:Math.ceil((xo-109)/127);var ii=[1,Zo,xo,Ml,Un,ht,at,0];return mt.FileIndex[0].size=at<<6,ii[7]=(mt.FileIndex[0].start=ii[0]+ii[1]+ii[2]+ii[3]+ii[4]+ii[5])+(ii[6]+7>>3),ii}(te),me=We(ce[7]<<9),pe=0,Ce=0;{for(pe=0;pe<8;++pe)me.write_shift(1,se[pe]);for(pe=0;pe<8;++pe)me.write_shift(2,0);for(me.write_shift(2,62),me.write_shift(2,3),me.write_shift(2,65534),me.write_shift(2,9),me.write_shift(2,6),pe=0;pe<3;++pe)me.write_shift(2,0);for(me.write_shift(4,0),me.write_shift(4,ce[2]),me.write_shift(4,ce[0]+ce[1]+ce[2]+ce[3]-1),me.write_shift(4,0),me.write_shift(4,4096),me.write_shift(4,ce[3]?ce[0]+ce[1]+ce[2]-1:H),me.write_shift(4,ce[3]),me.write_shift(-4,ce[1]?ce[0]-1:H),me.write_shift(4,ce[1]),pe=0;pe<109;++pe)me.write_shift(-4,pe<ce[2]?ce[1]+pe:-1)}if(ce[1])for(Ce=0;Ce<ce[1];++Ce){for(;pe<236+Ce*127;++pe)me.write_shift(-4,pe<ce[2]?ce[1]+pe:-1);me.write_shift(-4,Ce===ce[1]-1?H:Ce+1)}var Be=function(mt){for(Ce+=mt;pe<Ce-1;++pe)me.write_shift(-4,pe+1);mt&&(++pe,me.write_shift(-4,H))};for(Ce=pe=0,Ce+=ce[1];pe<Ce;++pe)me.write_shift(-4,B.DIFSECT);for(Ce+=ce[2];pe<Ce;++pe)me.write_shift(-4,B.FATSECT);Be(ce[3]),Be(ce[4]);for(var Te=0,Le=0,Ie=te.FileIndex[0];Te<te.FileIndex.length;++Te)Ie=te.FileIndex[Te],Ie.content&&(Le=Ie.content.length,!(Le<4096)&&(Ie.start=Ce,Be(Le+511>>9)));for(Be(ce[6]+7>>3);me.l&511;)me.write_shift(-4,B.ENDOFCHAIN);for(Ce=pe=0,Te=0;Te<te.FileIndex.length;++Te)Ie=te.FileIndex[Te],Ie.content&&(Le=Ie.content.length,!(!Le||Le>=4096)&&(Ie.start=Ce,Be(Le+63>>6)));for(;me.l&511;)me.write_shift(-4,B.ENDOFCHAIN);for(pe=0;pe<ce[4]<<2;++pe){var et=te.FullPaths[pe];if(!et||et.length===0){for(Te=0;Te<17;++Te)me.write_shift(4,0);for(Te=0;Te<3;++Te)me.write_shift(4,-1);for(Te=0;Te<12;++Te)me.write_shift(4,0);continue}Ie=te.FileIndex[pe],pe===0&&(Ie.start=Ie.size?Ie.start-1:H);var ot=pe===0&&oe.root||Ie.name;if(Le=2*(ot.length+1),me.write_shift(64,ot,"utf16le"),me.write_shift(2,Le),me.write_shift(1,Ie.type),me.write_shift(1,Ie.color),me.write_shift(-4,Ie.L),me.write_shift(-4,Ie.R),me.write_shift(-4,Ie.C),Ie.clsid)me.write_shift(16,Ie.clsid,"hex");else for(Te=0;Te<4;++Te)me.write_shift(4,0);me.write_shift(4,Ie.state||0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,Ie.start),me.write_shift(4,Ie.size),me.write_shift(4,0)}for(pe=1;pe<te.FileIndex.length;++pe)if(Ie=te.FileIndex[pe],Ie.size>=4096)if(me.l=Ie.start+1<<9,Jt&&Buffer.isBuffer(Ie.content))Ie.content.copy(me,me.l,0,Ie.size),me.l+=Ie.size+511&-512;else{for(Te=0;Te<Ie.size;++Te)me.write_shift(1,Ie.content[Te]);for(;Te&511;++Te)me.write_shift(1,0)}for(pe=1;pe<te.FileIndex.length;++pe)if(Ie=te.FileIndex[pe],Ie.size>0&&Ie.size<4096)if(Jt&&Buffer.isBuffer(Ie.content))Ie.content.copy(me,me.l,0,Ie.size),me.l+=Ie.size+63&-64;else{for(Te=0;Te<Ie.size;++Te)me.write_shift(1,Ie.content[Te]);for(;Te&63;++Te)me.write_shift(1,0)}if(Jt)me.l=me.length;else for(;me.l<me.length;)me.write_shift(1,0);return me}function O(te,he){var oe=te.FullPaths.map(function(Te){return Te.toUpperCase()}),ce=oe.map(function(Te){var Le=Te.split("/");return Le[Le.length-(Te.slice(-1)=="/"?2:1)]}),me=!1;he.charCodeAt(0)===47?(me=!0,he=oe[0].slice(0,-1)+he):me=he.indexOf("/")!==-1;var pe=he.toUpperCase(),Ce=me===!0?oe.indexOf(pe):ce.indexOf(pe);if(Ce!==-1)return te.FileIndex[Ce];var Be=!pe.match(rp);for(pe=pe.replace(Ts,""),Be&&(pe=pe.replace(rp,"!")),Ce=0;Ce<oe.length;++Ce)if((Be?oe[Ce].replace(rp,"!"):oe[Ce]).replace(Ts,"")==pe||(Be?ce[Ce].replace(rp,"!"):ce[Ce]).replace(Ts,"")==pe)return te.FileIndex[Ce];return null}var T=64,H=-2,K="d0cf11e0a1b11ae1",se=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",B={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(te,he,oe){u();var ce=F(te,oe);c.writeFileSync(he,ce)}function z(te){for(var he=new Array(te.length),oe=0;oe<te.length;++oe)he[oe]=String.fromCharCode(te[oe]);return he.join("")}function Q(te,he){var oe=F(te,he);switch(he&&he.type||"buffer"){case"file":return u(),c.writeFileSync(he.filename,oe),oe;case"binary":return typeof oe=="string"?oe:z(oe);case"base64":return ig(typeof oe=="string"?oe:z(oe));case"buffer":if(Jt)return Buffer.isBuffer(oe)?oe:Cc(oe);case"array":return typeof oe=="string"?pi(oe):oe}return oe}var de;function L(te){try{var he=te.InflateRaw,oe=new he;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)de=te;else throw new Error("zlib does not expose bytesRead")}catch(ce){console.error("cannot use native zlib: "+(ce.message||ce))}}function R(te,he){if(!de)return nr(te,he);var oe=de.InflateRaw,ce=new oe,me=ce._processChunk(te.slice(te.l),ce._finishFlushFlag);return te.l+=ce.bytesRead,me}function U(te){return de?de.deflateRawSync(te):st(te)}var I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],V=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(te){var he=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(he>>16|he>>8|he)&255}for(var G=typeof Uint8Array<"u",ue=G?new Uint8Array(256):[],ve=0;ve<256;++ve)ue[ve]=ee(ve);function q(te,he){var oe=ue[te&255];return he<=8?oe>>>8-he:(oe=oe<<8|ue[te>>8&255],he<=16?oe>>>16-he:(oe=oe<<8|ue[te>>16&255],oe>>>24-he))}function Me(te,he){var oe=he&7,ce=he>>>3;return(te[ce]|(oe<=6?0:te[ce+1]<<8))>>>oe&3}function He(te,he){var oe=he&7,ce=he>>>3;return(te[ce]|(oe<=5?0:te[ce+1]<<8))>>>oe&7}function Ae(te,he){var oe=he&7,ce=he>>>3;return(te[ce]|(oe<=4?0:te[ce+1]<<8))>>>oe&15}function le(te,he){var oe=he&7,ce=he>>>3;return(te[ce]|(oe<=3?0:te[ce+1]<<8))>>>oe&31}function De(te,he){var oe=he&7,ce=he>>>3;return(te[ce]|(oe<=1?0:te[ce+1]<<8))>>>oe&127}function Je(te,he,oe){var ce=he&7,me=he>>>3,pe=(1<<oe)-1,Ce=te[me]>>>ce;return oe<8-ce||(Ce|=te[me+1]<<8-ce,oe<16-ce)||(Ce|=te[me+2]<<16-ce,oe<24-ce)||(Ce|=te[me+3]<<24-ce),Ce&pe}function Ve(te,he,oe){var ce=he&7,me=he>>>3;return ce<=5?te[me]|=(oe&7)<<ce:(te[me]|=oe<<ce&255,te[me+1]=(oe&7)>>8-ce),he+3}function ye(te,he,oe){var ce=he&7,me=he>>>3;return oe=(oe&1)<<ce,te[me]|=oe,he+1}function ge(te,he,oe){var ce=he&7,me=he>>>3;return oe<<=ce,te[me]|=oe&255,oe>>>=8,te[me+1]=oe,he+8}function ze(te,he,oe){var ce=he&7,me=he>>>3;return oe<<=ce,te[me]|=oe&255,oe>>>=8,te[me+1]=oe&255,te[me+2]=oe>>>8,he+16}function tt(te,he){var oe=te.length,ce=2*oe>he?2*oe:he+5,me=0;if(oe>=he)return te;if(Jt){var pe=HT(ce);if(te.copy)te.copy(pe);else for(;me<te.length;++me)pe[me]=te[me];return pe}else if(G){var Ce=new Uint8Array(ce);if(Ce.set)Ce.set(te);else for(;me<oe;++me)Ce[me]=te[me];return Ce}return te.length=ce,te}function ut(te){for(var he=new Array(te),oe=0;oe<te;++oe)he[oe]=0;return he}function bt(te,he,oe){var ce=1,me=0,pe=0,Ce=0,Be=0,Te=te.length,Le=G?new Uint16Array(32):ut(32);for(pe=0;pe<32;++pe)Le[pe]=0;for(pe=Te;pe<oe;++pe)te[pe]=0;Te=te.length;var Ie=G?new Uint16Array(Te):ut(Te);for(pe=0;pe<Te;++pe)Le[me=te[pe]]++,ce<me&&(ce=me),Ie[pe]=0;for(Le[0]=0,pe=1;pe<=ce;++pe)Le[pe+16]=Be=Be+Le[pe-1]<<1;for(pe=0;pe<Te;++pe)Be=te[pe],Be!=0&&(Ie[pe]=Le[Be+16]++);var et=0;for(pe=0;pe<Te;++pe)if(et=te[pe],et!=0)for(Be=q(Ie[pe],ce)>>ce-et,Ce=(1<<ce+4-et)-1;Ce>=0;--Ce)he[Be|Ce<<et]=et&15|pe<<4;return ce}var St=G?new Uint16Array(512):ut(512),At=G?new Uint16Array(32):ut(32);if(!G){for(var Ft=0;Ft<512;++Ft)St[Ft]=0;for(Ft=0;Ft<32;++Ft)At[Ft]=0}(function(){for(var te=[],he=0;he<32;he++)te.push(5);bt(te,At,32);var oe=[];for(he=0;he<=143;he++)oe.push(8);for(;he<=255;he++)oe.push(9);for(;he<=279;he++)oe.push(7);for(;he<=287;he++)oe.push(8);bt(oe,St,288)})();var xt=function(){for(var he=G?new Uint8Array(32768):[],oe=0,ce=0;oe<V.length-1;++oe)for(;ce<V[oe+1];++ce)he[ce]=oe;for(;ce<32768;++ce)he[ce]=29;var me=G?new Uint8Array(259):[];for(oe=0,ce=0;oe<X.length-1;++oe)for(;ce<X[oe+1];++ce)me[ce]=oe;function pe(Be,Te){for(var Le=0;Le<Be.length;){var Ie=Math.min(65535,Be.length-Le),et=Le+Ie==Be.length;for(Te.write_shift(1,+et),Te.write_shift(2,Ie),Te.write_shift(2,~Ie&65535);Ie-- >0;)Te[Te.l++]=Be[Le++]}return Te.l}function Ce(Be,Te){for(var Le=0,Ie=0,et=G?new Uint16Array(32768):[];Ie<Be.length;){var ot=Math.min(65535,Be.length-Ie);if(ot<10){for(Le=Ve(Te,Le,+(Ie+ot==Be.length)),Le&7&&(Le+=8-(Le&7)),Te.l=Le/8|0,Te.write_shift(2,ot),Te.write_shift(2,~ot&65535);ot-- >0;)Te[Te.l++]=Be[Ie++];Le=Te.l*8;continue}Le=Ve(Te,Le,+(Ie+ot==Be.length)+2);for(var mt=0;ot-- >0;){var at=Be[Ie];mt=(mt<<5^at)&32767;var ht=-1,$t=0;if((ht=et[mt])&&(ht|=Ie&-32768,ht>Ie&&(ht-=32768),ht<Ie))for(;Be[ht+$t]==Be[Ie+$t]&&$t<250;)++$t;if($t>2){at=me[$t],at<=22?Le=ge(Te,Le,ue[at+1]>>1)-1:(ge(Te,Le,3),Le+=5,ge(Te,Le,ue[at-23]>>5),Le+=3);var yr=at<8?0:at-4>>2;yr>0&&(ze(Te,Le,$t-X[at]),Le+=yr),at=he[Ie-ht],Le=ge(Te,Le,ue[at]>>3),Le-=3;var Cr=at<4?0:at-2>>1;Cr>0&&(ze(Te,Le,Ie-ht-V[at]),Le+=Cr);for(var Un=0;Un<$t;++Un)et[mt]=Ie&32767,mt=(mt<<5^Be[Ie])&32767,++Ie;ot-=$t-1}else at<=143?at=at+48:Le=ye(Te,Le,1),Le=ge(Te,Le,ue[at]),et[mt]=Ie&32767,++Ie}Le=ge(Te,Le,0)-1}return Te.l=(Le+7)/8|0,Te.l}return function(Te,Le){return Te.length<8?pe(Te,Le):Ce(Te,Le)}}();function st(te){var he=We(50+Math.floor(te.length*1.1)),oe=xt(te,he);return he.slice(0,oe)}var rt=G?new Uint16Array(32768):ut(32768),ar=G?new Uint16Array(32768):ut(32768),_t=G?new Uint16Array(128):ut(128),$r=1,rr=1;function gr(te,he){var oe=le(te,he)+257;he+=5;var ce=le(te,he)+1;he+=5;var me=Ae(te,he)+4;he+=4;for(var pe=0,Ce=G?new Uint8Array(19):ut(19),Be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=1,Le=G?new Uint8Array(8):ut(8),Ie=G?new Uint8Array(8):ut(8),et=Ce.length,ot=0;ot<me;++ot)Ce[I[ot]]=pe=He(te,he),Te<pe&&(Te=pe),Le[pe]++,he+=3;var mt=0;for(Le[0]=0,ot=1;ot<=Te;++ot)Ie[ot]=mt=mt+Le[ot-1]<<1;for(ot=0;ot<et;++ot)(mt=Ce[ot])!=0&&(Be[ot]=Ie[mt]++);var at=0;for(ot=0;ot<et;++ot)if(at=Ce[ot],at!=0){mt=ue[Be[ot]]>>8-at;for(var ht=(1<<7-at)-1;ht>=0;--ht)_t[mt|ht<<at]=at&7|ot<<3}var $t=[];for(Te=1;$t.length<oe+ce;)switch(mt=_t[De(te,he)],he+=mt&7,mt>>>=3){case 16:for(pe=3+Me(te,he),he+=2,mt=$t[$t.length-1];pe-- >0;)$t.push(mt);break;case 17:for(pe=3+He(te,he),he+=3;pe-- >0;)$t.push(0);break;case 18:for(pe=11+De(te,he),he+=7;pe-- >0;)$t.push(0);break;default:$t.push(mt),Te<mt&&(Te=mt);break}var yr=$t.slice(0,oe),Cr=$t.slice(oe);for(ot=oe;ot<286;++ot)yr[ot]=0;for(ot=ce;ot<30;++ot)Cr[ot]=0;return $r=bt(yr,rt,286),rr=bt(Cr,ar,30),he}function Is(te,he){if(te[0]==3&&!(te[1]&3))return[Iu(he),2];for(var oe=0,ce=0,me=HT(he||1<<18),pe=0,Ce=me.length>>>0,Be=0,Te=0;!(ce&1);){if(ce=He(te,oe),oe+=3,ce>>>1)ce>>1==1?(Be=9,Te=5):(oe=gr(te,oe),Be=$r,Te=rr);else{oe&7&&(oe+=8-(oe&7));var Le=te[oe>>>3]|te[(oe>>>3)+1]<<8;if(oe+=32,Le>0)for(!he&&Ce<pe+Le&&(me=tt(me,pe+Le),Ce=me.length);Le-- >0;)me[pe++]=te[oe>>>3],oe+=8;continue}for(;;){!he&&Ce<pe+32767&&(me=tt(me,pe+32767),Ce=me.length);var Ie=Je(te,oe,Be),et=ce>>>1==1?St[Ie]:rt[Ie];if(oe+=et&15,et>>>=4,!(et>>>8&255))me[pe++]=et;else{if(et==256)break;et-=257;var ot=et<8?0:et-4>>2;ot>5&&(ot=0);var mt=pe+X[et];ot>0&&(mt+=Je(te,oe,ot),oe+=ot),Ie=Je(te,oe,Te),et=ce>>>1==1?At[Ie]:ar[Ie],oe+=et&15,et>>>=4;var at=et<4?0:et-2>>1,ht=V[et];for(at>0&&(ht+=Je(te,oe,at),oe+=at),!he&&Ce<mt&&(me=tt(me,mt+100),Ce=me.length);pe<mt;)me[pe]=me[pe-ht],++pe}}}return he?[me,oe+7>>>3]:[me.slice(0,pe),oe+7>>>3]}function nr(te,he){var oe=te.slice(te.l||0),ce=Is(oe,he);return te.l+=ce[1],ce[0]}function Oi(te,he){if(te)typeof console<"u"&&console.error(he);else throw new Error(he)}function be(te,he){var oe=te;Ba(oe,0);var ce=[],me=[],pe={FileIndex:ce,FullPaths:me};j(pe,{root:he.root});for(var Ce=oe.length-4;(oe[Ce]!=80||oe[Ce+1]!=75||oe[Ce+2]!=5||oe[Ce+3]!=6)&&Ce>=0;)--Ce;oe.l=Ce+4,oe.l+=4;var Be=oe.read_shift(2);oe.l+=6;var Te=oe.read_shift(4);for(oe.l=Te,Ce=0;Ce<Be;++Ce){oe.l+=20;var Le=oe.read_shift(4),Ie=oe.read_shift(4),et=oe.read_shift(2),ot=oe.read_shift(2),mt=oe.read_shift(2);oe.l+=8;var at=oe.read_shift(4),ht=o(oe.slice(oe.l+et,oe.l+et+ot));oe.l+=et+ot+mt;var $t=oe.l;oe.l=at+4,Dt(oe,Le,Ie,pe,ht),oe.l=$t}return pe}function Dt(te,he,oe,ce,me){te.l+=2;var pe=te.read_shift(2),Ce=te.read_shift(2),Be=i(te);if(pe&8257)throw new Error("Unsupported ZIP encryption");for(var Te=te.read_shift(4),Le=te.read_shift(4),Ie=te.read_shift(4),et=te.read_shift(2),ot=te.read_shift(2),mt="",at=0;at<et;++at)mt+=String.fromCharCode(te[te.l++]);if(ot){var ht=o(te.slice(te.l,te.l+ot));(ht[21589]||{}).mt&&(Be=ht[21589].mt),((me||{})[21589]||{}).mt&&(Be=me[21589].mt)}te.l+=ot;var $t=te.slice(te.l,te.l+Le);switch(Ce){case 8:$t=R(te,Ie);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var yr=!1;pe&8&&(Te=te.read_shift(4),Te==134695760&&(Te=te.read_shift(4),yr=!0),Le=te.read_shift(4),Ie=te.read_shift(4)),Le!=he&&Oi(yr,"Bad compressed size: "+he+" != "+Le),Ie!=oe&&Oi(yr,"Bad uncompressed size: "+oe+" != "+Ie),jn(ce,mt,$t,{unsafe:!0,mt:Be})}function Ot(te,he){var oe=he||{},ce=[],me=[],pe=We(1),Ce=oe.compression?8:0,Be=0,Te=0,Le=0,Ie=0,et=0,ot=te.FullPaths[0],mt=ot,at=te.FileIndex[0],ht=[],$t=0;for(Te=1;Te<te.FullPaths.length;++Te)if(mt=te.FullPaths[Te].slice(ot.length),at=te.FileIndex[Te],!(!at.size||!at.content||mt=="Sh33tJ5")){var yr=Ie,Cr=We(mt.length);for(Le=0;Le<mt.length;++Le)Cr.write_shift(1,mt.charCodeAt(Le)&127);Cr=Cr.slice(0,Cr.l),ht[et]=nte.buf(at.content,0);var Un=at.content;Ce==8&&(Un=U(Un)),pe=We(30),pe.write_shift(4,67324752),pe.write_shift(2,20),pe.write_shift(2,Be),pe.write_shift(2,Ce),at.mt?s(pe,at.mt):pe.write_shift(4,0),pe.write_shift(-4,ht[et]),pe.write_shift(4,Un.length),pe.write_shift(4,at.content.length),pe.write_shift(2,Cr.length),pe.write_shift(2,0),Ie+=pe.length,ce.push(pe),Ie+=Cr.length,ce.push(Cr),Ie+=Un.length,ce.push(Un),pe=We(46),pe.write_shift(4,33639248),pe.write_shift(2,0),pe.write_shift(2,20),pe.write_shift(2,Be),pe.write_shift(2,Ce),pe.write_shift(4,0),pe.write_shift(-4,ht[et]),pe.write_shift(4,Un.length),pe.write_shift(4,at.content.length),pe.write_shift(2,Cr.length),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(4,0),pe.write_shift(4,yr),$t+=pe.l,me.push(pe),$t+=Cr.length,me.push(Cr),++et}return pe=We(22),pe.write_shift(4,101010256),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,et),pe.write_shift(2,et),pe.write_shift(4,$t),pe.write_shift(4,Ie),pe.write_shift(2,0),ja([ja(ce),ja(me),pe])}var It={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function jt(te,he){if(te.ctype)return te.ctype;var oe=te.name||"",ce=oe.match(/\.([^\.]+)$/);return ce&&It[ce[1]]||he&&(ce=(oe=he).match(/[\.\\]([^\.\\])+$/),ce&&It[ce[1]])?It[ce[1]]:"application/octet-stream"}function qt(te){for(var he=ig(te),oe=[],ce=0;ce<he.length;ce+=76)oe.push(he.slice(ce,ce+76));return oe.join(`\r
`)+`\r
`}function ra(te){var he=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Le){var Ie=Le.charCodeAt(0).toString(16).toUpperCase();return"="+(Ie.length==1?"0"+Ie:Ie)});he=he.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),he.charAt(0)==`
`&&(he="=0D"+he.slice(1)),he=he.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],ce=he.split(`\r
`),me=0;me<ce.length;++me){var pe=ce[me];if(pe.length==0){oe.push("");continue}for(var Ce=0;Ce<pe.length;){var Be=76,Te=pe.slice(Ce,Ce+Be);Te.charAt(Be-1)=="="?Be--:Te.charAt(Be-2)=="="?Be-=2:Te.charAt(Be-3)=="="&&(Be-=3),Te=pe.slice(Ce,Ce+Be),Ce+=Be,Ce<pe.length&&(Te+="="),oe.push(Te)}}return oe.join(`\r
`)}function Ge(te){for(var he=[],oe=0;oe<te.length;++oe){for(var ce=te[oe];oe<=te.length&&ce.charAt(ce.length-1)=="=";)ce=ce.slice(0,ce.length-1)+te[++oe];he.push(ce)}for(var me=0;me<he.length;++me)he[me]=he[me].replace(/[=][0-9A-Fa-f]{2}/g,function(pe){return String.fromCharCode(parseInt(pe.slice(1),16))});return pi(he.join(`\r
`))}function xr(te,he,oe){for(var ce="",me="",pe="",Ce,Be=0;Be<10;++Be){var Te=he[Be];if(!Te||Te.match(/^\s*$/))break;var Le=Te.match(/^(.*?):\s*([^\s].*)$/);if(Le)switch(Le[1].toLowerCase()){case"content-location":ce=Le[2].trim();break;case"content-type":pe=Le[2].trim();break;case"content-transfer-encoding":me=Le[2].trim();break}}switch(++Be,me.toLowerCase()){case"base64":Ce=pi(Ai(he.slice(Be).join("")));break;case"quoted-printable":Ce=Ge(he.slice(Be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+me)}var Ie=jn(te,ce.slice(oe.length),Ce,{unsafe:!0});pe&&(Ie.ctype=pe)}function xs(te,he){if(z(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=he&&he.root||"",ce=(Jt&&Buffer.isBuffer(te)?te.toString("binary"):z(te)).split(`\r
`),me=0,pe="";for(me=0;me<ce.length;++me)if(pe=ce[me],!!/^Content-Location:/i.test(pe)&&(pe=pe.slice(pe.indexOf("file")),oe||(oe=pe.slice(0,pe.lastIndexOf("/")+1)),pe.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),pe.slice(0,oe.length)!=oe););var Ce=(ce[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var Be="--"+(Ce[1]||""),Te=[],Le=[],Ie={FileIndex:Te,FullPaths:Le};j(Ie);var et,ot=0;for(me=0;me<ce.length;++me){var mt=ce[me];mt!==Be&&mt!==Be+"--"||(ot++&&xr(Ie,ce.slice(et,me),oe),et=me)}return Ie}function Pt(te,he){var oe=he||{},ce=oe.boundary||"SheetJS";ce="------="+ce;for(var me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ce.slice(2)+'"',"","",""],pe=te.FullPaths[0],Ce=pe,Be=te.FileIndex[0],Te=1;Te<te.FullPaths.length;++Te)if(Ce=te.FullPaths[Te].slice(pe.length),Be=te.FileIndex[Te],!(!Be.size||!Be.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($t){return"_x"+$t.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($t){return"_u"+$t.charCodeAt(0).toString(16)+"_"});for(var Le=Be.content,Ie=Jt&&Buffer.isBuffer(Le)?Le.toString("binary"):z(Le),et=0,ot=Math.min(1024,Ie.length),mt=0,at=0;at<=ot;++at)(mt=Ie.charCodeAt(at))>=32&&mt<128&&++et;var ht=et>=ot*4/5;me.push(ce),me.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Ce),me.push("Content-Transfer-Encoding: "+(ht?"quoted-printable":"base64")),me.push("Content-Type: "+jt(Be,Ce)),me.push(""),me.push(ht?ra(Ie):qt(Ie))}return me.push(ce+`--\r
`),me.join(`\r
`)}function vs(te){var he={};return j(he,te),he}function jn(te,he,oe,ce){var me=ce&&ce.unsafe;me||j(te);var pe=!me&&Tt.find(te,he);if(!pe){var Ce=te.FullPaths[0];he.slice(0,Ce.length)==Ce?Ce=he:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+he).replace("//","/")),pe={name:a(he),type:2},te.FileIndex.push(pe),te.FullPaths.push(Ce),me||Tt.utils.cfb_gc(te)}return pe.content=oe,pe.size=oe?oe.length:0,ce&&(ce.CLSID&&(pe.clsid=ce.CLSID),ce.mt&&(pe.mt=ce.mt),ce.ct&&(pe.ct=ce.ct)),pe}function pa(te,he){j(te);var oe=Tt.find(te,he);if(oe){for(var ce=0;ce<te.FileIndex.length;++ce)if(te.FileIndex[ce]==oe)return te.FileIndex.splice(ce,1),te.FullPaths.splice(ce,1),!0}return!1}function Wr(te,he,oe){j(te);var ce=Tt.find(te,he);if(ce){for(var me=0;me<te.FileIndex.length;++me)if(te.FileIndex[me]==ce)return te.FileIndex[me].name=a(oe),te.FullPaths[me]=oe,!0}return!1}function vr(te){E(te,!0)}return t.find=O,t.read=A,t.parse=d,t.write=Q,t.writeFile=Y,t.utils={cfb_new:vs,cfb_add:jn,cfb_del:pa,cfb_mov:Wr,cfb_gc:vr,ReadShift:xp,CheckField:t9,prep_blob:Ba,bconcat:ja,use_zlib:L,_deflateRaw:st,_inflateRaw:nr,consts:B},t}();function ate(e){return typeof e=="string"?x2(e):Array.isArray(e)?Tee(e):e}function rx(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=x2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ml(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([ate(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=ed(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function ste(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Sn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function JT(e,t){for(var r=[],n=Sn(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function y2(e){for(var t=[],r=Sn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function b2(e){for(var t=[],r=Sn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function ite(e){for(var t=[],r=Sn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var My=new Date(1899,11,30,0,0,0);function ua(e,t){var r=e.getTime(),n=My.getTime()+(e.getTimezoneOffset()-My.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var FR=new Date,ote=My.getTime()+(FR.getTimezoneOffset()-My.getTimezoneOffset())*6e4,QT=FR.getTimezoneOffset();function w2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+ote),t.getTimezoneOffset()!==QT&&t.setTime(t.getTime()+(t.getTimezoneOffset()-QT)*6e4),t}function lte(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var eP=new Date("2017-02-19T19:06:09.000Z"),DR=isNaN(eP.getFullYear())?new Date("2/19/17"):eP,cte=DR.getFullYear()==2017;function Yr(e,t){var r=new Date(e);if(cte)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(DR.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function d0(e,t){if(Jt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ml(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ml(kR(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ml(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ml(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Xr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Xr(e[r]));return t}function bn(e,t){for(var r="";r.length<t;)r+=e;return r}function zo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var ute=["january","february","march","april","may","june","july","august","september","october","november","december"];function dh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&ute.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var dte=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function IR(e){return e?e.content&&e.type?d0(e.content,!0):e.data?tp(e.data):e.asNodeBuffer&&Jt?tp(e.asNodeBuffer().toString("binary")):e.asBinary?tp(e.asBinary()):e._data&&e._data.getContent?tp(d0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function MR(e){if(!e)return null;if(e.data)return $T(e.data);if(e.asNodeBuffer&&Jt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?$T(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function fte(e){return e&&e.name.slice(-4)===".bin"?MR(e):IR(e)}function Xi(e,t){for(var r=e.FullPaths||Sn(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function $j(e,t){var r=Xi(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function qn(e,t,r){if(!r)return fte($j(e,t));if(!t)return null;try{return qn(e,t)}catch{return null}}function gi(e,t,r){if(!r)return IR($j(e,t));if(!t)return null;try{return gi(e,t)}catch{return null}}function hte(e,t,r){return MR($j(e,t))}function tP(e){for(var t=e.FullPaths||Sn(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Zt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Jt?n=Cc(r):n=Pee(r),Tt.utils.cfb_add(e,t,n)}Tt.utils.cfb_add(e,t,r)}else e.file(t,r)}function Wj(){return Tt.utils.cfb_new()}function RR(e,t){switch(t.type){case"base64":return Tt.read(e,{type:"base64"});case"binary":return Tt.read(e,{type:"binary"});case"buffer":case"array":return Tt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function np(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var zn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,mte=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,rP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,pte=/<[^>]*>/g,ps=zn.match(rP)?rP:pte,gte=/<\w*:/,xte=/<(\/?)\w+:/;function Ut(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(mte),o=0,c="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[m]&&d.slice(o-3,o)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function Ll(e){return e.replace(xte,"<$1")}var BR={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Hj=y2(BR),cr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,c){return BR[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),Vj=/[&<>'"]/g,vte=/[\u0000-\u0008\u000b-\u001f]/g;function Ar(e){var t=e+"";return t.replace(Vj,function(r){return Hj[r]}).replace(vte,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function nP(e){return Ar(e).replace(/ /g,"_x0020_")}var zR=/[\u0000-\u001f]/g;function qj(e){var t=e+"";return t.replace(Vj,function(r){return Hj[r]}).replace(/\n/g,"<br/>").replace(zR,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function yte(e){var t=e+"";return t.replace(Vj,function(r){return Hj[r]}).replace(zR,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var aP=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function bte(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function qr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ck(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function sP(e){var t=Iu(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function iP(e){return Cc(e,"binary").toString("utf8")}var K1="foo bar baz",Pr=Jt&&(iP(K1)==ck(K1)&&iP||sP(K1)==ck(K1)&&sP)||ck,ml=Jt?function(e){return Cc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},lg=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),UR=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),wte=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),kte=/<\/?(?:vt:)?variant>/g,Nte=/<(?:vt:)([^>]*)>([\s\S]*)</;function oP(e,t){var r=Ut(e),n=e.match(wte(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(kte,"").match(Nte);i&&a.push({v:Pr(i[2]),t:i[1]})}),a}var $R=/(^\s|\s$|\n)/;function za(e,t){return"<"+e+(t.match($R)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function cg(e){return Sn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function lt(e,t,r){return"<"+e+(r!=null?cg(r):"")+(t!=null?(t.match($R)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function _N(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Ste(e,t){switch(typeof e){case"string":var r=lt("vt:lpwstr",Ar(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return lt((e|0)==e?"vt:i4":"vt:r8",Ar(String(e)));case"boolean":return lt("vt:bool",e?"true":"false")}if(e instanceof Date)return lt("vt:filetime",_N(e));throw new Error("Unable to serialize "+e)}function Gj(e){if(Jt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Pr(ed(Bj(e)));throw new Error("Bad input format: expected Buffer or string")}var ug=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,oa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},A0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],hi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function jte(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Ate(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var lP=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},cP=Jt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Cc(t)})):lP(e)}:lP,uP=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(rc(e,a)));return n.join("").replace(Ts,"")},Kj=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ts,""):uP(e,t,r)}:uP,dP=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},WR=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):dP(e,t,r)}:dP,fP=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(gf(e,a)));return n.join("")},nx=Jt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):fP(t,r,n)}:fP,HR=function(e,t){var r=mi(e,t);return r>0?nx(e,t+4,t+4+r-1):""},VR=HR,qR=function(e,t){var r=mi(e,t);return r>0?nx(e,t+4,t+4+r-1):""},GR=qR,KR=function(e,t){var r=2*mi(e,t);return r>0?nx(e,t+4,t+4+r-1):""},YR=KR,XR=function(t,r){var n=mi(t,r);return n>0?Kj(t,r+4,r+4+n):""},ZR=XR,JR=function(e,t){var r=mi(e,t);return r>0?nx(e,t+4,t+4+r):""},QR=JR,e9=function(e,t){return jte(e,t)},Ry=e9,Yj=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Jt&&(VR=function(t,r){if(!Buffer.isBuffer(t))return HR(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},GR=function(t,r){if(!Buffer.isBuffer(t))return qR(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},YR=function(t,r){if(!Buffer.isBuffer(t))return KR(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},ZR=function(t,r){if(!Buffer.isBuffer(t))return XR(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},QR=function(t,r){if(!Buffer.isBuffer(t))return JR(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Ry=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):e9(t,r)},Yj=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var gf=function(e,t){return e[t]},rc=function(e,t){return e[t+1]*256+e[t]},_te=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},mi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},_d=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Ete=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function xp(e,t){var r="",n,a,s=[],i,o,c,u;switch(t){case"dbcs":if(u=this.l,Jt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(rc(this,u)),u+=2;e*=2;break;case"utf8":r=nx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Kj(this,this.l,this.l+e);break;case"wstr":return xp.call(this,e,"dbcs");case"lpstr-ansi":r=VR(this,this.l),e=4+mi(this,this.l);break;case"lpstr-cp":r=GR(this,this.l),e=4+mi(this,this.l);break;case"lpwstr":r=YR(this,this.l),e=4+2*mi(this,this.l);break;case"lpp4":e=4+mi(this,this.l),r=ZR(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+mi(this,this.l),r=QR(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=gf(this,this.l+e++))!==0;)s.push(G1(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=rc(this,this.l+e))!==0;)s.push(G1(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=gf(this,u),this.l=u+1,o=xp.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(G1(rc(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=gf(this,u),this.l=u+1,o=xp.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(G1(gf(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=gf(this,this.l),this.l++,n;case 2:return n=(t==="i"?_te:rc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?_d:Ete)(this,this.l),this.l+=4,n):(a=mi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Ry(this,this.l):a=Ry([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=WR(this,this.l,e);break}}return this.l+=e,r}var Cte=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Tte=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Pte=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Ote(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Pte(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Cte(this,t,this.l);break;case 8:if(n=8,r==="f"){Ate(this,t,this.l);break}case 16:break;case-4:n=4,Tte(this,t,this.l);break}return this.l+=n,this}function t9(e,t){var r=WR(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ba(e,t){e.l=t,e.read_shift=xp,e.chk=t9,e.write_shift=Ote}function ms(e,t){e.l+=t}function We(e){var t=Iu(e);return Ba(t,0),t}function Tc(e,t,r){if(e){var n,a,s;Ba(e,e.l||0);for(var i=e.length,o=0,c=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=gg[o]||gg[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,o))return}}}function ti(){var e=[],t=Jt?256:2048,r=function(u){var d=We(u);return Ba(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),ja(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function Xe(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=gg[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&Yj(r)&&e.push(r)}}function vp(e,t,r){var n=Xr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function hP(e,t,r){var n=Xr(e);return n.s=vp(n.s,t.s,r),n.e=vp(n.e,t.s,r),n}function yp(e,t){if(e.cRel&&e.c<0)for(e=Xr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Xr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Bt(e);return!e.cRel&&e.cRel!=null&&(r=Dte(r)),!e.rRel&&e.rRel!=null&&(r=Lte(r)),r}function uk(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ln(e.s.c)+":"+(e.e.cRel?"":"$")+ln(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Rn(e.s.r)+":"+(e.e.rRel?"":"$")+Rn(e.e.r):yp(e.s,t.biff)+":"+yp(e.e,t.biff)}function Xj(e){return parseInt(Fte(e),10)-1}function Rn(e){return""+(e+1)}function Lte(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Fte(e){return e.replace(/\$(\d+)$/,"$1")}function Zj(e){for(var t=Ite(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ln(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Dte(e){return e.replace(/^([A-Z])/,"$$$1")}function Ite(e){return e.replace(/^\$([A-Z])/,"$1")}function Mte(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function cn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Bt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ri(e){var t=e.indexOf(":");return t==-1?{s:cn(e),e:cn(e)}:{s:cn(e.slice(0,t)),e:cn(e.slice(t+1))}}function Xt(e,t){return typeof t>"u"||typeof t=="number"?Xt(e.s,e.e):(typeof e!="string"&&(e=Bt(e)),typeof t!="string"&&(t=Bt(t)),e==t?e:e+":"+t)}function ur(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function mP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=co(e.z,r?ua(t):t)}catch{}try{return e.w=co((e.XF||{}).numFmtId||(r?14:0),r?ua(t):t)}catch{return""+t}}function gc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Pc[e.v]||e.v:t==null?mP(e,e.v):mP(e,t))}function td(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function r9(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?cn(n.origin):n.origin;i=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=ur(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=i+f,g=o+h;if(u.s.r>p&&(u.s.r=p),u.s.c>g&&(u.s.c=g),u.e.r<p&&(u.e.r=p),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Mt[14],n.cellDates?(m.t="d",m.w=co(m.z,ua(m.v))):(m.t="n",m.v=ua(m.v),m.w=co(m.z,m.v))):m.t="s";if(a)s[p]||(s[p]=[]),s[p][g]&&s[p][g].z&&(m.z=s[p][g].z),s[p][g]=m;else{var x=Bt({c:g,r:p});s[x]&&s[x].z&&(m.z=s[x].z),s[x]=m}}}return u.s.c<1e7&&(s["!ref"]=Xt(u)),s}function Rh(e,t){return r9(null,e,t)}function Rte(e){return e.read_shift(4,"i")}function Uo(e,t){return t||(t=We(4)),t.write_shift(4,e),t}function us(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Aa(e,t){var r=!1;return t==null&&(r=!0,t=We(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Bte(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function zte(e,t){return t||(t=We(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Jj(e,t){var r=e.l,n=e.read_shift(1),a=us(e),s=[],i={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)s.push(Bte(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function Ute(e,t){var r=!1;return t==null&&(r=!0,t=We(15+4*e.t.length)),t.write_shift(1,0),Aa(e.t,t),r?t.slice(0,t.l):t}var $te=Jj;function Wte(e,t){var r=!1;return t==null&&(r=!0,t=We(23+4*e.t.length)),t.write_shift(1,1),Aa(e.t,t),t.write_shift(4,1),zte({},t),r?t.slice(0,t.l):t}function ho(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function _0(e,t){return t==null&&(t=We(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function E0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function C0(e,t){return t==null&&(t=We(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Hte=us,n9=Aa;function Qj(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function By(e,t){var r=!1;return t==null&&(r=!0,t=We(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Vte=us,EN=Qj,eA=By;function tA(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Ry([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):_d(t,0)>>2;return r?a/100:a}function a9(e,t){t==null&&(t=We(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function s9(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function qte(e,t){return t||(t=We(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var T0=s9,Bh=qte;function is(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function f0(e,t){return(t||We(8)).write_shift(8,e,"f")}function Gte(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Hd[a];u&&(t.rgb=fg(u));break;case 2:t.rgb=fg([i,o,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function zy(e,t){if(t||(t=We(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Kte(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Yte(e,t){t||(t=We(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function i9(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Xte(e){return i9(e,1)}function Zte(e){return i9(e,2)}var rA=2,$s=3,Y1=11,pP=12,Uy=19,X1=64,Jte=65,Qte=71,ere=4108,tre=4126,ka=80,o9=81,rre=[ka,o9],CN={1:{n:"CodePage",t:rA},2:{n:"Category",t:ka},3:{n:"PresentationFormat",t:ka},4:{n:"ByteCount",t:$s},5:{n:"LineCount",t:$s},6:{n:"ParagraphCount",t:$s},7:{n:"SlideCount",t:$s},8:{n:"NoteCount",t:$s},9:{n:"HiddenCount",t:$s},10:{n:"MultimediaClipCount",t:$s},11:{n:"ScaleCrop",t:Y1},12:{n:"HeadingPairs",t:ere},13:{n:"TitlesOfParts",t:tre},14:{n:"Manager",t:ka},15:{n:"Company",t:ka},16:{n:"LinksUpToDate",t:Y1},17:{n:"CharacterCount",t:$s},19:{n:"SharedDoc",t:Y1},22:{n:"HyperlinksChanged",t:Y1},23:{n:"AppVersion",t:$s,p:"version"},24:{n:"DigSig",t:Jte},26:{n:"ContentType",t:ka},27:{n:"ContentStatus",t:ka},28:{n:"Language",t:ka},29:{n:"Version",t:ka},255:{},2147483648:{n:"Locale",t:Uy},2147483651:{n:"Behavior",t:Uy},1919054434:{}},TN={1:{n:"CodePage",t:rA},2:{n:"Title",t:ka},3:{n:"Subject",t:ka},4:{n:"Author",t:ka},5:{n:"Keywords",t:ka},6:{n:"Comments",t:ka},7:{n:"Template",t:ka},8:{n:"LastAuthor",t:ka},9:{n:"RevNumber",t:ka},10:{n:"EditTime",t:X1},11:{n:"LastPrinted",t:X1},12:{n:"CreatedDate",t:X1},13:{n:"ModifiedDate",t:X1},14:{n:"PageCount",t:$s},15:{n:"WordCount",t:$s},16:{n:"CharCount",t:$s},17:{n:"Thumbnail",t:Qte},18:{n:"Application",t:ka},19:{n:"DocSecurity",t:$s},255:{},2147483648:{n:"Locale",t:Uy},2147483651:{n:"Behavior",t:Uy},1919054434:{}},gP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},nre=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function are(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var sre=are([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Hd=Xr(sre),Pc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},l9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},PN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Z1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function nA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function ire(e){var t=nA();if(!e||!e.match)return t;var r={};if((e.match(ps)||[]).forEach(function(n){var a=Ut(n);switch(a[0].replace(gte,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[PN[a.ContentType]]!==void 0&&t[PN[a.ContentType]].push(a.PartName);break}}),t.xmlns!==oa.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function c9(e,t){var r=ite(PN),n=[],a;n[n.length]=zn,n[n.length]=lt("Types",null,{xmlns:oa.CT,"xmlns:xsd":oa.xsd,"xmlns:xsi":oa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return lt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=lt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Z1[c][t.bookType]||Z1[c].xlsx}))},i=function(c){(e[c]||[]).forEach(function(u){n[n.length]=lt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Z1[c][t.bookType]||Z1[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=lt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Qt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function dg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function bp(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(ps)||[]).forEach(function(a){var s=Ut(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:np(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}function Yf(e){var t=[zn,lt("Relationships",null,{xmlns:oa.RELS})];return Sn(e["!id"]).forEach(function(r){t[t.length]=lt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Sr(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Qt.HLINK,Qt.XPATH,Qt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var ore="application/vnd.oasis.opendocument.spreadsheet";function lre(e,t){for(var r=Gj(e),n,a;n=ug.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Ut(n[0],!1),a.path=="/"&&a.type!==ore)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function cre(e){var t=[zn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function xP(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function ure(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function dre(e){var t=[zn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(xP(e[r][0],e[r][1])),t.push(ure("",e[r][0]));return t.push(xP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function u9(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ly.version+"</meta:generator></office:meta></office:document-meta>"}var ao=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],fre=function(){for(var e=new Array(ao.length),t=0;t<ao.length;++t){var r=ao[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function d9(e){var t={};e=Pr(e);for(var r=0;r<ao.length;++r){var n=ao[r],a=e.match(fre[r]);a!=null&&a.length>0&&(t[n[1]]=cr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Yr(t[n[1]]))}return t}function dk(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Ar(t),n[n.length]=r?lt(e,t,r):za(e,t))}function f9(e,t){var r=t||{},n=[zn,lt("cp:coreProperties",null,{"xmlns:cp":oa.CORE_PROPS,"xmlns:dc":oa.dc,"xmlns:dcterms":oa.dcterms,"xmlns:dcmitype":oa.dcmitype,"xmlns:xsi":oa.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&dk("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:_N(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&dk("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:_N(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=ao.length;++s){var i=ao[s],o=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&dk(i[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Vd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],h9=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function m9(e,t,r,n){var a=[];if(typeof e=="string")a=oP(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?oP(t,n).map(function(d){return d.v}):t,o=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(o,o+c);break}o+=c}}function hre(e,t,r){var n={};return t||(t={}),e=Pr(e),Vd.forEach(function(a){var s=(e.match(lg(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=cr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&m9(n.HeadingPairs,n.TitlesOfParts,t,r),t}function p9(e){var t=[],r=lt;return e||(e={}),e.Application="SheetJS",t[t.length]=zn,t[t.length]=lt("Properties",null,{xmlns:oa.EXT_PROPS,"xmlns:vt":oa.vt}),Vd.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Ar(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Ar(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var mre=/<[^>]+>[^<]*/g;function pre(e,t){var r={},n="",a=e.match(mre);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=Ut(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=cr(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=cr(d);break;case"bool":r[n]=qr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Yr(d);break;case"cy":case"error":r[n]=cr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}function g9(e){var t=[zn,lt("Properties",null,{xmlns:oa.CUST_PROPS,"xmlns:vt":oa.vt})];if(!e)return t.join("");var r=1;return Sn(e).forEach(function(a){++r,t[t.length]=lt("property",Ste(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ar(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ON={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},fk;function gre(e,t,r){fk||(fk=y2(ON)),t=fk[t]||t,e[t]=r}function xre(e,t){var r=[];return Sn(ON).map(function(n){for(var a=0;a<ao.length;++a)if(ao[a][1]==n)return ao[a];for(a=0;a<Vd.length;++a)if(Vd[a][1]==n)return Vd[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(za(ON[n[1]]||n[1],a))}}),lt("DocumentProperties",r.join(""),{xmlns:hi.o})}function vre(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Sn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var i=0;i<ao.length;++i)if(s==ao[i][1])return;for(i=0;i<Vd.length;++i)if(s==Vd[i][1])return;for(i=0;i<r.length;++i)if(s==r[i])return;var o=e[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(lt(nP(s),o,{"dt:dt":c}))}}),t&&Sn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var i=t[s],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),a.push(lt(nP(s),i,{"dt:dt":o}))}}),"<"+n+' xmlns="'+hi.o+'">'+a.join("")+"</"+n+">"}function aA(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function yre(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=We(8);return i.write_shift(4,n),i.write_shift(4,a),i}function x9(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function v9(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function y9(e,t,r){return t===31?v9(e):x9(e,t,r)}function LN(e,t,r){return y9(e,t,r===!1?0:4)}function bre(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return y9(e,t,0)}function wre(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ts,""),e.l-a&2&&(e.l+=2)}return r}function kre(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ts,"");return r}function Nre(e){var t=e.l,r=$y(e,o9);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=$y(e,$s);return[r,n]}function Sre(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Nre(e));return r}function vP(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Ts,"").replace(rp,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function b9(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function jre(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function $y(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==pP&&n!==t&&rre.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===pP?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return x9(e,n,4).replace(Ts,"");case 31:return v9(e);case 64:return aA(e);case 65:return b9(e);case 71:return jre(e);case 80:return LN(e,n,!s.raw).replace(Ts,"");case 81:return bre(e,n).replace(Ts,"");case 4108:return Sre(e);case 4126:case 4127:return n==4127?wre(e):kre(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function yP(e,t){var r=We(4),n=We(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=We(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=yre(t);break;case 31:case 80:for(n=We(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ja([r,n])}function bP(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,c=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(y,b){return y[1]-b[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var m=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(m=!1,e.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var p=t[s[i][0]];if(h[p.n]=$y(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Do(o=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(s[i][0]===1){if(o=h.CodePage=$y(e,rA),Do(o),c!==-1){var g=e.l;e.l=s[c][1],u=vP(e,o),e.l=g}}else if(s[i][0]===0){if(o===0){c=i,e.l=s[i+1][1];continue}u=vP(e,o)}else{var x=u[s[i][0]],v;switch(e[e.l]){case 65:e.l+=4,v=b9(e);break;case 30:e.l+=4,v=LN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=LN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=Cn(e,4);break;case 64:e.l+=4,v=Yr(aA(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[x]=v}}return e.l=r+n,h}var w9=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Are(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function wP(e,t,r){var n=We(8),a=[],s=[],i=8,o=0,c=We(8),u=We(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),i+=8+c.length,!t){u=We(8),u.write_shift(4,0),a.unshift(u);var d=[We(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=We(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=ja(d),s.unshift(c),i+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(w9.indexOf(e[o][0])>-1||h9.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],m=0;if(t){m=+t[e[o][0]];var p=r[m];if(p.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}c=yP(p.t,h)}else{var x=Are(h);x==-1&&(x=31,h=String(h)),c=yP(x,h)}s.push(c),u=We(8),u.write_shift(4,t?m:2+o),a.push(u),i+=8+c.length}var v=8*(s.length+1);for(o=0;o<s.length;++o)a[o].write_shift(4,v),v+=s[o].length;return n.write_shift(4,i),n.write_shift(4,s.length),ja([n].concat(a).concat(s))}function kP(e,t,r){var n=e.content;if(!n)return{};Ba(n,0);var a,s,i,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Tt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var f=bP(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var p;try{p=bP(n,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[s,i],h}function NP(e,t,r,n,a,s){var i=We(a?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Tt.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var c=wP(e,r,n);if(o.push(c),a){var u=wP(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),o.push(u)}return ja(o)}function eu(e,t){return e.read_shift(t),null}function _re(e,t){t||(t=We(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Ere(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Cn(e,t){return e.read_shift(t)===1}function Ss(e,t){return t||(t=We(2)),t.write_shift(2,+!!e),t}function Gn(e){return e.read_shift(2,"u")}function Zi(e,t){return t||(t=We(2)),t.write_shift(2,e),t}function k9(e,t){return Ere(e,t,Gn)}function Cre(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function N9(e,t,r){return r||(r=We(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function ax(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function Tre(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,c={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=o),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Pre(e){var t=e.t||"",r=We(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=We(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return ja(a)}function h0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function sx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):h0(e,n,r)}function P0(e,t,r){if(r.biff>5)return sx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function S9(e,t,r){return r||(r=We(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Ore(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Lre(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ts,"");return n&&(e.l+=24),a}function Fre(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(Ts,"");return r+i}function Dre(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Lre(e);case"0303000000000000c000000000000046":return Fre(e);default:throw new Error("Unsupported Moniker "+r)}}function J1(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ts,""):"";return r}function SP(e,t){t||(t=We(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Ire(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,c,u="",d,f;a&16&&(s=J1(e,r-e.l)),a&128&&(i=J1(e,r-e.l)),(a&257)===257&&(o=J1(e,r-e.l)),(a&257)===1&&(c=Dre(e,r-e.l)),a&8&&(u=J1(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=aA(e)),e.l=r;var h=i||o||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function Mre(e){var t=We(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(s==28)n=n.slice(1),SP(n,t);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),s&8&&SP(a>-1?n.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function j9(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function A9(e,t){var r=j9(e);return r[3]=0,r}function Fl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function m0(e,t,r,n){return n||(n=We(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Rre(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Bre(e,t,r){return t===0?"":P0(e,t,r)}function zre(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function _9(e){var t=e.read_shift(2),r=tA(e);return[t,r]}function Ure(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=ax(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function k2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function E9(e,t){return t||(t=We(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function C9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var $re=C9;function T9(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Wre(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Hre(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ka(e){e.l+=2,e.l+=e.read_shift(2)}var Vre={0:Ka,4:Ka,5:Ka,6:Ka,7:Hre,8:Ka,9:Ka,10:Ka,11:Ka,12:Ka,13:Wre,14:Ka,15:Ka,16:Ka,17:Ka,18:Ka,19:Ka,20:Ka,21:T9};function qre(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Vre[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Q1(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function sA(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=We(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Gre(e,t){return t===0||e.read_shift(2),1200}function Kre(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=P0(e,0,r);return e.read_shift(t+n-e.l),a}function Yre(e,t){var r=!t||t.biff==8,n=We(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Xre(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Zre(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=ax(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function Jre(e,t){var r=!t||t.biff>=8?2:1,n=We(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Qre(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(Tre(e));return s.Count=n,s.Unique=a,s}function ene(e,t){var r=We(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Pre(e[a]);var s=ja([r].concat(n));return s.parts=[r.length].concat(n.map(function(i){return i.length})),s}function tne(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function rne(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function nne(e){var t=Rre(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function ane(e){return e.read_shift(2),e.read_shift(4)}function jP(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function sne(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:c,TabRatio:u}}function ine(){var e=We(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function one(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function lne(e){var t=We(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function cne(){}function une(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=ax(e,0,r),n}function dne(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=We(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function fne(e){var t=Fl(e);return t.isst=e.read_shift(4),t}function hne(e,t,r,n){var a=We(10);return m0(e,t,n,a),a.write_shift(4,r),a}function mne(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Fl(e);r.biff==2&&e.l++;var s=sx(e,n-e.l,r);return a.val=s,a}function pne(e,t,r,n,a){var s=!a||a.biff==8,i=We(8+ +s+(1+s)*r.length);return m0(e,t,n,i),i.write_shift(2,r.length),s&&i.write_shift(1,1),i.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),i}function gne(e,t,r){var n=e.read_shift(2),a=P0(e,0,r);return[n,a]}function xne(e,t,r,n){var a=r&&r.biff==5;n||(n=We(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var vne=P0;function AP(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c}}}function yne(e,t){var r=t.biff==8||!t.biff?4:2,n=We(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function bne(e){var t=e.read_shift(2),r=e.read_shift(2),n=_9(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function wne(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(_9(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function kne(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function Nne(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=nre[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function Sne(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Nne(e,t,n.fStyle,r),n}function _P(e,t,r,n){var a=r&&r.biff==5;n||(n=We(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function jne(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Ane(e){var t=We(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function EP(e,t,r){var n=Fl(e);(r.biff==2||t==9)&&++e.l;var a=Cre(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function _ne(e,t,r,n,a,s){var i=We(8);return m0(e,t,n,i),N9(r,s,i),i}function Ene(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Fl(e),a=is(e);return n.val=a,n}function Cne(e,t,r,n){var a=We(14);return m0(e,t,n,a),f0(r,a),a}var CP=Bre;function Tne(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=h0(e,s),o=[];n>e.l;)o.push(sx(e));return[s,a,i,o]}function TP(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Ure(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var Pne=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function PP(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=h0(e,i,r);a&32&&(u=Pne[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:qoe(e,d,r,o);return{chKey:s,Name:u,itab:c,rgce:f}}function P9(e,t,r){if(r.biff<8)return One(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(zre(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function One(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ax(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Lne(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=h0(e,n,r),i=h0(e,a,r);return[s,i]}function Fne(e,t,r){var n=C9(e);e.l++;var a=e.read_shift(1);return t-=8,[Goe(e,t,r),a,n]}function OP(e,t,r){var n=$re(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Hoe(e,t,r)]}function Dne(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Ine(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=P0(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function Mne(e,t,r){return Ine(e,t,r)}function Rne(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(k2(e));return r}function Bne(e){var t=We(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)E9(e[r],t);return t}function zne(e,t,r){if(r&&r.biff<8)return $ne(e,t,r);var n=T9(e),a=qre(e,t-22,n[1]);return{cmo:n,ft:a}}var Une={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function $ne(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((Une[n]||ms)(e,t,r)),{cmo:[a,n,s],ft:i}}function Wne(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Ore(e,6,r);var o=e.read_shift(2);e.read_shift(2),Gn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=h0(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Hne(e,t){var r=k2(e);e.l+=16;var n=Ire(e,t-24);return[r,n]}function Vne(e){var t=We(24),r=cn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return ja([t,Mre(e[1])])}function qne(e,t){e.read_shift(2);var r=k2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ts,""),[r,n]}function Gne(e){var t=e[1].Tooltip,r=We(10+2*(t.length+1));r.write_shift(2,2048);var n=cn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Kne(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=gP[r]||r,r=e.read_shift(2),t[1]=gP[r]||r,t}function Yne(e){return e||(e=We(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Xne(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(A9(e));return r}function Zne(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(A9(e));return r}function Jne(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function O9(e,t,r){if(!r.cellStyles)return ms(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Qne(e,t){var r=We(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function eae(e,t){var r={};return t<32||(e.l+=16,r.header=is(e),r.footer=is(e),e.l+=2),r}function tae(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function rae(e){for(var t=We(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var nae=Fl,aae=k9,sae=sx;function iae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function oae(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Fl(e);++e.l;var a=P0(e,t-7,r);return n.t="str",n.val=a,n}function lae(e){var t=Fl(e);++e.l;var r=is(e);return t.t="n",t.val=r,t}function cae(e,t,r){var n=We(15);return cx(n,e,t),n.write_shift(8,r,"f"),n}function uae(e){var t=Fl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function dae(e,t,r){var n=We(9);return cx(n,e,t),n.write_shift(2,r),n}function fae(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function hae(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function mae(e,t,r){var n=e.l+t,a=Fl(e),s=e.read_shift(2),i=h0(e,s,r);return e.l=n,a.t="str",a.val=i,a}var pae=[2,3,48,49,131,139,140,245],FN=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=y2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Iu(1);switch(c.type){case"base64":d=pi(Ai(o));break;case"binary":d=pi(o);break;case"buffer":case"array":d=o;break}Ba(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,x=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var b=[],N={},S=Math.min(d.length,f==2?521:x-10-(m?264:0)),A=p?32:11;d.l<S&&d[d.l]!=13;)switch(N={},N.name=sg.utils.decode(y,d.slice(d.l,d.l+A)).replace(/[\u0000\r\n].*$/g,""),d.l+=A,N.type=String.fromCharCode(d.read_shift(1)),f!=2&&!p&&(N.offset=d.read_shift(4)),N.len=d.read_shift(1),f==2&&(N.offset=d.read_shift(2)),N.dec=d.read_shift(1),N.name.length&&b.push(N),f!=2&&(d.l+=p?13:14),N.type){case"B":(!m||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var j=0,C=0;for(u[0]=[],C=0;C!=b.length;++C)u[0][C]=b[C].name;for(;g-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++j]=[],C=0,C=0;C!=b.length;++C){var E=d.slice(d.l,d.l+b[C].len);d.l+=b[C].len,Ba(E,0);var F=sg.utils.decode(y,E);switch(b[C].type){case"C":F.trim().length&&(u[j][C]=F.replace(/\s+$/,""));break;case"D":F.length===8?u[j][C]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):u[j][C]=F;break;case"F":u[j][C]=parseFloat(F.trim());break;case"+":case"I":u[j][C]=p?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":u[j][C]=!0;break;case"N":case"F":u[j][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][C]="##MEMO##"+(p?parseInt(F.trim(),10):E.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(u[j][C]=+F||0);break;case"@":u[j][C]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":u[j][C]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":u[j][C]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][C]=-E.read_shift(-8,"f");break;case"B":if(m&&b[C].len==8){u[j][C]=E.read_shift(8,"f");break}case"G":case"P":E.l+=b[C].len;break;case"0":if(b[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[C].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Rh(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,c){try{return td(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,c){var u=c||{};if(+u.codepage>=0&&Do(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=ti(),f=Vy(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=o["!cols"]||[],g=0,x=0,v=0,y=1;for(g=0;g<h.length;++g){if(((p[g]||{}).DBF||{}).name){h[g]=p[g].DBF.name,++v;continue}if(h[g]!=null){if(++v,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(x=0;x<1024;++x)if(h.indexOf(h[g]+"_"+x)==-1){h[g]+="_"+x;break}}}}var b=ur(o["!ref"]),N=[],S=[],A=[];for(g=0;g<=b.e.c-b.s.c;++g){var j="",C="",E=0,F=[];for(x=0;x<m.length;++x)m[x][g]!=null&&F.push(m[x][g]);if(F.length==0||h[g]==null){N[g]="?";continue}for(x=0;x<F.length;++x){switch(typeof F[x]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=F[x]instanceof Date?"D":"C";break;default:C="C"}E=Math.max(E,String(F[x]).length),j=j&&j!=C?"C":C}E>250&&(E=250),C=((p[g]||{}).DBF||{}).type,C=="C"&&p[g].DBF.len>E&&(E=p[g].DBF.len),j=="B"&&C=="N"&&(j="N",A[g]=p[g].DBF.dec,E=p[g].DBF.len),S[g]=j=="C"||C=="N"?E:s[j]||0,y+=S[g],N[g]=j}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*v),O.write_shift(2,y),g=0;g<4;++g)O.write_shift(4,0);for(O.write_shift(4,0|(+t[wR]||3)<<8),g=0,x=0;g<h.length;++g)if(h[g]!=null){var T=d.next(32),H=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,H,"sbcs"),T.write_shift(1,N[g]=="?"?"C":N[g],"sbcs"),T.write_shift(4,x),T.write_shift(1,S[g]||s[N[g]]||0),T.write_shift(1,A[g]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),x+=S[g]||s[N[g]]||0}var K=d.next(264);for(K.write_shift(4,13),g=0;g<65;++g)K.write_shift(4,0);for(g=0;g<m.length;++g){var se=d.next(y);for(se.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(N[x]){case"L":se.write_shift(1,m[g][x]==null?63:m[g][x]?84:70);break;case"B":se.write_shift(8,m[g][x]||0,"f");break;case"N":var M="0";for(typeof m[g][x]=="number"&&(M=m[g][x].toFixed(A[x]||0)),v=0;v<S[x]-M.length;++v)se.write_shift(1,32);se.write_shift(1,M,"sbcs");break;case"D":m[g][x]?(se.write_shift(4,("0000"+m[g][x].getFullYear()).slice(-4),"sbcs"),se.write_shift(2,("00"+(m[g][x].getMonth()+1)).slice(-2),"sbcs"),se.write_shift(2,("00"+m[g][x].getDate()).slice(-2),"sbcs")):se.write_shift(8,"00000000","sbcs");break;case"C":var B=String(m[g][x]!=null?m[g][x]:"").slice(0,S[x]);for(se.write_shift(1,B,"sbcs"),v=0;v<S[x]-B.length;++v)se.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),L9=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Sn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?WT(p):p},n=function(h,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?h:WT(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(Ai(h),m);case"binary":return s(h,m);case"buffer":return s(Jt&&Buffer.isBuffer(h)?h.toString("binary"):ed(h),m);case"array":return s(d0(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var p=h.split(/[\n\r]+/),g=-1,x=-1,v=0,y=0,b=[],N=[],S=null,A={},j=[],C=[],E=[],F=0,O;for(+m.codepage>=0&&Do(+m.codepage);v!==p.length;++v){F=0;var T=p[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),H=T.replace(/;;/g,"\0").split(";").map(function(I){return I.replace(/\u0000/g,";")}),K=H[0],se;if(T.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&N.push(T.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,B=!1,Y=!1,z=!1,Q=-1,de=-1;for(y=1;y<H.length;++y)switch(H[y].charAt(0)){case"A":break;case"X":x=parseInt(H[y].slice(1))-1,B=!0;break;case"Y":for(g=parseInt(H[y].slice(1))-1,B||(x=0),O=b.length;O<=g;++O)b[O]=[];break;case"K":se=H[y].slice(1),se.charAt(0)==='"'?se=se.slice(1,se.length-1):se==="TRUE"?se=!0:se==="FALSE"?se=!1:isNaN(zo(se))?isNaN(dh(se).getDate())||(se=Yr(se)):(se=zo(se),S!==null&&Ih(S)&&(se=w2(se))),M=!0;break;case"E":z=!0;var L=Xf(H[y].slice(1),{r:g,c:x});b[g][x]=[b[g][x],L];break;case"S":Y=!0,b[g][x]=[b[g][x],"S5S"];break;case"G":break;case"R":Q=parseInt(H[y].slice(1))-1;break;case"C":de=parseInt(H[y].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}if(M&&(b[g][x]&&b[g][x].length==2?b[g][x][0]=se:b[g][x]=se,S=null),Y){if(z)throw new Error("SYLK shared formula cannot have own formula");var R=Q>-1&&b[Q][de];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");b[g][x][1]=Z9(R[1],{r:g-Q,c:x-de})}break;case"F":var U=0;for(y=1;y<H.length;++y)switch(H[y].charAt(0)){case"X":x=parseInt(H[y].slice(1))-1,++U;break;case"Y":for(g=parseInt(H[y].slice(1))-1,O=b.length;O<=g;++O)b[O]=[];break;case"M":F=parseInt(H[y].slice(1))/20;break;case"F":break;case"G":break;case"P":S=N[parseInt(H[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=H[y].slice(1).split(" "),O=parseInt(E[0],10);O<=parseInt(E[1],10);++O)F=parseInt(E[2],10),C[O-1]=F===0?{hidden:!0}:{wch:F},Mu(C[O-1]);break;case"C":x=parseInt(H[y].slice(1))-1,C[x]||(C[x]={});break;case"R":g=parseInt(H[y].slice(1))-1,j[g]||(j[g]={}),F>0?(j[g].hpt=F,j[g].hpx=hh(F)):F===0&&(j[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}U<1&&(S=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}}return j.length>0&&(A["!rows"]=j),C.length>0&&(A["!cols"]=C),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,A]}function i(h,m){var p=a(h,m),g=p[0],x=p[1],v=Rh(g,m);return Sn(x).forEach(function(y){v[y]=x[y]}),v}function o(h,m){return td(i(h,m),m)}function c(h,m,p,g){var x="C;Y"+(p+1)+";X"+(g+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+dA(h.f,{r:p,c:g}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,m){m.forEach(function(p,g){var x="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?x+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=hg(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=mg(p.wpx)),typeof p.wch=="number"&&(x+=Math.round(p.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,m){m.forEach(function(p,g){var x="F;";p.hidden?x+="M0;":p.hpt?x+="M"+20*p.hpt+";":p.hpx&&(x+="M"+20*pg(p.hpx)+";"),x.length>2&&h.push(x+"R"+(g+1))})}function f(h,m){var p=["ID;PWXL;N;E"],g=[],x=ur(h["!ref"]),v,y=Array.isArray(h),b=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&d(p,h["!rows"]),p.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var N=x.s.r;N<=x.e.r;++N)for(var S=x.s.c;S<=x.e.c;++S){var A=Bt({r:N,c:S});v=y?(h[N]||[])[S]:h[A],!(!v||v.v==null&&(!v.f||v.F))&&g.push(c(v,h,N,S))}return p.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),F9=function(){function e(s,i){switch(i.type){case"base64":return t(Ai(s),i);case"binary":return t(s,i);case"buffer":return t(Jt&&Buffer.isBuffer(s)?s.toString("binary"):ed(s),i);case"array":return t(d0(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),m=h[0],p=h[1];++d;for(var g=o[d]||"";(g.match(/["]/g)||[]).length&1&&d<o.length-1;)g+=`
`+o[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(zo(p))?isNaN(dh(p).getDate())?f[c][u]=p:f[c][u]=Yr(p):f[c][u]=zo(p),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return Rh(e(s,i),i)}function n(s,i){return td(r(s,i),i)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=ur(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var g=Bt({r:m,c:p});if(f=h?(c[m]||[])[p]:c[g],!f){i(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,x,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=co(f.z||Mt[14],ua(Yr(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var v=`\r
`,y=u.join(v);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),D9=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,g=-1,x=0,v=[];x!==m.length;++x){var y=m[x].trim().split(":");if(y[0]==="cell"){var b=cn(y[1]);if(v.length<=b.r)for(p=v.length;p<=b.r;++p)v[p]||(v[p]=[]);switch(p=b.r,g=b.c,y[2]){case"t":v[p][g]=e(y[3]);break;case"v":v[p][g]=+y[3];break;case"vtf":var N=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[p][g]=!!+y[4];break;default:v[p][g]=+y[4];break}y[2]=="vtf"&&(v[p][g]=[v[p][g],N])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return Rh(r(f,h),h)}function a(f,h){return td(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,g="",x=ri(f["!ref"]),v=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var b=x.s.c;b<=x.e.c;++b)if(g=Bt({r:y,c:b}),p=v?(f[y]||[])[b]:f[g],!(!p||p.v==null||p.t==="z")){switch(m=["cell",g,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var N=ua(Yr(p.v));m[2]="vtc",m[3]="nd",m[4]=""+N,m[5]=p.w||co(p.z||Mt[14],N);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,o,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),fh=function(){function e(d,f,h,m,p){p.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(zo(d))?isNaN(dh(d).getDate())?f[h][m]=d:f[h][m]=Yr(d):f[h][m]=zo(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var x=10,v=0,y=0;y<=g;++y)v=p[y].indexOf(" "),v==-1?v=p[y].length:v++,x=Math.max(x,v);for(y=0;y<=g;++y){m[y]=[];var b=0;for(e(p[y].slice(0,x).trim(),m,y,b,h),b=1;b<=(p[y].length-x)/10+1;++b)e(p[y].slice(x+(b-1)*10,x+b*10).trim(),m,y,b,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(g,x){return g[0]-x[0]||n[g[1]]-n[x[1]]}),r[p.pop()[1]]||44}function s(d,f){var h=f||{},m="",p=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var x=0,v=0,y=0,b=0,N=0,S=m.charCodeAt(0),A=!1,j=0,C=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var E=h.dateNF!=null?tte(h.dateNF):null;function F(){var O=d.slice(b,N),T={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)T.t="z";else if(h.raw)T.t="s",T.v=O;else if(O.trim().length===0)T.t="s",T.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(T.t="s",T.v=O.slice(2,-1).replace(/""/g,'"')):Tie(O)?(T.t="n",T.f=O.slice(1)):(T.t="s",T.v=O);else if(O=="TRUE")T.t="b",T.v=!0;else if(O=="FALSE")T.t="b",T.v=!1;else if(!isNaN(y=zo(O)))T.t="n",h.cellText!==!1&&(T.w=O),T.v=y;else if(!isNaN(dh(O).getDate())||E&&O.match(E)){T.z=h.dateNF||Mt[14];var H=0;E&&O.match(E)&&(O=rte(O,h.dateNF,O.match(E)||[]),H=1),h.cellDates?(T.t="d",T.v=Yr(O,H)):(T.t="n",T.v=ua(Yr(O,H))),h.cellText!==!1&&(T.w=co(T.z,T.v instanceof Date?ua(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=O;if(T.t=="z"||(h.dense?(p[x]||(p[x]=[]),p[x][v]=T):p[Bt({c:v,r:x})]=T),b=N+1,C=d.charCodeAt(b),g.e.c<v&&(g.e.c=v),g.e.r<x&&(g.e.r=x),j==S)++v;else if(v=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;N<d.length;++N)switch(j=d.charCodeAt(N)){case 34:C===34&&(A=!A);break;case S:case 10:case 13:if(!A&&F())break e;break}return N-b>0&&F(),p["!ref"]=Xt(g),p}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Rh(t(d,f),f)}function o(d,f){var h="",m=f.type=="string"?[0,0,0,0]:yA(d,f);switch(f.type){case"base64":h=Ai(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof sg<"u"||(h=Jt&&Buffer.isBuffer(d)?d.toString("binary"):ed(d));break;case"array":h=d0(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Pr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Pr(h):f.type=="binary"&&typeof sg<"u",h.slice(0,19)=="socialcalc:version:"?D9.to_sheet(f.type=="string"?h:Pr(h),f):i(h,f)}function c(d,f){return td(o(d,f),f)}function u(d){for(var f=[],h=ur(d["!ref"]),m,p=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var x=[],v=h.s.c;v<=h.e.c;++v){var y=Bt({r:g,c:v});if(m=p?(d[g]||[])[v]:d[y],!m||m.v==null){x.push("          ");continue}for(var b=(m.w||(gc(m),m.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function gae(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=L9.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return fh.to_workbook(e,t)}}var qd=function(){function e(L,R,U){if(L){Ba(L,L.l||0);for(var I=U.Enum||Q;L.l<L.length;){var X=L.read_shift(2),V=I[X]||I[65535],ee=L.read_shift(2),G=L.l+ee,ue=V.f&&V.f(L,ee,U);if(L.l=G,R(ue,V,X))return}}}function t(L,R){switch(R.type){case"base64":return r(pi(Ai(L)),R);case"binary":return r(pi(L),R);case"buffer":case"array":return r(L,R)}throw"Unsupported type "+R.type}function r(L,R){if(!L)return L;var U=R||{},I=U.dense?[]:{},X="Sheet1",V="",ee=0,G={},ue=[],ve=[],q={s:{r:0,c:0},e:{r:0,c:0}},Me=U.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)U.Enum=Q,e(L,function(De,Je,Ve){switch(Ve){case 0:U.vers=De,De>=4096&&(U.qpro=!0);break;case 6:q=De;break;case 204:De&&(V=De);break;case 222:V=De;break;case 15:case 51:U.qpro||(De[1].v=De[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(De[2]&112)==112&&(De[2]&15)>1&&(De[2]&15)<15&&(De[1].z=U.dateNF||Mt[14],U.cellDates&&(De[1].t="d",De[1].v=w2(De[1].v))),U.qpro&&De[3]>ee&&(I["!ref"]=Xt(q),G[X]=I,ue.push(X),I=U.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},ee=De[3],X=V||"Sheet"+(ee+1),V="");var ye=U.dense?(I[De[0].r]||[])[De[0].c]:I[Bt(De[0])];if(ye){ye.t=De[1].t,ye.v=De[1].v,De[1].z!=null&&(ye.z=De[1].z),De[1].f!=null&&(ye.f=De[1].f);break}U.dense?(I[De[0].r]||(I[De[0].r]=[]),I[De[0].r][De[0].c]=De[1]):I[Bt(De[0])]=De[1];break}},U);else if(L[2]==26||L[2]==14)U.Enum=de,L[2]==14&&(U.qpro=!0,L.l=0),e(L,function(De,Je,Ve){switch(Ve){case 204:X=De;break;case 22:De[1].v=De[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(De[3]>ee&&(I["!ref"]=Xt(q),G[X]=I,ue.push(X),I=U.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},ee=De[3],X="Sheet"+(ee+1)),Me>0&&De[0].r>=Me)break;U.dense?(I[De[0].r]||(I[De[0].r]=[]),I[De[0].r][De[0].c]=De[1]):I[Bt(De[0])]=De[1],q.e.c<De[0].c&&(q.e.c=De[0].c),q.e.r<De[0].r&&(q.e.r=De[0].r);break;case 27:De[14e3]&&(ve[De[14e3][0]]=De[14e3][1]);break;case 1537:ve[De[0]]=De[1],De[0]==ee&&(X=De[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(I["!ref"]=Xt(q),G[V||X]=I,ue.push(V||X),!ve.length)return{SheetNames:ue,Sheets:G};for(var He={},Ae=[],le=0;le<ve.length;++le)G[ue[le]]?(Ae.push(ve[le]||ue[le]),He[ve[le]]=G[ve[le]]||G[ue[le]]):(Ae.push(ve[le]),He[ve[le]]={"!ref":"A1"});return{SheetNames:Ae,Sheets:He}}function n(L,R){var U=R||{};if(+U.codepage>=0&&Do(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var I=ti(),X=ur(L["!ref"]),V=Array.isArray(L),ee=[];ct(I,0,s(1030)),ct(I,6,c(X));for(var G=Math.min(X.e.r,8191),ue=X.s.r;ue<=G;++ue)for(var ve=Rn(ue),q=X.s.c;q<=X.e.c;++q){ue===X.s.r&&(ee[q]=ln(q));var Me=ee[q]+ve,He=V?(L[ue]||[])[q]:L[Me];if(!(!He||He.t=="z"))if(He.t=="n")(He.v|0)==He.v&&He.v>=-32768&&He.v<=32767?ct(I,13,m(ue,q,He.v)):ct(I,14,g(ue,q,He.v));else{var Ae=gc(He);ct(I,15,f(ue,q,Ae.slice(0,239)))}}return ct(I,1),I.end()}function a(L,R){var U=R||{};if(+U.codepage>=0&&Do(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var I=ti();ct(I,0,i(L));for(var X=0,V=0;X<L.SheetNames.length;++X)(L.Sheets[L.SheetNames[X]]||{})["!ref"]&&ct(I,27,z(L.SheetNames[X],V++));var ee=0;for(X=0;X<L.SheetNames.length;++X){var G=L.Sheets[L.SheetNames[X]];if(!(!G||!G["!ref"])){for(var ue=ur(G["!ref"]),ve=Array.isArray(G),q=[],Me=Math.min(ue.e.r,8191),He=ue.s.r;He<=Me;++He)for(var Ae=Rn(He),le=ue.s.c;le<=ue.e.c;++le){He===ue.s.r&&(q[le]=ln(le));var De=q[le]+Ae,Je=ve?(G[He]||[])[le]:G[De];if(!(!Je||Je.t=="z"))if(Je.t=="n")ct(I,23,F(He,le,ee,Je.v));else{var Ve=gc(Je);ct(I,22,j(He,le,ee,Ve.slice(0,239)))}}++ee}}return ct(I,1),I.end()}function s(L){var R=We(2);return R.write_shift(2,L),R}function i(L){var R=We(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var U=0,I=0,X=0,V=0;V<L.SheetNames.length;++V){var ee=L.SheetNames[V],G=L.Sheets[ee];if(!(!G||!G["!ref"])){++X;var ue=ri(G["!ref"]);U<ue.e.r&&(U=ue.e.r),I<ue.e.c&&(I=ue.e.c)}}return U>8191&&(U=8191),R.write_shift(2,U),R.write_shift(1,X),R.write_shift(1,I),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(L,R,U){var I={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&U.qpro?(I.s.c=L.read_shift(1),L.l++,I.s.r=L.read_shift(2),I.e.c=L.read_shift(1),L.l++,I.e.r=L.read_shift(2),I):(I.s.c=L.read_shift(2),I.s.r=L.read_shift(2),R==12&&U.qpro&&(L.l+=2),I.e.c=L.read_shift(2),I.e.r=L.read_shift(2),R==12&&U.qpro&&(L.l+=2),I.s.c==65535&&(I.s.c=I.e.c=I.s.r=I.e.r=0),I)}function c(L){var R=We(8);return R.write_shift(2,L.s.c),R.write_shift(2,L.s.r),R.write_shift(2,L.e.c),R.write_shift(2,L.e.r),R}function u(L,R,U){var I=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(I[0].c=L.read_shift(1),I[3]=L.read_shift(1),I[0].r=L.read_shift(2),L.l+=2):(I[2]=L.read_shift(1),I[0].c=L.read_shift(2),I[0].r=L.read_shift(2)),I}function d(L,R,U){var I=L.l+R,X=u(L,R,U);if(X[1].t="s",U.vers==20768){L.l++;var V=L.read_shift(1);return X[1].v=L.read_shift(V,"utf8"),X}return U.qpro&&L.l++,X[1].v=L.read_shift(I-L.l,"cstr"),X}function f(L,R,U){var I=We(7+U.length);I.write_shift(1,255),I.write_shift(2,R),I.write_shift(2,L),I.write_shift(1,39);for(var X=0;X<I.length;++X){var V=U.charCodeAt(X);I.write_shift(1,V>=128?95:V)}return I.write_shift(1,0),I}function h(L,R,U){var I=u(L,R,U);return I[1].v=L.read_shift(2,"i"),I}function m(L,R,U){var I=We(7);return I.write_shift(1,255),I.write_shift(2,R),I.write_shift(2,L),I.write_shift(2,U,"i"),I}function p(L,R,U){var I=u(L,R,U);return I[1].v=L.read_shift(8,"f"),I}function g(L,R,U){var I=We(13);return I.write_shift(1,255),I.write_shift(2,R),I.write_shift(2,L),I.write_shift(8,U,"f"),I}function x(L,R,U){var I=L.l+R,X=u(L,R,U);if(X[1].v=L.read_shift(8,"f"),U.qpro)L.l=I;else{var V=L.read_shift(2);N(L.slice(L.l,L.l+V),X),L.l+=V}return X}function v(L,R,U){var I=R&32768;return R&=-32769,R=(I?L:0)+(R>=8192?R-16384:R),(I?"":"$")+(U?ln(R):Rn(R))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(L,R){Ba(L,0);for(var U=[],I=0,X="",V="",ee="",G="";L.l<L.length;){var ue=L[L.l++];switch(ue){case 0:U.push(L.read_shift(8,"f"));break;case 1:V=v(R[0].c,L.read_shift(2),!0),X=v(R[0].r,L.read_shift(2),!1),U.push(V+X);break;case 2:{var ve=v(R[0].c,L.read_shift(2),!0),q=v(R[0].r,L.read_shift(2),!1);V=v(R[0].c,L.read_shift(2),!0),X=v(R[0].r,L.read_shift(2),!1),U.push(ve+q+":"+V+X)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(L.read_shift(2));break;case 6:{for(var Me="";ue=L[L.l++];)Me+=String.fromCharCode(ue);U.push('"'+Me.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:G=U.pop(),ee=U.pop(),U.push(["AND","OR"][ue-20]+"("+ee+","+G+")");break;default:if(ue<32&&b[ue])G=U.pop(),ee=U.pop(),U.push(ee+b[ue]+G);else if(y[ue]){if(I=y[ue][1],I==69&&(I=L[L.l++]),I>U.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+U.join("|")+"|");return}var He=U.slice(-I);U.length-=I,U.push(y[ue][0]+"("+He.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}U.length==1?R[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function S(L){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=L.read_shift(2),R[3]=L[L.l++],R[0].c=L[L.l++],R}function A(L,R){var U=S(L);return U[1].t="s",U[1].v=L.read_shift(R-4,"cstr"),U}function j(L,R,U,I){var X=We(6+I.length);X.write_shift(2,L),X.write_shift(1,U),X.write_shift(1,R),X.write_shift(1,39);for(var V=0;V<I.length;++V){var ee=I.charCodeAt(V);X.write_shift(1,ee>=128?95:ee)}return X.write_shift(1,0),X}function C(L,R){var U=S(L);U[1].v=L.read_shift(2);var I=U[1].v>>1;if(U[1].v&1)switch(I&7){case 0:I=(I>>3)*5e3;break;case 1:I=(I>>3)*500;break;case 2:I=(I>>3)/20;break;case 3:I=(I>>3)/200;break;case 4:I=(I>>3)/2e3;break;case 5:I=(I>>3)/2e4;break;case 6:I=(I>>3)/16;break;case 7:I=(I>>3)/64;break}return U[1].v=I,U}function E(L,R){var U=S(L),I=L.read_shift(4),X=L.read_shift(4),V=L.read_shift(2);if(V==65535)return I===0&&X===3221225472?(U[1].t="e",U[1].v=15):I===0&&X===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var ee=V&32768;return V=(V&32767)-16446,U[1].v=(1-ee*2)*(X*Math.pow(2,V+32)+I*Math.pow(2,V)),U}function F(L,R,U,I){var X=We(14);if(X.write_shift(2,L),X.write_shift(1,U),X.write_shift(1,R),I==0)return X.write_shift(4,0),X.write_shift(4,0),X.write_shift(2,65535),X;var V=0,ee=0,G=0,ue=0;return I<0&&(V=1,I=-I),ee=Math.log2(I)|0,I/=Math.pow(2,ee-31),ue=I>>>0,ue&2147483648||(I/=2,++ee,ue=I>>>0),I-=ue,ue|=2147483648,ue>>>=0,I*=Math.pow(2,32),G=I>>>0,X.write_shift(4,G),X.write_shift(4,ue),ee+=16383+(V?32768:0),X.write_shift(2,ee),X}function O(L,R){var U=E(L);return L.l+=R-14,U}function T(L,R){var U=S(L),I=L.read_shift(4);return U[1].v=I>>6,U}function H(L,R){var U=S(L),I=L.read_shift(8,"f");return U[1].v=I,U}function K(L,R){var U=H(L);return L.l+=R-10,U}function se(L,R){return L[L.l+R-1]==0?L.read_shift(R,"cstr"):""}function M(L,R){var U=L[L.l++];U>R-1&&(U=R-1);for(var I="";I.length<U;)I+=String.fromCharCode(L[L.l++]);return I}function B(L,R,U){if(!(!U.qpro||R<21)){var I=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var X=L.read_shift(R-21,"cstr");return[I,X]}}function Y(L,R){for(var U={},I=L.l+R;L.l<I;){var X=L.read_shift(2);if(X==14e3){for(U[X]=[0,""],U[X][0]=L.read_shift(2);L[L.l];)U[X][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return U}function z(L,R){var U=We(5+L.length);U.write_shift(2,14e3),U.write_shift(2,R);for(var I=0;I<L.length;++I){var X=L.charCodeAt(I);U[U.l++]=X>127?95:X}return U[U.l++]=0,U}var Q={0:{n:"BOF",f:Gn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:se},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},de={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:B},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function xae(e){var t={},r=e.match(ps),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Ut(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=Ij[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var vae=function(){var e=lg("t"),t=lg("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:cr(i[1])},c=s.match(t);return c&&(o.s=xae(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),yae=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),bae=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,wae=/<(?:\w+:)?r>/,kae=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function iA(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=cr(Pr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Pr(e),r&&(n.h=qj(n.t))):e.match(wae)&&(n.r=Pr(e),n.t=cr(Pr((e.replace(kae,"").match(bae)||[]).join("").replace(ps,""))),r&&(n.h=yae(vae(n.r)))),n):{t:""}}var Nae=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Sae=/<(?:\w+:)?(?:si|sstItem)>/g,jae=/<\/(?:\w+:)?(?:si|sstItem)>/;function Aae(e,t){var r=[],n="";if(!e)return r;var a=e.match(Nae);if(a){n=a[2].replace(Sae,"").split(jae);for(var s=0;s!=n.length;++s){var i=iA(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Ut(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var _ae=/^\s|\s$|[\t\n\r]/;function I9(e,t){if(!t.bookSST)return"";var r=[zn];r[r.length]=lt("sst",null,{xmlns:A0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(_ae)&&(s+=' xml:space="preserve"'),s+=">"+Ar(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Eae(e){return[e.read_shift(4),e.read_shift(4)]}function Cae(e,t){var r=[],n=!1;return Tc(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Tae(e,t){return t||(t=We(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Pae=Ute;function Oae(e){var t=ti();Xe(t,159,Tae(e));for(var r=0;r<e.length;++r)Xe(t,19,Pae(e[r]));return Xe(t,160),t.end()}function M9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function lc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Lae(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=lc(e,4),t.U=lc(e,4),t.W=lc(e,4),t}function Fae(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Dae(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Fae(e));return t}function Iae(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Mae(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=lc(e,4),t.U=lc(e,4),t.W=lc(e,4),t}function Rae(e){var t=Mae(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function R9(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function B9(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Bae(e){var t=lc(e);switch(t.Minor){case 2:return[t.Minor,zae(e)];case 3:return[t.Minor,Uae()];case 4:return[t.Minor,$ae(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function zae(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=R9(e,r),a=B9(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Uae(){throw new Error("File is password-protected: ECMA-376 Extensible")}function $ae(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(ps,function(s){var i=Ut(s);switch(Ll(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function Wae(e,t){var r={},n=r.EncryptionVersionInfo=lc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=R9(e,a),t-=a,r.EncryptionVerifier=B9(e,t),r}function Hae(e){var t={},r=t.EncryptionVersionInfo=lc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function oA(e){var t=0,r,n=M9(e),a=n.length+1,s,i,o,c,u;for(r=Iu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^i;return t^52811}var z9=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(o^=r[c]),d*=2,--c;return o};return function(i){for(var o=M9(i),c=s(o),u=o.length,d=Iu(16),f=0;f!=16;++f)d[f]=0;var h,m,p;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=o[o.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(o[u],h),--u,h=c&255,d[u]=a(o[u],h);for(u=15,p=15-o.length;p>0;)h=c>>8,d[u]=a(e[p],h),--u,--p,h=c&255,d[u]=a(o[u],h),--u,--p;return d}}(),Vae=function(e,t,r,n,a){a||(a=t),n||(n=z9(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},qae=function(e){var t=0,r=z9(e);return function(n){var a=Vae("",n,t,r);return t=a[1],a[0]}};function Gae(e,t,r,n){var a={key:Gn(e),verificationBytes:Gn(e)};return r.password&&(a.verifier=oA(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=qae(r.password)),a}function Kae(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Hae(e):n.Data=Wae(e,t),n}function Yae(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Kae(e,t-2,n):Gae(e,r.biff>=8?t:t-2,r,n),n}var U9=function(){function e(a,s){switch(s.type){case"base64":return t(Ai(a),s);case"binary":return t(a,s);case"buffer":return t(Jt&&Buffer.isBuffer(a)?a.toString("binary"):ed(a),s);case"array":return t(d0(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,p,g=-1;p=h.exec(d);){switch(p[0]){case"\\cell":var x=d.slice(m,h.lastIndex-p[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var v={v:x,t:"s"};Array.isArray(o)?o[f][g]=v:o[Bt({r:f,c:g})]=v}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=Xt(u),o}function r(a,s){return td(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=ur(a["!ref"]),o,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Bt({r:u,c:d});o=c?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(gc(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Xae(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function fg(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Zae(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,c,u/2]}function Jae(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-o),i[0]+=c,i[1]+=a;break;case 2:c=a*(o-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-o),i[1]+=c,i[2]+=a;break;case 4:c=a*(o-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-o),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function Wy(e,t){if(t===0)return e;var r=Zae(Xae(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),fg(Jae(r))}var $9=6,Qae=15,ese=1,ns=$9;function hg(e){return Math.floor((e+Math.round(128/ns)/256)*ns)}function mg(e){return Math.floor((e-5)/ns*100+.5)/100}function Hy(e){return Math.round((e*ns+5)/ns*256)/256}function hk(e){return Hy(mg(hg(e)))}function lA(e){var t=Math.abs(e-hk(e)),r=ns;if(t>.005)for(ns=ese;ns<Qae;++ns)Math.abs(e-hk(e))<=t&&(t=Math.abs(e-hk(e)),r=ns);ns=r}function Mu(e){e.width?(e.wpx=hg(e.width),e.wch=mg(e.wpx),e.MDW=ns):e.wpx?(e.wch=mg(e.wpx),e.width=Hy(e.wch),e.MDW=ns):typeof e.wch=="number"&&(e.width=Hy(e.wch),e.wpx=hg(e.width),e.MDW=ns),e.customWidth&&delete e.customWidth}var tse=96,W9=tse;function pg(e){return e*96/W9}function hh(e){return e*W9/96}var rse={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function nse(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(ps)||[]).forEach(function(i){var o=Ut(i);switch(Ll(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=qr(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=qr(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function ase(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(ps)||[]).forEach(function(i){var o=Ut(i);switch(Ll(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function sse(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(ps)||[]).forEach(function(i){var o=Ut(i);switch(Ll(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Pr(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?qr(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?qr(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?qr(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?qr(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?qr(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?qr(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?qr(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Ij[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=qr(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=Hd[a.color.index];a.color.index==81&&(c=Hd[1]),c||(c=Hd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Wy(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function ise(e,t,r){t.NumberFmt=[];for(var n=Sn(Mt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Mt[n[a]];var s=e[0].match(ps);if(s)for(a=0;a<s.length;++a){var i=Ut(s[a]);switch(Ll(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=cr(Pr(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}oc(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function ose(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=lt("numFmt",null,{numFmtId:n,formatCode:Ar(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=lt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var ev=["numFmtId","fillId","fontId","borderId","xfId"],tv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function lse(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(ps)||[]).forEach(function(s){var i=Ut(s),o=0;switch(Ll(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<ev.length;++o)n[ev[o]]&&(n[ev[o]]=parseInt(n[ev[o]],10));for(o=0;o<tv.length;++o)n[tv[o]]&&(n[tv[o]]=qr(n[tv[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=qr(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function cse(e){var t=[];return t[t.length]=lt("cellXfs",null),e.forEach(function(r){t[t.length]=lt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=lt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var use=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&ise(f,d,u),(f=o.match(a))&&sse(f,d,c,u),(f=o.match(n))&&ase(f,d,c,u),(f=o.match(s))&&nse(f,d,c,u),(f=o.match(r))&&lse(f,d,u),d}}();function H9(e,t){var r=[zn,lt("styleSheet",null,{xmlns:A0[0],"xmlns:vt":oa.vt})],n;return e.SSF&&(n=ose(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=cse(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function dse(e,t){var r=e.read_shift(2),n=us(e);return[r,n]}function fse(e,t,r){r||(r=We(6+4*t.length)),r.write_shift(2,e),Aa(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function hse(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Kte(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Gte(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=us(e),n}function mse(e,t){t||(t=We(25+4*32)),t.write_shift(2,e.sz*20),Yte(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),zy(e.color,t);var n=0;return n=2,t.write_shift(1,n),Aa(e.name,t),t.length>t.l?t.slice(0,t.l):t}var pse=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],mk,gse=ms;function LP(e,t){t||(t=We(4*3+8*7+16*1)),mk||(mk=y2(pse));var r=mk[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(zy({auto:1},t),zy({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function xse(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function V9(e,t,r){r||(r=We(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Bm(e,t){return t||(t=We(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var vse=ms;function yse(e,t){return t||(t=We(51)),t.write_shift(1,0),Bm(null,t),Bm(null,t),Bm(null,t),Bm(null,t),Bm(null,t),t.length>t.l?t.slice(0,t.l):t}function bse(e,t){return t||(t=We(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),By(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function wse(e,t,r){var n=We(2052);return n.write_shift(4,e),By(t,n),By(r,n),n.length>n.l?n.slice(0,n.l):n}function kse(e,t,r){var n={};n.NumberFmt=[];for(var a in Mt)n.NumberFmt[a]=Mt[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Tc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],oc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Wy(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function Nse(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Xe(e,615,Uo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Xe(e,44,fse(a,t[a]))}),Xe(e,616))}}function Sse(e){var t=1;Xe(e,611,Uo(t)),Xe(e,43,mse({sz:12,color:{theme:1},name:"Calibri",family:2})),Xe(e,612)}function jse(e){var t=2;Xe(e,603,Uo(t)),Xe(e,45,LP({patternType:"none"})),Xe(e,45,LP({patternType:"gray125"})),Xe(e,604)}function Ase(e){var t=1;Xe(e,613,Uo(t)),Xe(e,46,yse()),Xe(e,614)}function _se(e){var t=1;Xe(e,626,Uo(t)),Xe(e,47,V9({numFmtId:0},65535)),Xe(e,627)}function Ese(e,t){Xe(e,617,Uo(t.length)),t.forEach(function(r){Xe(e,47,V9(r,0))}),Xe(e,618)}function Cse(e){var t=1;Xe(e,619,Uo(t)),Xe(e,48,bse({xfId:0,name:"Normal"})),Xe(e,620)}function Tse(e){var t=0;Xe(e,505,Uo(t)),Xe(e,506)}function Pse(e){var t=0;Xe(e,508,wse(t,"TableStyleMedium9","PivotStyleMedium4")),Xe(e,509)}function Ose(e,t){var r=ti();return Xe(r,278),Nse(r,e.SSF),Sse(r),jse(r),Ase(r),_se(r),Ese(r,t.cellXfs),Cse(r),Tse(r),Pse(r),Xe(r,279),r.end()}var Lse=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Fse(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(ps)||[]).forEach(function(a){var s=Ut(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[Lse.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Dse(){}function Ise(){}var Mse=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Rse=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Bse=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function zse(e,t,r){t.themeElements={};var n;[["clrScheme",Mse,Fse],["fontScheme",Rse,Dse],["fmtScheme",Bse,Ise]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Use=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function q9(e,t){(!e||e.length===0)&&(e=cA());var r,n={};if(!(r=e.match(Use)))throw new Error("themeElements not found in theme");return zse(r[0],n,t),n.raw=e,n}function cA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[zn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function $se(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=RR(s,{type:"array"})}catch{return}var o=gi(i,"theme/theme/theme1.xml",!0);if(o)return q9(o,r)}}function Wse(e){return e.read_shift(4)}function Hse(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Vse(e,4);break;case 2:t.xclrValue=j9(e);break;case 3:t.xclrValue=Wse(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Vse(e,t){return ms(e,t)}function qse(e,t){return ms(e,t)}function Gse(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Hse(e);break;case 6:n[1]=qse(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Kse(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(Gse(e,r-e.l));return{ixfe:n,ext:s}}function Yse(e,t){t.forEach(function(r){switch(r[0]){}})}function Xse(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:us(e)}}function Zse(e){var t=We(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Aa(e.name,t),t.slice(0,t.l)}function Jse(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Qse(e){var t=We(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function eie(e,t){var r=We(8+2*t.length);return r.write_shift(4,e),Aa(t,r),r.slice(0,r.l)}function tie(e){return e.l+=4,e.read_shift(4)!=0}function rie(e,t){var r=We(8);return r.write_shift(4,e),r.write_shift(4,1),r}function nie(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return Tc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function aie(){var e=ti();return Xe(e,332),Xe(e,334,Uo(1)),Xe(e,335,Zse({name:"XLDAPR",version:12e4,flags:3496657072})),Xe(e,336),Xe(e,339,eie(1,"XLDAPR")),Xe(e,52),Xe(e,35,Uo(514)),Xe(e,4096,Uo(0)),Xe(e,4097,Zi(1)),Xe(e,36),Xe(e,53),Xe(e,340),Xe(e,337,rie(1)),Xe(e,51,Qse([[1,0]])),Xe(e,338),Xe(e,333),e.end()}function sie(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(ps,function(o){var c=Ut(o);switch(Ll(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function G9(){var e=[zn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function iie(e){var t=[];if(!e)return t;var r=1;return(e.match(ps)||[]).forEach(function(n){var a=Ut(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function oie(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Bt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function lie(e,t,r){var n=[];return Tc(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function cie(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Tc(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function uie(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Lf=1024;function K9(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[lt("xml",null,{"xmlns:v":hi.v,"xmlns:o":hi.o,"xmlns:x":hi.x,"xmlns:mv":hi.mv}).replace(/\/>/,">"),lt("o:shapelayout",lt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),lt("v:shapetype",[lt("v:stroke",null,{joinstyle:"miter"}),lt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Lf<e*1e3;)Lf+=1e3;return t.forEach(function(s){var i=cn(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?lt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=lt("v:fill",c,o),d={on:"t",obscured:"t"};++Lf,a=a.concat(["<v:shape"+cg({id:"_x0000_s"+Lf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,lt("v:shadow",null,d),lt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",za("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),za("x:AutoFill","False"),za("x:Row",String(i.r)),za("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function FP(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=cn(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var c=ur(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=Xt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function die(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Ut(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=cn(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&iA(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function Y9(e){var t=[zn,lt("comments",null,{xmlns:A0[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Ar(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Ar(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(za("t",Ar(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)i+=`Reply:
    `+s[o]+`
`;t.push(za("t",Ar(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function fie(e,t){var r=[],n=!1,a={},s=0;return e.replace(ps,function(o,c){var u=Ut(o);switch(Ll(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function hie(e,t,r){var n=[zn,lt("ThreadedComments",null,{xmlns:oa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(lt("threadedComment",za("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function mie(e,t){var r=[],n=!1;return e.replace(ps,function(s){var i=Ut(s);switch(Ll(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function pie(e){var t=[zn,lt("personList",null,{xmlns:oa.TCMNT,"xmlns:x":A0[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(lt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function gie(e){var t={};t.iauthor=e.read_shift(4);var r=T0(e);return t.rfx=r.s,t.ref=Bt(r.s),e.l+=16,t}function xie(e,t){return t==null&&(t=We(36)),t.write_shift(4,e[1].iauthor),Bh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var vie=us;function yie(e){return Aa(e.slice(0,54))}function bie(e,t){var r=[],n=[],a={},s=!1;return Tc(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function wie(e){var t=ti(),r=[];return Xe(t,628),Xe(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Xe(t,632,yie(a.a)))})}),Xe(t,631),Xe(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:cn(n[0]),e:cn(n[0])};Xe(t,635,xie([s,a])),a.t&&a.t.length>0&&Xe(t,637,Wte(a)),Xe(t,636),delete a.iauthor})}),Xe(t,634),Xe(t,629),t.end()}var kie="application/vnd.ms-office.vbaProject";function Nie(e){var t=Tt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Tt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Tt.write(t)}function Sie(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Tt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var X9=["xlsb","xlsm","xlam","biff8","xla"];function jie(){return{"!type":"dialog"}}function Aie(){return{"!type":"dialog"}}function _ie(){return{"!type":"macro"}}function Eie(){return{"!type":"macro"}}var Xf=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,a+(o?"":"$")+ln(d)+(c?"":"$")+Rn(u)}return function(a,s){return t=s,a.replace(e,r)}}(),uA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dA=function(){return function(t,r){return t.replace(uA,function(n,a,s,i,o,c){var u=Zj(i)-(s?0:r.c),d=Xj(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function Z9(e,t){return e.replace(uA,function(r,n,a,s,i,o){return n+(a=="$"?a+s:ln(Zj(s)+t.c))+(i=="$"?i+o:Rn(Xj(o)+t.r))})}function Cie(e,t,r){var n=ri(t),a=n.s,s=cn(r),i={r:s.r-a.r,c:s.c-a.c};return Z9(e,i)}function Tie(e){return e.length!=1}function DP(e){return e.replace(/_xlfn\./g,"")}function Vn(e){e.l+=1}function Ru(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function J9(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Q9(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Ru(e),o=Ru(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function Q9(e){var t=Ru(e),r=Ru(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Pie(e,t,r){if(r.biff<8)return Q9(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Ru(e),i=Ru(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function eB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Oie(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ru(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Oie(e){var t=Ru(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Lie(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Fie(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Die(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function Die(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Iie(e,t,r){var n=(e[e.l++]&96)>>5,a=J9(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Mie(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=J9(e,s,r);return[n,a,i]}function Rie(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Bie(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function zie(e,t,r){var n=(e[e.l++]&96)>>5,a=Pie(e,t-1,r);return[n,a]}function Uie(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function IP(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function $ie(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Wie(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Hie(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Vie(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function qie(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function tB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Gie(e){return e.read_shift(2),tB(e)}function Kie(e){return e.read_shift(2),tB(e)}function Yie(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=eB(e,0,r);return[n,a]}function Xie(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Fie(e,0,r);return[n,a]}function Zie(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=eB(e,0,r);return[n,a,s]}function Jie(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[tle[a],aB[a],n]}function Qie(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:eoe(e);return[a,(s[0]===0?aB:ele)[s[1]]]}function eoe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function toe(e,t,r){e.l+=r&&r.biff==2?3:4}function roe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function noe(e){return e.l++,Pc[e.read_shift(1)]}function aoe(e){return e.l++,e.read_shift(2)}function soe(e){return e.l++,e.read_shift(1)!==0}function ioe(e){return e.l++,is(e)}function ooe(e,t,r){return e.l++,ax(e,t-1,r)}function loe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Cn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Pc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=is(e);break;case 2:r[1]=P0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function coe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?T0:k2)(e));return a}function uoe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=loe(e,r.biff);return i}function doe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function foe(e,t,r){if(r.biff==5)return hoe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function hoe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function moe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function poe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function goe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function xoe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var voe=ms,yoe=ms,boe=ms;function ix(e,t,r){return e.l+=2,[Lie(e)]}function fA(e){return e.l+=6,[]}var woe=ix,koe=fA,Noe=fA,Soe=ix;function rB(e){return e.l+=2,[Gn(e),e.read_shift(2)&1]}var joe=ix,Aoe=rB,_oe=fA,Eoe=ix,Coe=ix,Toe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Poe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=Toe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function Ooe(e){return e.l+=2,[e.read_shift(4)]}function Loe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Foe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Doe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Ioe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Moe(e){return e.l+=4,[0,0]}var MP={1:{n:"PtgExp",f:roe},2:{n:"PtgTbl",f:boe},3:{n:"PtgAdd",f:Vn},4:{n:"PtgSub",f:Vn},5:{n:"PtgMul",f:Vn},6:{n:"PtgDiv",f:Vn},7:{n:"PtgPower",f:Vn},8:{n:"PtgConcat",f:Vn},9:{n:"PtgLt",f:Vn},10:{n:"PtgLe",f:Vn},11:{n:"PtgEq",f:Vn},12:{n:"PtgGe",f:Vn},13:{n:"PtgGt",f:Vn},14:{n:"PtgNe",f:Vn},15:{n:"PtgIsect",f:Vn},16:{n:"PtgUnion",f:Vn},17:{n:"PtgRange",f:Vn},18:{n:"PtgUplus",f:Vn},19:{n:"PtgUminus",f:Vn},20:{n:"PtgPercent",f:Vn},21:{n:"PtgParen",f:Vn},22:{n:"PtgMissArg",f:Vn},23:{n:"PtgStr",f:ooe},26:{n:"PtgSheet",f:Loe},27:{n:"PtgEndSheet",f:Foe},28:{n:"PtgErr",f:noe},29:{n:"PtgBool",f:soe},30:{n:"PtgInt",f:aoe},31:{n:"PtgNum",f:ioe},32:{n:"PtgArray",f:Uie},33:{n:"PtgFunc",f:Jie},34:{n:"PtgFuncVar",f:Qie},35:{n:"PtgName",f:doe},36:{n:"PtgRef",f:Yie},37:{n:"PtgArea",f:Iie},38:{n:"PtgMemArea",f:moe},39:{n:"PtgMemErr",f:voe},40:{n:"PtgMemNoMem",f:yoe},41:{n:"PtgMemFunc",f:poe},42:{n:"PtgRefErr",f:goe},43:{n:"PtgAreaErr",f:Rie},44:{n:"PtgRefN",f:Xie},45:{n:"PtgAreaN",f:zie},46:{n:"PtgMemAreaN",f:Doe},47:{n:"PtgMemNoMemN",f:Ioe},57:{n:"PtgNameX",f:foe},58:{n:"PtgRef3d",f:Zie},59:{n:"PtgArea3d",f:Mie},60:{n:"PtgRefErr3d",f:xoe},61:{n:"PtgAreaErr3d",f:Bie},255:{}},Roe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Boe={1:{n:"PtgElfLel",f:rB},2:{n:"PtgElfRw",f:Eoe},3:{n:"PtgElfCol",f:woe},6:{n:"PtgElfRwV",f:Coe},7:{n:"PtgElfColV",f:Soe},10:{n:"PtgElfRadical",f:joe},11:{n:"PtgElfRadicalS",f:_oe},13:{n:"PtgElfColS",f:koe},15:{n:"PtgElfColSV",f:Noe},16:{n:"PtgElfRadicalLel",f:Aoe},25:{n:"PtgList",f:Poe},29:{n:"PtgSxName",f:Ooe},255:{}},zoe={0:{n:"PtgAttrNoop",f:Moe},1:{n:"PtgAttrSemi",f:qie},2:{n:"PtgAttrIf",f:Hie},4:{n:"PtgAttrChoose",f:$ie},8:{n:"PtgAttrGoto",f:Wie},16:{n:"PtgAttrSum",f:toe},32:{n:"PtgAttrBaxcel",f:IP},33:{n:"PtgAttrBaxcel",f:IP},64:{n:"PtgAttrSpace",f:Gie},65:{n:"PtgAttrSpaceSemi",f:Kie},128:{n:"PtgAttrIfError",f:Vie},255:{}};function ox(e,t,r,n){if(n.biff<8)return ms(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=uoe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=coe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(ms(e,t)),s}function lx(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=MP[s]||MP[Roe[s]],(s===24||s===25)&&(a=(s===24?Boe:zoe)[e[e.l+1]]),!a||!a.f?ms(e,t):i.push([a.n,a.f(e,t,r)]);return i}function Uoe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var $oe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Woe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function nB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function RP(e,t,r){var n=nB(e,t,r);return n=="#REF"?n:Woe(n,r)}function ts(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},o=[],c,u,d,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",v=0,y=e[0].length;v<y;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=bn(" ",e[0][g][1][1]);break;case 1:x=bn("\r",e[0][g][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+x,g=-1}o.push(u+$oe[b[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=vp(b[1][1],i,a),o.push(yp(d,s));break;case"PtgRefN":d=r?vp(b[1][1],r,a):b[1][1],o.push(yp(d,s));break;case"PtgRef3d":f=b[1][1],d=vp(b[1][2],i,a),p=RP(n,f,a),o.push(p+"!"+yp(d,s));break;case"PtgFunc":case"PtgFuncVar":var N=b[1][0],S=b[1][1];N||(N=0),N&=127;var A=N==0?[]:o.slice(-N);o.length-=N,S==="User"&&(S=A.shift()),o.push(S+"("+A.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":m=hP(b[1][1],r?{s:r}:i,a),o.push(uk(m,a));break;case"PtgArea":m=hP(b[1][1],i,a),o.push(uk(m,a));break;case"PtgArea3d":f=b[1][1],m=b[1][2],p=RP(n,f,a),o.push(p+"!"+uk(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],C=j?j.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var E=b[1][1];h=b[1][2];var F;if(a.biff<=5)E<0&&(E=-E),n[E]&&(F=n[E][h]);else{var O="";if(((n[E]||[])[0]||[])[0]==14849||(((n[E]||[])[0]||[])[0]==1025?n[E][h]&&n[E][h].itab>0&&(O=n.SheetNames[n[E][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[E]&&n[E][h])O+=n[E][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var T=(nB(n,E,a)||"").split(";;");T[h-1]?O=T[h-1]:O+="SH33TJSERRX"}o.push(O);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var H="(",K=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:H=bn(" ",e[0][g][1][1])+H;break;case 3:H=bn("\r",e[0][g][1][1])+H;break;case 4:K=bn(" ",e[0][g][1][1])+K;break;case 5:K=bn("\r",e[0][g][1][1])+K;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(H+o.pop()+K);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var se={c:r.c,r:r.r};if(n.sharedf[Bt(d)]){var M=n.sharedf[Bt(d)];o.push(ts(M,i,se,n,a))}else{var B=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(ts(u[1],i,se,n,a)),B=!0;break}B||o.push(b[1])}break;case"PtgArray":o.push("{"+Uoe(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&Y.indexOf(e[0][v][0])==-1){b=e[0][g];var z=!0;switch(b[1][0]){case 4:z=!1;case 0:x=bn(" ",b[1][1]);break;case 5:z=!1;case 1:x=bn("\r",b[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((z?x:"")+o.pop()+(z?"":x)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Hoe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],ms(e,t-2)];var o=lx(e,i,r);return t!==i+a&&(s=ox(e,t-i-a,o,r)),e.l=n,[o,s]}function Voe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],ms(e,t-2)];var o=lx(e,i,r);return t!==i+a&&(s=ox(e,t-i-a,o,r)),e.l=n,[o,s]}function qoe(e,t,r,n){var a=e.l+t,s=lx(e,n,r),i;return a!==e.l&&(i=ox(e,a-e.l,s,r)),[s,i]}function Goe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=lx(e,s,r);return s==65535?[[],ms(e,t-2)]:(t!==s+2&&(a=ox(e,n-s-2,i,r)),[i,a])}function Koe(e){var t;if(rc(e,e.l+6)!==65535)return[is(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Yoe(e){if(e==null){var t=We(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return f0(e);return f0(0)}function pk(e,t,r){var n=e.l+t,a=Fl(e);r.biff==2&&++e.l;var s=Koe(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Voe(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function Xoe(e,t,r,n,a){var s=m0(t,r,a),i=Yoe(e.v),o=We(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=We(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=ja([s,i,o,u]);return f}function N2(e,t,r){var n=e.read_shift(4),a=lx(e,n,r),s=e.read_shift(4),i=s>0?ox(e,s,a,r):null;return[a,i]}var Zoe=N2,S2=N2,Joe=N2,Qoe=N2,ele={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},aB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tle={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function BP(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function rle(e){var t="of:="+e.replace(uA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function gk(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function nle(e){return e.replace(/\./,"!")}var wp={},Zf={},kp=typeof Map<"u";function hA(e,t,r){var n=0,a=e.length;if(r){if(kp?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=kp?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(kp?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function j2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ns=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=mg(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Hy(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Gd(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function rd(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){oc(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function sB(e,t,r,n,a,s){try{n.cellNF&&(e.z=Mt[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Yr(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Mt[t]==null&&oc(ete[t]||"General",t),e.t==="e")e.w=e.w||Pc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=og(e.v);else if(e.t==="d"){var i=ua(e.v);(i|0)===i?e.w=i.toString(10):e.w=og(i)}else{if(e.v===void 0)return"";e.w=u0(e.v,Zf)}else e.t==="d"?e.w=co(t,ua(e.v),Zf):e.w=co(t,e.v,Zf)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Wy(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Wy(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function ale(e,t,r){if(e&&e["!ref"]){var n=ur(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function sle(e,t){var r=ur(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Xt(r))}var ile=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,ole=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,lle=/<(?:\w:)?hyperlink [^>]*>/mg,cle=/"(\w*:\w*)"/,ule=/<(?:\w:)?col\b[^>]*[\/]?>/g,dle=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,fle=/<(?:\w:)?pageMargins[^>]*\/>/g,iB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,hle=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,mle=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function ple(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(ole);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(iB);h?mA(h[0],o,a,r):(h=u.match(hle))&&xle(h[0],h[1]||"",o,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=u.slice(m,m+50).match(cle);p&&sle(o,p[1])}var g=u.match(mle);g&&g[1]&&Tle(g[1],a);var x=[];if(t.cellStyles){var v=u.match(ule);v&&jle(x,v)}f&&Lle(f[1],o,t,c,s,i);var y=d.match(dle);y&&(o["!autofilter"]=_le(y[0]));var b=[],N=d.match(ile);if(N)for(m=0;m!=N.length;++m)b[m]=ur(N[m].slice(N[m].indexOf('"')+1));var S=d.match(lle);S&&kle(o,S,n);var A=d.match(fle);if(A&&(o["!margins"]=Nle(Ut(A[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Xt(c)),t.sheetRows>0&&o["!ref"]){var j=ur(o["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Xt(j))}return x.length>0&&(o["!cols"]=x),b.length>0&&(o["!merges"]=b),o}function gle(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Xt(e[r])+'"/>';return t+"</mergeCells>"}function mA(e,t,r,n){var a=Ut(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=cr(Pr(a.codeName)))}function xle(e,t,r,n,a){mA(e.slice(0,e.indexOf(">")),r,n,a)}function vle(e,t,r,n,a){var s=!1,i={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,i.codeName=ml(Ar(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+lt("outlinePr",null,u)}!s&&!o||(a[a.length]=lt("sheetPr",o,i))}var yle=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ble=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function wle(e){var t={sheet:1};return yle.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),ble.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=oA(e.password).toString(16).toUpperCase()),lt("sheetProtection",null,t)}function kle(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Ut(Pr(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+cr(s.location))):(s.Target="#"+cr(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=ur(s.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Bt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function Nle(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Sle(e){return Gd(e),lt("pageMargins",null,e)}function jle(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Ut(t[n],!0);a.hidden&&(a.hidden=qr(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,lA(a.width)),Mu(a);s<=i;)e[s++]=Xr(a)}}function Ale(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=lt("col",null,j2(a,n)));return r[r.length]="</cols>",r.join("")}function _le(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function Ele(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Xt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,i=ri(a);i.s.r==i.e.r&&(i.e.r=ri(t["!ref"]).e.r,a=Xt(i));for(var o=0;o<s.length;++o){var c=s[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),lt("autoFilter",null,{ref:a})}var Cle=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Tle(e,t){t.Views||(t.Views=[{}]),(e.match(Cle)||[]).forEach(function(r,n){var a=Ut(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),qr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function Ple(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),lt("sheetViews",lt("sheetView",null,a),{})}function Ole(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Pc[e.v];break;case"d":n&&n.cellDates?a=Yr(e.v,-1).toISOString():(e=Xr(e),e.t="n",a=""+(e.v=ua(Yr(e.v)))),typeof e.z>"u"&&(e.z=Mt[14]);break;default:a=e.v;break}var o=za("v",Ar(a)),c={r:t},u=rd(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=za("v",""+hA(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=i),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=lt("f",Ar(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),lt("c",o,c)}var Lle=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=lg("v"),i=lg("f");return function(c,u,d,f,h,m){for(var p=0,g="",x=[],v=[],y=0,b=0,N=0,S="",A,j,C=0,E=0,F,O,T=0,H=0,K=Array.isArray(m.CellXf),se,M=[],B=[],Y=Array.isArray(u),z=[],Q={},de=!1,L=!!d.sheetStubs,R=c.split(t),U=0,I=R.length;U!=I;++U){g=R[U].trim();var X=g.length;if(X!==0){var V=0;e:for(p=0;p<X;++p)switch(g[p]){case">":if(g[p-1]!="/"){++p;break e}if(d&&d.cellStyles){if(j=Ut(g.slice(V,p),!0),C=j.r!=null?parseInt(j.r,10):C+1,E=-1,d.sheetRows&&d.sheetRows<C)continue;Q={},de=!1,j.ht&&(de=!0,Q.hpt=parseFloat(j.ht),Q.hpx=hh(Q.hpt)),j.hidden=="1"&&(de=!0,Q.hidden=!0),j.outlineLevel!=null&&(de=!0,Q.level=+j.outlineLevel),de&&(z[C-1]=Q)}break;case"<":V=p;break}if(V>=p)break;if(j=Ut(g.slice(V,p),!0),C=j.r!=null?parseInt(j.r,10):C+1,E=-1,!(d.sheetRows&&d.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),d&&d.cellStyles&&(Q={},de=!1,j.ht&&(de=!0,Q.hpt=parseFloat(j.ht),Q.hpx=hh(Q.hpt)),j.hidden=="1"&&(de=!0,Q.hidden=!0),j.outlineLevel!=null&&(de=!0,Q.level=+j.outlineLevel),de&&(z[C-1]=Q)),x=g.slice(p).split(e);for(var ee=0;ee!=x.length&&x[ee].trim().charAt(0)=="<";++ee);for(x=x.slice(ee),p=0;p!=x.length;++p)if(g=x[p].trim(),g.length!==0){if(v=g.match(r),y=p,b=0,N=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,v!=null&&v.length===2){for(y=0,S=v[1],b=0;b!=S.length&&!((N=S.charCodeAt(b)-64)<1||N>26);++b)y=26*y+N;--y,E=y}else++E;for(b=0;b!=g.length&&g.charCodeAt(b)!==62;++b);if(++b,j=Ut(g.slice(0,b),!0),j.r||(j.r=Bt({r:C-1,c:E})),S=g.slice(b),A={t:""},(v=S.match(s))!=null&&v[1]!==""&&(A.v=cr(v[1])),d.cellFormula){if((v=S.match(i))!=null&&v[1]!==""){if(A.f=cr(Pr(v[1])).replace(/\r\n/g,`
`),d.xlfn||(A.f=DP(A.f)),v[0].indexOf('t="array"')>-1)A.F=(S.match(a)||[])[1],A.F.indexOf(":")>-1&&M.push([ur(A.F),A.F]);else if(v[0].indexOf('t="shared"')>-1){O=Ut(v[0]);var G=cr(Pr(v[1]));d.xlfn||(G=DP(G)),B[parseInt(O.si,10)]=[O,G,j.r]}}else(v=S.match(/<f[^>]*\/>/))&&(O=Ut(v[0]),B[O.si]&&(A.f=Cie(B[O.si][1],B[O.si][2],j.r)));var ue=cn(j.r);for(b=0;b<M.length;++b)ue.r>=M[b][0].s.r&&ue.r<=M[b][0].e.r&&ue.c>=M[b][0].s.c&&ue.c<=M[b][0].e.c&&(A.F=M[b][1])}if(j.t==null&&A.v===void 0)if(A.f||A.F)A.v=0,A.t="n";else if(L)A.t="z";else continue;else A.t=j.t||"n";switch(f.s.c>E&&(f.s.c=E),f.e.c<E&&(f.e.c=E),A.t){case"n":if(A.v==""||A.v==null){if(!L)continue;A.t="z"}else A.v=parseFloat(A.v);break;case"s":if(typeof A.v>"u"){if(!L)continue;A.t="z"}else F=wp[parseInt(A.v,10)],A.v=F.t,A.r=F.r,d.cellHTML&&(A.h=F.h);break;case"str":A.t="s",A.v=A.v!=null?Pr(A.v):"",d.cellHTML&&(A.h=qj(A.v));break;case"inlineStr":v=S.match(n),A.t="s",v!=null&&(F=iA(v[1]))?(A.v=F.t,d.cellHTML&&(A.h=F.h)):A.v="";break;case"b":A.v=qr(A.v);break;case"d":d.cellDates?A.v=Yr(A.v,1):(A.v=ua(Yr(A.v,1)),A.t="n");break;case"e":(!d||d.cellText!==!1)&&(A.w=A.v),A.v=l9[A.v];break}if(T=H=0,se=null,K&&j.s!==void 0&&(se=m.CellXf[j.s],se!=null&&(se.numFmtId!=null&&(T=se.numFmtId),d.cellStyles&&se.fillId!=null&&(H=se.fillId))),sB(A,T,H,d,h,m),d.cellDates&&K&&A.t=="n"&&Ih(Mt[T])&&(A.t="d",A.v=w2(A.v)),j.cm&&d.xlmeta){var ve=(d.xlmeta.Cell||[])[+j.cm-1];ve&&ve.type=="XLDAPR"&&(A.D=!0)}if(Y){var q=cn(j.r);u[q.r]||(u[q.r]=[]),u[q.r][q.c]=A}else u[j.r]=A}}}}z.length>0&&(u["!rows"]=z)}}();function Fle(e,t,r,n){var a=[],s=[],i=ur(e["!ref"]),o="",c,u="",d=[],f=0,h=0,m=e["!rows"],p=Array.isArray(e),g={r:u},x,v=-1;for(h=i.s.c;h<=i.e.c;++h)d[h]=ln(h);for(f=i.s.r;f<=i.e.r;++f){for(s=[],u=Rn(f),h=i.s.c;h<=i.e.c;++h){c=d[h]+u;var y=p?(e[f]||[])[h]:e[c];y!==void 0&&(o=Ole(y,c,e,t))!=null&&s.push(o)}(s.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(x=m[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=pg(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level)),a[a.length]=lt("row",s.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},x=m[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=pg(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level),a[a.length]=lt("row","",g));return a.join("")}function oB(e,t,r,n){var a=[zn,lt("worksheet",null,{xmlns:A0[0],"xmlns:r":oa.r})],s=r.SheetNames[e],i=0,o="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=ur(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Xt(d)}n||(n={}),c["!comments"]=[];var f=[];vle(c,r,e,t,a),a[a.length]=lt("dimension",null,{ref:u}),a[a.length]=Ple(c,t,e,r),t.sheetFormat&&(a[a.length]=lt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Ale(c,c["!cols"])),a[i=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Fle(c,t),o.length>0&&(a[a.length]=o)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),c["!protect"]&&(a[a.length]=wle(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Ele(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=gle(c["!merges"]));var h=-1,m,p=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(p=Sr(n,-1,Ar(g[1].Target).replace(/#.*$/,""),Qt.HLINK),m["r:id"]="rId"+p),(h=g[1].Target.indexOf("#"))>-1&&(m.location=Ar(g[1].Target.slice(h+1))),g[1].Tooltip&&(m.tooltip=Ar(g[1].Tooltip)),a[a.length]=lt("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Sle(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=za("ignoredErrors",lt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(p=Sr(n,-1,"../drawings/drawing"+(e+1)+".xml",Qt.DRAW),a[a.length]=lt("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=f),c["!comments"].length>0&&(p=Sr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Qt.VML),a[a.length]=lt("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Dle(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function Ile(e,t,r){var n=We(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=pg(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var p=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Bt(u)];p&&(f<0&&(f=m),h=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=c,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function Mle(e,t,r,n){var a=Ile(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Xe(e,0,a)}var Rle=T0,Ble=Bh;function zle(){}function Ule(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Hte(e),r}function $le(e,t,r){r==null&&(r=We(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return zy({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),n9(e,r),r.slice(0,r.l)}function Wle(e){var t=ho(e);return[t]}function Hle(e,t,r){return r==null&&(r=We(8)),_0(t,r)}function Vle(e){var t=E0(e);return[t]}function qle(e,t,r){return r==null&&(r=We(4)),C0(t,r)}function Gle(e){var t=ho(e),r=e.read_shift(1);return[t,r,"b"]}function Kle(e,t,r){return r==null&&(r=We(9)),_0(t,r),r.write_shift(1,e.v?1:0),r}function Yle(e){var t=E0(e),r=e.read_shift(1);return[t,r,"b"]}function Xle(e,t,r){return r==null&&(r=We(5)),C0(t,r),r.write_shift(1,e.v?1:0),r}function Zle(e){var t=ho(e),r=e.read_shift(1);return[t,r,"e"]}function Jle(e,t,r){return r==null&&(r=We(9)),_0(t,r),r.write_shift(1,e.v),r}function Qle(e){var t=E0(e),r=e.read_shift(1);return[t,r,"e"]}function ece(e,t,r){return r==null&&(r=We(8)),C0(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function tce(e){var t=ho(e),r=e.read_shift(4);return[t,r,"s"]}function rce(e,t,r){return r==null&&(r=We(12)),_0(t,r),r.write_shift(4,t.v),r}function nce(e){var t=E0(e),r=e.read_shift(4);return[t,r,"s"]}function ace(e,t,r){return r==null&&(r=We(8)),C0(t,r),r.write_shift(4,t.v),r}function sce(e){var t=ho(e),r=is(e);return[t,r,"n"]}function ice(e,t,r){return r==null&&(r=We(16)),_0(t,r),f0(e.v,r),r}function lB(e){var t=E0(e),r=is(e);return[t,r,"n"]}function oce(e,t,r){return r==null&&(r=We(12)),C0(t,r),f0(e.v,r),r}function lce(e){var t=ho(e),r=tA(e);return[t,r,"n"]}function cce(e,t,r){return r==null&&(r=We(12)),_0(t,r),a9(e.v,r),r}function uce(e){var t=E0(e),r=tA(e);return[t,r,"n"]}function dce(e,t,r){return r==null&&(r=We(8)),C0(t,r),a9(e.v,r),r}function fce(e){var t=ho(e),r=Jj(e);return[t,r,"is"]}function hce(e){var t=ho(e),r=us(e);return[t,r,"str"]}function mce(e,t,r){return r==null&&(r=We(12+4*e.v.length)),_0(t,r),Aa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function pce(e){var t=E0(e),r=us(e);return[t,r,"str"]}function gce(e,t,r){return r==null&&(r=We(8+4*e.v.length)),C0(t,r),Aa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function xce(e,t,r){var n=e.l+t,a=ho(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=S2(e,n-e.l,r);i[3]=ts(o,null,a,r.supbooks,r)}else e.l=n;return i}function vce(e,t,r){var n=e.l+t,a=ho(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=S2(e,n-e.l,r);i[3]=ts(o,null,a,r.supbooks,r)}else e.l=n;return i}function yce(e,t,r){var n=e.l+t,a=ho(e);a.r=r["!row"];var s=is(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=S2(e,n-e.l,r);i[3]=ts(o,null,a,r.supbooks,r)}else e.l=n;return i}function bce(e,t,r){var n=e.l+t,a=ho(e);a.r=r["!row"];var s=us(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=S2(e,n-e.l,r);i[3]=ts(o,null,a,r.supbooks,r)}else e.l=n;return i}var wce=T0,kce=Bh;function Nce(e,t){return t==null&&(t=We(4)),t.write_shift(4,e),t}function Sce(e,t){var r=e.l+t,n=T0(e),a=Qj(e),s=us(e),i=us(e),o=us(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:o};return i&&(c.Tooltip=i),c}function jce(e,t){var r=We(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Bh({s:cn(e[0]),e:cn(e[0])},r),eA("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Aa(a||"",r),Aa(e[1].Tooltip||"",r),Aa("",r),r.slice(0,r.l)}function Ace(){}function _ce(e,t,r){var n=e.l+t,a=s9(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=Zoe(e,n-e.l,r);i[1]=o}else e.l=n;return i}function Ece(e,t,r){var n=e.l+t,a=T0(e),s=[a];if(r.cellFormula){var i=Qoe(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}function Cce(e,t,r){r==null&&(r=We(18));var n=j2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var cB=["left","right","top","bottom","header","footer"];function Tce(e){var t={};return cB.forEach(function(r){t[r]=is(e)}),t}function Pce(e,t){return t==null&&(t=We(6*8)),Gd(e),cB.forEach(function(r){f0(e[r],t)}),t}function Oce(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Lce(e,t,r){r==null&&(r=We(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Fce(e){var t=We(24);return t.write_shift(4,4),t.write_shift(4,1),Bh(e,t),t}function Dce(e,t){return t==null&&(t=We(16*4+2)),t.write_shift(2,e.password?oA(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Ice(){}function Mce(){}function Rce(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,g,x,v,y,b,N,S,A=[];o.biff=12,o["!row"]=0;var j=0,C=!1,E=[],F={},O=o.supbooks||a.supbooks||[[]];if(O.sharedf=F,O.arrayf=E,O.SheetNames=a.SheetNames||a.Sheets.map(function(Y){return Y.name}),!o.supbooks&&(o.supbooks=O,a.Names))for(var T=0;T<a.Names.length;++T)O[0][T+1]=a.Names[T];var H=[],K=[],se=!1;gg[16]={n:"BrtShortReal",f:lB};var M;if(Tc(e,function(z,Q,de){if(!h)switch(de){case 148:u=z;break;case 0:m=z,o.sheetRows&&o.sheetRows<=m.r&&(h=!0),N=Rn(x=m.r),o["!row"]=m.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=hh(z.hpt)),K[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:z[2]},z[2]){case"n":p.v=z[1];break;case"s":b=wp[z[1]],p.v=b.t,p.r=b.r;break;case"b":p.v=!!z[1];break;case"e":p.v=z[1],o.cellText!==!1&&(p.w=Pc[p.v]);break;case"str":p.t="s",p.v=z[1];break;case"is":p.t="s",p.v=z[1].t;break}if((g=i.CellXf[z[0].iStyleRef])&&sB(p,g.numFmtId,null,o,s,i),v=z[0].c==-1?v+1:z[0].c,o.dense?(c[x]||(c[x]=[]),c[x][v]=p):c[ln(v)+N]=p,o.cellFormula){for(C=!1,j=0;j<E.length;++j){var L=E[j];m.r>=L[0].s.r&&m.r<=L[0].e.r&&v>=L[0].s.c&&v<=L[0].e.c&&(p.F=Xt(L[0]),C=!0)}!C&&z.length>3&&(p.f=z[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>v&&(d.s.c=v),d.e.r<m.r&&(d.e.r=m.r),d.e.c<v&&(d.e.c=v),o.cellDates&&g&&p.t=="n"&&Ih(Mt[g.numFmtId])){var R=Od(p.v);R&&(p.t="d",p.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}M&&(M.type=="XLDAPR"&&(p.D=!0),M=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;p={t:"z",v:void 0},v=z[0].c==-1?v+1:z[0].c,o.dense?(c[x]||(c[x]=[]),c[x][v]=p):c[ln(v)+N]=p,d.s.r>m.r&&(d.s.r=m.r),d.s.c>v&&(d.s.c=v),d.e.r<m.r&&(d.e.r=m.r),d.e.c<v&&(d.e.c=v),M&&(M.type=="XLDAPR"&&(p.D=!0),M=void 0);break;case 176:A.push(z);break;case 49:M=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var U=n["!id"][z.relId];for(U?(z.Target=U.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=U):z.relId==""&&(z.Target="#"+z.loc),x=z.rfx.s.r;x<=z.rfx.e.r;++x)for(v=z.rfx.s.c;v<=z.rfx.e.c;++v)o.dense?(c[x]||(c[x]=[]),c[x][v]||(c[x][v]={t:"z",v:void 0}),c[x][v].l=z):(y=Bt({c:v,r:x}),c[y]||(c[y]={t:"z",v:void 0}),c[y].l=z);break;case 426:if(!o.cellFormula)break;E.push(z),S=o.dense?c[x][v]:c[ln(v)+N],S.f=ts(z[1],d,{r:m.r,c:v},O,o),S.F=Xt(z[0]);break;case 427:if(!o.cellFormula)break;F[Bt(z[0].s)]=z[1],S=o.dense?c[x][v]:c[ln(v)+N],S.f=ts(z[1],d,{r:m.r,c:v},O,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)H[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},se||(se=!0,lA(z.w/256)),Mu(H[z.e+1]);break;case 161:c["!autofilter"]={ref:Xt(z)};break;case 476:c["!margins"]=z;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),z.name&&(a.Sheets[r].CodeName=z.name),(z.above||z.left)&&(c["!outline"]={above:z.above,left:z.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),z.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Q.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+de.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Xt(u||d)),o.sheetRows&&c["!ref"]){var B=ur(c["!ref"]);o.sheetRows<=+B.e.r&&(B.e.r=o.sheetRows-1,B.e.r>d.e.r&&(B.e.r=d.e.r),B.e.r<B.s.r&&(B.s.r=B.e.r),B.e.c>d.e.c&&(B.e.c=d.e.c),B.e.c<B.s.c&&(B.s.c=B.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Xt(B))}return A.length>0&&(c["!merges"]=A),H.length>0&&(c["!cols"]=H),K.length>0&&(c["!rows"]=K),c}function Bce(e,t,r,n,a,s,i){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Xr(t),t.z=t.z||Mt[14],t.v=ua(Yr(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=rd(a.cellXfs,t,a),t.l&&s["!links"].push([Bt(c),t.l]),t.c&&s["!comments"].push([Bt(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=hA(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,i?Xe(e,18,ace(t,c)):Xe(e,7,rce(t,c))):(c.t="str",i?Xe(e,17,gce(t,c)):Xe(e,6,mce(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?Xe(e,13,dce(t,c)):Xe(e,2,cce(t,c)):i?Xe(e,16,oce(t,c)):Xe(e,5,ice(t,c)),!0;case"b":return c.t="b",i?Xe(e,15,Xle(t,c)):Xe(e,4,Kle(t,c)),!0;case"e":return c.t="e",i?Xe(e,14,ece(t,c)):Xe(e,3,Jle(t,c)),!0}return i?Xe(e,12,qle(t,c)):Xe(e,1,Hle(t,c)),!0}function zce(e,t,r,n){var a=ur(t["!ref"]||"A1"),s,i="",o=[];Xe(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){i=Rn(d),Mle(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=ln(h)),s=o[h]+i;var m=c?(t[d]||[])[h]:t[s];if(!m){f=!1;continue}f=Bce(e,m,d,h,n,t,f)}}Xe(e,146)}function Uce(e,t){!t||!t["!merges"]||(Xe(e,177,Nce(t["!merges"].length)),t["!merges"].forEach(function(r){Xe(e,176,kce(r))}),Xe(e,178))}function $ce(e,t){!t||!t["!cols"]||(Xe(e,390),t["!cols"].forEach(function(r,n){r&&Xe(e,60,Cce(n,r))}),Xe(e,391))}function Wce(e,t){!t||!t["!ref"]||(Xe(e,648),Xe(e,649,Fce(ur(t["!ref"]))),Xe(e,650))}function Hce(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Sr(r,-1,n[1].Target.replace(/#.*$/,""),Qt.HLINK);Xe(e,494,jce(n,a))}}),delete t["!links"]}function Vce(e,t,r,n){if(t["!comments"].length>0){var a=Sr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Qt.VML);Xe(e,551,eA("rId"+a)),t["!legacy"]=a}}function qce(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:Xt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=ri(s);o.s.r==o.e.r&&(o.e.r=ri(t["!ref"]).e.r,s=Xt(o));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Xe(e,161,Bh(ur(s))),Xe(e,162)}}function Gce(e,t,r){Xe(e,133),Xe(e,137,Lce(t,r)),Xe(e,138),Xe(e,134)}function Kce(e,t){t["!protect"]&&Xe(e,535,Dce(t["!protect"]))}function Yce(e,t,r,n){var a=ti(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=ur(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Xe(a,129),(r.vbaraw||i["!outline"])&&Xe(a,147,$le(o,i["!outline"])),Xe(a,148,Ble(c)),Gce(a,i,r.Workbook),$ce(a,i),zce(a,i,e,t),Kce(a,i),qce(a,i,r,e),Uce(a,i),Hce(a,i,n),i["!margins"]&&Xe(a,476,Pce(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Wce(a,i),Vce(a,i,e,n),Xe(a,130),a.end()}function Xce(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=cr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function Zce(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Xce(f);d.s.r=d.s.c=0,d.e.c=o,u=ln(o),h[0].forEach(function(m,p){i[u+Rn(p)]={t:"n",v:m,z:h[1]},c=p}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(i["!ref"]=Xt(d)),i}function Jce(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(iB);return o&&mA(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Qce(e,t){e.l+=10;var r=us(e);return{name:r}}function eue(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Tc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var pA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],tue=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],rue=[],nue=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function zP(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=qr(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function UP(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=qr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function uB(e){UP(e.WBProps,pA),UP(e.CalcPr,nue),zP(e.WBView,tue),zP(e.Sheets,rue),Zf.date1904=qr(e.WBProps.date1904)}function aue(e){return!e.Workbook||!e.Workbook.WBProps?"false":qr(e.Workbook.WBProps.date1904)?"true":"false"}var sue="][*?/\\".split("");function dB(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return sue.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function iue(e,t,r){e.forEach(function(n,a){dB(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[a]&&t[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function oue(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];iue(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)ale(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var lue=/<\w+:workbook/;function cue(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(ps,function(c,u){var d=Ut(c);switch(Ll(d[0])){case"<?xml":break;case"<workbook":c.match(lue)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":pA.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=qr(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Pr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=cr(Pr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Pr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),qr(d.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=cr(Pr(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),A0.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return uB(r),r}function fB(e){var t=[zn];t[t.length]=lt("workbook",null,{xmlns:A0[0],"xmlns:r":oa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(pA.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=lt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:Ar(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=lt("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=lt("definedName",Ar(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function uue(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=EN(e),r.name=us(e),r}function due(e,t){return t||(t=We(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),eA(e.strRelID,t),Aa(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function fue(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?us(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function hue(e,t){t||(t=We(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),n9(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function mue(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function pue(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Vte(e),i=Joe(e,0,r),o=Qj(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function gue(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],gg[16]={n:"BrtFRTArchID$",f:mue},Tc(e,function(c,u,d){switch(d){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ts(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,c]):i[0]=[d,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),uB(r),r.Names=s,r.supbooks=i,r}function xue(e,t){Xe(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Xe(e,156,due(a))}Xe(e,144)}function vue(e,t){t||(t=We(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Aa("SheetJS",t),Aa(Ly.version,t),Aa(Ly.version,t),Aa("7262",t),t.length>t.l?t.slice(0,t.l):t}function yue(e,t){t||(t=We(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function bue(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Xe(e,135),Xe(e,158,yue(a)),Xe(e,136))}}function wue(e,t){var r=ti();return Xe(r,131),Xe(r,128,vue()),Xe(r,153,hue(e.Workbook&&e.Workbook.WBProps||null)),bue(r,e),xue(r,e),Xe(r,132),r.end()}function kue(e,t,r){return t.slice(-4)===".bin"?gue(e,r):cue(e,r)}function Nue(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Rce(e,n,r,a,s,i,o):ple(e,n,r,a,s,i,o)}function Sue(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?eue(e,n,r,a,s):Jce(e,n,r,a,s)}function jue(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?_ie():Eie()}function Aue(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?jie():Aie()}function _ue(e,t,r,n){return t.slice(-4)===".bin"?kse(e,r,n):use(e,r,n)}function Eue(e,t,r){return q9(e,r)}function Cue(e,t,r){return t.slice(-4)===".bin"?Cae(e,r):Aae(e,r)}function Tue(e,t,r){return t.slice(-4)===".bin"?bie(e,r):die(e,r)}function Pue(e,t,r){return t.slice(-4)===".bin"?lie(e):iie(e)}function Oue(e,t,r,n){return r.slice(-4)===".bin"?cie(e,t,r,n):void 0}function Lue(e,t,r){return t.slice(-4)===".bin"?nie(e,t,r):sie(e,t,r)}function Fue(e,t,r){return(t.slice(-4)===".bin"?wue:fB)(e)}function Due(e,t,r,n,a){return(t.slice(-4)===".bin"?Yce:oB)(e,r,n,a)}function Iue(e,t,r){return(t.slice(-4)===".bin"?Ose:H9)(e,r)}function Mue(e,t,r){return(t.slice(-4)===".bin"?Oae:I9)(e,r)}function Rue(e,t,r){return(t.slice(-4)===".bin"?wie:Y9)(e)}function Bue(e){return(e.slice(-4)===".bin"?aie:G9)()}var hB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,mB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function So(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(hB),s,i,o,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(mB),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function zue(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(hB),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(mB),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var Np;function Uue(e,t){var r=Np[e]||cr(e);return r==="General"?u0(t):co(r,t)}function $ue(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=qr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Yr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[cr(t)]=a}function Wue(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Pc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=og(e.v):e.w=u0(e.v):e.w=Uue(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=Np[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Ih(n)){var a=Od(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Hue(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=rse[n.Pattern]||n.Pattern)}e[t.ID]=t}function Vue(e,t,r,n,a,s,i,o,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],p=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=qr(e);break;case"String":n.t="s",n.r=aP(cr(e)),n.v=e.indexOf("<")>-1?cr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Yr(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=cr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=l9[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=aP(t||e));break}if(Wue(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=cr(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Xf(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Xf("RC:RC",a):n.ArrayRange&&(n.F=Xf(n.ArrayRange,a),c.push([ur(n.F),n.F]))}else for(p=0;p<c.length;++p)a.r>=c[p][0].s.r&&a.r<=c[p][0].e.r&&a.c>=c[p][0].s.c&&a.c<=c[p][0].e.c&&(n.F=c[p][1]);u.cellStyles&&(m.forEach(function(x){!h.patternType&&x.patternType&&(h.patternType=x.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function que(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function xk(e,t){var r=t||{};Mh();var n=tp(Gj(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Pr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=Xr(r);return i.type="string",fh.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Je){a.indexOf("<"+Je)>=0&&(s=!0)}),s)return Pde(n,r);Np={"General Number":"General","General Date":Mt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Mt[15],"Short Date":Mt[14],"Long Time":Mt[19],"Medium Time":Mt[18],"Short Time":Mt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Mt[2],Standard:Mt[4],Percent:Mt[10],Scientific:Mt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},f=[],h=r.dense?[]:{},m="",p={},g={},x=So('<Data ss:Type="String">'),v=0,y=0,b=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},A={},j="",C=0,E=[],F={},O={},T=0,H=[],K=[],se={},M=[],B,Y=!1,z=[],Q=[],de={},L=0,R=0,U={Sheets:[],WBProps:{date1904:!1}},I={};ug.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var X="";o=ug.exec(n);)switch(o[3]=(X=o[3]).toLowerCase()){case"data":if(X=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Vue(n.slice(v,o.index),j,x,c[c.length-1][0]=="comment"?se:p,{c:y,r:b},S,M[y],g,z,r):(j="",x=So(o[0]),v=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(K.length>0&&(p.c=K),(!r.sheetRows||r.sheetRows>b)&&p.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][y]=p):h[ln(y)+Rn(b)]=p),p.HRef&&(p.l={Target:cr(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(L=y+(parseInt(p.MergeAcross,10)|0),R=b+(parseInt(p.MergeDown,10)|0),E.push({s:{c:y,r:b},e:{c:L,r:R}})),!r.sheetStubs)p.MergeAcross?y=L+1:++y;else if(p.MergeAcross||p.MergeDown){for(var V=y;V<=L;++V)for(var ee=b;ee<=R;++ee)(V>y||ee>b)&&(r.dense?(h[ee]||(h[ee]=[]),h[ee][V]={t:"z"}):h[ln(V)+Rn(ee)]={t:"z"});y=L+1}else++y;else p=zue(o[0]),p.Index&&(y=+p.Index-1),y<N.s.c&&(N.s.c=y),y>N.e.c&&(N.e.c=y),o[0].slice(-2)==="/>"&&++y,K=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<N.s.r&&(N.s.r=b),b>N.e.r&&(N.e.r=b),o[0].slice(-2)==="/>"&&(g=So(o[0]),g.Index&&(b=+g.Index-1)),y=0,++b):(g=So(o[0]),g.Index&&(b=+g.Index-1),de={},(g.AutoFitHeight=="0"||g.Height)&&(de.hpx=parseInt(g.Height,10),de.hpt=pg(de.hpx),Q[b]=de),g.Hidden=="1"&&(de.hidden=!0,Q[b]=de));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(m),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(h["!ref"]=Xt(N),r.sheetRows&&r.sheetRows<=N.e.r&&(h["!fullref"]=h["!ref"],N.e.r=r.sheetRows-1,h["!ref"]=Xt(N))),E.length&&(h["!merges"]=E),M.length>0&&(h["!cols"]=M),Q.length>0&&(h["!rows"]=Q),d[m]=h}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,c.push([o[3],!1]),u=So(o[0]),m=cr(u.Name),h=r.dense?[]:{},E=[],z=[],Q=[],I={name:m,Hidden:0},U.Sheets.push(I);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),M=[],Y=!1}break;case"style":o[1]==="/"?Hue(S,A,r):A=So(o[0]);break;case"numberformat":A.nf=cr(So(o[0]).Format||"General"),Np[A.nf]&&(A.nf=Np[A.nf]);for(var G=0;G!=392&&Mt[G]!=A.nf;++G);if(G==392){for(G=57;G!=392;++G)if(Mt[G]==null){oc(A.nf,G);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(B=So(o[0]),B.Hidden&&(B.hidden=!0,delete B.Hidden),B.Width&&(B.wpx=parseInt(B.Width,10)),!Y&&B.wpx>10){Y=!0,ns=$9;for(var ue=0;ue<M.length;++ue)M[ue]&&Mu(M[ue])}Y&&Mu(B),M[B.Index-1||M.length]=B;for(var ve=0;ve<+B.Span;++ve)M[M.length]=Xr(B);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var q=Ut(o[0]),Me={Name:q.Name,Ref:Xf(q.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(Me.Sheet=U.Sheets.length-1),U.Names.push(Me);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?j+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;A.Interior=So(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?gre(F,X,n.slice(T,o.index)):T=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));que(se),K.push(se)}else c.push([o[3],!1]),u=So(o[0]),se={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var He=So(o[0]);h["!autofilter"]={ref:Xf(He.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return qP(n,r);var Ae=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ae=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ae=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ae=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ae=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(T,o.index)){case"SheetHidden":I.Hidden=1;break;case"SheetVeryHidden":I.Hidden=2;break}else T=o.index+o[0].length;break;case"header":h["!margins"]||Gd(h["!margins"]={},"xlml"),isNaN(+Ut(o[0]).Margin)||(h["!margins"].header=+Ut(o[0]).Margin);break;case"footer":h["!margins"]||Gd(h["!margins"]={},"xlml"),isNaN(+Ut(o[0]).Margin)||(h["!margins"].footer=+Ut(o[0]).Margin);break;case"pagemargins":var le=Ut(o[0]);h["!margins"]||Gd(h["!margins"]={},"xlml"),isNaN(+le.Top)||(h["!margins"].top=+le.Top),isNaN(+le.Left)||(h["!margins"].left=+le.Left),isNaN(+le.Right)||(h["!margins"].right=+le.Right),isNaN(+le.Bottom)||(h["!margins"].bottom=+le.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ae=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ae=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ae=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ae=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ae=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ae=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ae=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ae=!1}break;case"smarttags":break;default:Ae=!1;break}if(Ae||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?$ue(O,X,H,n.slice(T,o.index)):(H=o,T=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var De={};return!r.bookSheets&&!r.bookProps&&(De.Sheets=d),De.SheetNames=f,De.Workbook=U,De.SSF=Xr(Mt),De.Props=F,De.Custprops=O,De}function DN(e,t){switch(xA(t=t||{}),t.type||"base64"){case"base64":return xk(Ai(e),t);case"binary":case"buffer":case"file":return xk(e,t);case"array":return xk(ed(e),t)}}function Gue(e,t){var r=[];return e.Props&&r.push(xre(e.Props,t)),e.Custprops&&r.push(vre(e.Props,e.Custprops)),r.join("")}function Kue(){return""}function Yue(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(lt("NumberFormat",null,{"ss:Format":Ar(Mt[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};r.push(lt("Style",s.join(""),i))}),lt("Styles",r.join(""))}function pB(e){return lt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+dA(e.Ref,{r:0,c:0})})}function Xue(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(pB(a)))}return lt("Names",r.join(""))}function Zue(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var o=a[i];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(pB(o)))}return s.join("")}function Jue(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(lt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(lt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(lt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(lt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(za("ProtectContents","True")),e["!protect"].objects&&a.push(za("ProtectObjects","True")),e["!protect"].scenarios&&a.push(za("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(za("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(za("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":lt("WorksheetOptions",a.join(""),{xmlns:hi.x})}function Que(e){return e.map(function(t){var r=bte(t.t||""),n=lt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return lt("Comment",n,{"ss:Author":t.a})}).join("")}function ede(e,t,r,n,a,s,i){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Ar(dA(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var c=cn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Ar(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Ar(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=i.c||u[d].s.r!=i.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Pc[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Mt[14]);break;case"s":f="String",h=yte(e.v||"");break}var m=rd(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=i.c+1;var p=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+p+"</Data>";return(e.c||[]).length>0&&(g+=Que(e.c)),lt("Cell",g,o)}function tde(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=hh(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function rde(e,t,r,n){if(!e["!ref"])return"";var a=ur(e["!ref"]),s=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach(function(x,v){Mu(x);var y=!!x.width,b=j2(v,x),N={"ss:Index":v+1};y&&(N["ss:Width"]=hg(b.width)),x.hidden&&(N["ss:Hidden"]="1"),o.push(lt("Column",null,N))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[tde(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>f)&&!(s[i].s.r>u)&&!(s[i].e.c<f)&&!(s[i].e.r<u)){(s[i].s.c!=f||s[i].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},p=Bt(m),g=c?(e[u]||[])[f]:e[p];d.push(ede(g,p,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function nde(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],i=s?Zue(s,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?rde(s,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(Jue(s,t,e,r)),n.join("")}function ade(e,t){t||(t={}),e.SSF||(e.SSF=Xr(Mt)),e.SSF&&(Mh(),v2(e.SSF),t.revssf=b2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],rd(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Gue(e,t)),r.push(Kue()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(lt("Worksheet",nde(n,t,e),{"ss:Name":Ar(e.SheetNames[n])}));return r[2]=Yue(e,t),r[3]=Xue(e),zn+lt("Workbook",r.join(""),{xmlns:hi.ss,"xmlns:o":hi.o,"xmlns:x":hi.x,"xmlns:ss":hi.ss,"xmlns:dt":hi.dt,"xmlns:html":hi.html})}function sde(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Xte(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Zte(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var ide=[60,1084,2066,2165,2175];function ode(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var c=rc(r,r.l),u=IN[c],d=0;u!=null&&ide.indexOf(c)>-1;)s=rc(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+s),i.push(o),r.l+=4+s,u=IN[c=rc(r,r.l)];var f=ja(i);Ba(f,0);var h=0;f.lens=[];for(var m=0;m<i.length;++m)f.lens.push(h),h+=i[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function al(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Mt[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Pc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=og(e.v):e.w=u0(e.v):e.w=co(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Ih(Mt[n]||String(n))){var a=Od(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function rv(e,t,r){return{v:e,ixfe:t,t:r}}function lde(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,c=[],u="",d={},f,h="",m,p,g,x,v={},y=[],b,N,S=[],A=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},E=function(st){return st<8?Hd[st]:st<64&&A[st-8]||Hd[st]},F=function(st,rt,ar){var _t=rt.XF.data;if(!(!_t||!_t.patternType||!ar||!ar.cellStyles)){rt.s={},rt.s.patternType=_t.patternType;var $r;($r=fg(E(_t.icvFore)))&&(rt.s.fgColor={rgb:$r}),($r=fg(E(_t.icvBack)))&&(rt.s.bgColor={rgb:$r})}},O=function(st,rt,ar){if(!(de>1)&&!(ar.sheetRows&&st.r>=ar.sheetRows)){if(ar.cellStyles&&rt.XF&&rt.XF.data&&F(st,rt,ar),delete rt.ixfe,delete rt.XF,f=st,h=Bt(st),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),st.r<i.s.r&&(i.s.r=st.r),st.c<i.s.c&&(i.s.c=st.c),st.r+1>i.e.r&&(i.e.r=st.r+1),st.c+1>i.e.c&&(i.e.c=st.c+1),ar.cellFormula&&rt.f){for(var _t=0;_t<y.length;++_t)if(!(y[_t][0].s.c>st.c||y[_t][0].s.r>st.r)&&!(y[_t][0].e.c<st.c||y[_t][0].e.r<st.r)){rt.F=Xt(y[_t][0]),(y[_t][0].s.c!=st.c||y[_t][0].s.r!=st.r)&&delete rt.f,rt.f&&(rt.f=""+ts(y[_t][1],i,st,z,T));break}}ar.dense?(a[st.r]||(a[st.r]=[]),a[st.r][st.c]=rt):a[h]=rt}},T={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var H,K=[],se=[],M=[],B=[],Y=!1,z=[];z.SheetNames=T.snames,z.sharedf=T.sharedf,z.arrayf=T.arrayf,z.names=[],z.XTI=[];var Q=0,de=0,L=0,R=[],U=[],I;T.codepage=1200,Do(1200);for(var X=!1;e.l<e.length-1;){var V=e.l,ee=e.read_shift(2);if(ee===0&&Q===10)break;var G=e.l===e.length?0:e.read_shift(2),ue=IN[ee];if(ue&&ue.f){if(t.bookSheets&&Q===133&&ee!==133)break;if(Q=ee,ue.r===2||ue.r==12){var ve=e.read_shift(2);if(G-=2,!T.enc&&ve!==ee&&((ve&255)<<8|ve>>8)!==ee)throw new Error("rt mismatch: "+ve+"!="+ee);ue.r==12&&(e.l+=10,G-=10)}var q={};if(ee===10?q=ue.f(e,G,T):q=ode(ee,ue,e,G,T),de==0&&[9,521,1033,2057].indexOf(Q)===-1)continue;switch(ee){case 34:r.opts.Date1904=j.WBProps.date1904=q;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=q,!t.password)throw new Error("File is password-protected");if(q.valid==null)throw new Error("Encryption scheme unsupported");if(!q.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=q;break;case 66:var Me=Number(q);switch(Me){case 21010:Me=1200;break;case 32768:Me=1e4;break;case 32769:Me=1252;break}Do(T.codepage=Me),X=!0;break;case 317:T.rrtabid=q;break;case 25:T.winlocked=q;break;case 439:r.opts.RefreshAll=q;break;case 12:r.opts.CalcCount=q;break;case 16:r.opts.CalcDelta=q;break;case 17:r.opts.CalcIter=q;break;case 13:r.opts.CalcMode=q;break;case 14:r.opts.CalcPrecision=q;break;case 95:r.opts.CalcSaveRecalc=q;break;case 15:T.CalcRefMode=q;break;case 2211:r.opts.FullCalc=q;break;case 129:q.fDialog&&(a["!type"]="dialog"),q.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),q.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(q);break;case 430:z.push([q]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(q);break;case 24:case 536:I={Name:q.Name,Ref:ts(q.rgce,i,null,z,T)},q.itab>0&&(I.Sheet=q.itab-1),z.names.push(I),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(q),q.Name=="_xlnm._FilterDatabase"&&q.itab>0&&q.rgce&&q.rgce[0]&&q.rgce[0][0]&&q.rgce[0][0][0]=="PtgArea3d"&&(U[q.itab-1]={ref:Xt(q.rgce[0][0][1][2])});break;case 22:T.ExternCount=q;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(q),z.XTI=z.XTI.concat(q);break;case 2196:if(T.biff<8)break;I!=null&&(I.Comment=q[1]);break;case 18:a["!protect"]=q;break;case 19:q!==0&&T.WTF&&console.error("Password verifier: "+q);break;case 133:s[q.pos]=q,T.snames.push(q.name);break;case 10:{if(--de)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Xt(i),t.sheetRows&&t.sheetRows<=i.e.r){var He=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Xt(i),i.e.r=He}i.e.r++,i.e.c++}K.length>0&&(a["!merges"]=K),se.length>0&&(a["!objects"]=se),M.length>0&&(a["!cols"]=M),B.length>0&&(a["!rows"]=B),j.Sheets.push(C)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[q.BIFFVer]||8),T.biffguess=q.BIFFVer==0,q.BIFFVer==0&&q.dt==4096&&(T.biff=5,X=!0,Do(T.codepage=28591)),T.biff==8&&q.BIFFVer==0&&q.dt==16&&(T.biff=2),de++)break;if(a=t.dense?[]:{},T.biff<8&&!X&&(X=!0,Do(T.codepage=t.codepage||1252)),T.biff<5||q.BIFFVer==0&&q.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Ae={pos:e.l-G,name:u};s[Ae.pos]=Ae,T.snames.push(u)}else u=(s[V]||{name:""}).name;q.dt==32&&(a["!type"]="chart"),q.dt==64&&(a["!type"]="macro"),K=[],se=[],T.arrayf=y=[],M=[],B=[],Y=!1,C={Hidden:(s[V]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[q.r]||[])[q.c]:a[Bt({c:q.c,r:q.r})])&&++q.c,b={ixfe:q.ixfe,XF:S[q.ixfe]||{},v:q.val,t:"n"},L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O({c:q.c,r:q.r},b,t);break;case 5:case 517:b={ixfe:q.ixfe,XF:S[q.ixfe],v:q.val,t:q.t},L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O({c:q.c,r:q.r},b,t);break;case 638:b={ixfe:q.ixfe,XF:S[q.ixfe],v:q.rknum,t:"n"},L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O({c:q.c,r:q.r},b,t);break;case 189:for(var le=q.c;le<=q.C;++le){var De=q.rkrec[le-q.c][0];b={ixfe:De,XF:S[De],v:q.rkrec[le-q.c][1],t:"n"},L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O({c:le,r:q.r},b,t)}break;case 6:case 518:case 1030:{if(q.val=="String"){o=q;break}if(b=rv(q.val,q.cell.ixfe,q.tt),b.XF=S[b.ixfe],t.cellFormula){var Je=q.formula;if(Je&&Je[0]&&Je[0][0]&&Je[0][0][0]=="PtgExp"){var Ve=Je[0][0][1][0],ye=Je[0][0][1][1],ge=Bt({r:Ve,c:ye});v[ge]?b.f=""+ts(q.formula,i,q.cell,z,T):b.F=((t.dense?(a[Ve]||[])[ye]:a[ge])||{}).F}else b.f=""+ts(q.formula,i,q.cell,z,T)}L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O(q.cell,b,t),o=q}break;case 7:case 519:if(o)o.val=q,b=rv(q,o.cell.ixfe,"s"),b.XF=S[b.ixfe],t.cellFormula&&(b.f=""+ts(o.formula,i,o.cell,z,T)),L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O(o.cell,b,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(q);var ze=Bt(q[0].s);if(m=t.dense?(a[q[0].s.r]||[])[q[0].s.c]:a[ze],t.cellFormula&&m){if(!o||!ze||!m)break;m.f=""+ts(q[1],i,q[0],z,T),m.F=Xt(q[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;v[Bt(o.cell)]=q[0],m=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Bt(o.cell)],(m||{}).f=""+ts(q[0],i,f,z,T)}}break;case 253:b=rv(c[q.isst].t,q.ixfe,"s"),c[q.isst].h&&(b.h=c[q.isst].h),b.XF=S[b.ixfe],L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O({c:q.c,r:q.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:q.ixfe,XF:S[q.ixfe],t:"z"},L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O({c:q.c,r:q.r},b,t));break;case 190:if(t.sheetStubs)for(var tt=q.c;tt<=q.C;++tt){var ut=q.ixfe[tt-q.c];b={ixfe:ut,XF:S[ut],t:"z"},L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O({c:tt,r:q.r},b,t)}break;case 214:case 516:case 4:b=rv(q.val,q.ixfe,"s"),b.XF=S[b.ixfe],L>0&&(b.z=R[b.ixfe>>8&63]),al(b,t,r.opts.Date1904),O({c:q.c,r:q.r},b,t);break;case 0:case 512:de===1&&(i=q);break;case 252:c=q;break;case 1054:if(T.biff==4){R[L++]=q[1];for(var bt=0;bt<L+163&&Mt[bt]!=q[1];++bt);bt>=163&&oc(q[1],L+163)}else oc(q[1],q[0]);break;case 30:{R[L++]=q;for(var St=0;St<L+163&&Mt[St]!=q;++St);St>=163&&oc(q,L+163)}break;case 229:K=K.concat(q);break;case 93:se[q.cmo[0]]=T.lastobj=q;break;case 438:T.lastobj.TxO=q;break;case 127:T.lastobj.ImData=q;break;case 440:for(x=q[0].s.r;x<=q[0].e.r;++x)for(g=q[0].s.c;g<=q[0].e.c;++g)m=t.dense?(a[x]||[])[g]:a[Bt({c:g,r:x})],m&&(m.l=q[1]);break;case 2048:for(x=q[0].s.r;x<=q[0].e.r;++x)for(g=q[0].s.c;g<=q[0].e.c;++g)m=t.dense?(a[x]||[])[g]:a[Bt({c:g,r:x})],m&&m.l&&(m.l.Tooltip=q[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;m=t.dense?(a[q[0].r]||[])[q[0].c]:a[Bt(q[0])];var At=se[q[2]];m||(t.dense?(a[q[0].r]||(a[q[0].r]=[]),m=a[q[0].r][q[0].c]={t:"z"}):m=a[Bt(q[0])]={t:"z"},i.e.r=Math.max(i.e.r,q[0].r),i.s.r=Math.min(i.s.r,q[0].r),i.e.c=Math.max(i.e.c,q[0].c),i.s.c=Math.min(i.s.c,q[0].c)),m.c||(m.c=[]),p={a:q[1],t:At.TxO.t},m.c.push(p)}break;case 2173:Yse(S[q.ixfe],q.ext);break;case 125:{if(!T.cellStyles)break;for(;q.e>=q.s;)M[q.e--]={width:q.w/256,level:q.level||0,hidden:!!(q.flags&1)},Y||(Y=!0,lA(q.w/256)),Mu(M[q.e+1])}break;case 520:{var Ft={};q.level!=null&&(B[q.r]=Ft,Ft.level=q.level),q.hidden&&(B[q.r]=Ft,Ft.hidden=!0),q.hpt&&(B[q.r]=Ft,Ft.hpt=q.hpt,Ft.hpx=hh(q.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Gd(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ee]]=q;break;case 161:a["!margins"]||Gd(a["!margins"]={}),a["!margins"].header=q.header,a["!margins"].footer=q.footer;break;case 574:q.RTL&&(j.Views[0].RTL=!0);break;case 146:A=q;break;case 2198:H=q;break;case 140:N=q;break;case 442:u?C.CodeName=q||C.name:j.WBProps.CodeName=q||"ThisWorkbook";break}}else ue||console.error("Missing Info for XLS Record 0x"+ee.toString(16)),e.l+=G}return r.SheetNames=Sn(s).sort(function(xt,st){return Number(xt)-Number(st)}).map(function(xt){return s[xt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&U.forEach(function(xt,st){r.Sheets[r.SheetNames[st]]["!autofilter"]=xt}),r.Strings=c,r.SSF=Xr(Mt),T.enc&&(r.Encryption=T.enc),H&&(r.Themes=H),r.Metadata={},N!==void 0&&(r.Metadata.Country=N),z.names.length>0&&(j.Names=z.names),r.Workbook=j,r}var Sp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function cde(e,t,r){var n=Tt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=kP(n,CN,Sp.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=Tt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=kP(i,TN,Sp.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(m9(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function ude(e,t){var r=[],n=[],a=[],s=0,i,o=JT(CN,"n"),c=JT(TN,"n");if(e.Props)for(i=Sn(e.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Props[i[s]]]);if(e.Custprops)for(i=Sn(e.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Custprops[i[s]]]);var u=[];for(s=0;s<a.length;++s)w9.indexOf(a[s][0])>-1||h9.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&Tt.utils.cfb_add(t,"/SummaryInformation",NP(n,Sp.SI,c,TN)),(r.length||u.length)&&Tt.utils.cfb_add(t,"/DocumentSummaryInformation",NP(r,Sp.DSI,o,CN,u.length?u:null,Sp.UDI))}function gB(e,t){t||(t={}),xA(t),Rj(),t.codepage&&Mj(t.codepage);var r,n;if(e.FullPaths){if(Tt.find(e,"/encryption"))throw new Error("File is password-protected");r=Tt.find(e,"!CompObj"),n=Tt.find(e,"/Workbook")||Tt.find(e,"/Book")}else{switch(t.type){case"base64":e=pi(Ai(e));break;case"binary":e=pi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ba(e,0),n={content:e}}var a,s;if(r&&sde(r),t.bookProps&&!t.bookSheets)a={};else{var i=Jt?"buffer":"array";if(n&&n.content)a=lde(n.content,t);else if((s=Tt.find(e,"PerfectOffice_MAIN"))&&s.content)a=qd.to_workbook(s.content,(t.type=i,t));else if((s=Tt.find(e,"NativeContent_MAIN"))&&s.content)a=qd.to_workbook(s.content,(t.type=i,t));else throw(s=Tt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Tt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Nie(e))}var o={};return e.FullPaths&&cde(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function dde(e,t){var r=t||{},n=Tt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Tt.utils.cfb_add(n,a,xB(e,r)),r.biff==8&&(e.Props||e.Custprops)&&ude(e,n),r.biff==8&&e.vbaraw&&Sie(n,Tt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var gg={0:{f:Dle},1:{f:Wle},2:{f:lce},3:{f:Zle},4:{f:Gle},5:{f:sce},6:{f:hce},7:{f:tce},8:{f:bce},9:{f:yce},10:{f:xce},11:{f:vce},12:{f:Vle},13:{f:uce},14:{f:Qle},15:{f:Yle},16:{f:lB},17:{f:pce},18:{f:nce},19:{f:Jj},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:pue},40:{},42:{},43:{f:hse},44:{f:dse},45:{f:gse},46:{f:vse},47:{f:xse},48:{},49:{f:Rte},50:{},51:{f:Jse},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:O9},62:{f:fce},63:{f:oie},64:{f:Ice},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ms,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Oce},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Ule},148:{f:Rle,p:16},151:{f:Ace},152:{},153:{f:fue},154:{},155:{},156:{f:uue},157:{},158:{},159:{T:1,f:Eae},160:{T:-1},161:{T:1,f:T0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:wce},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Xse},336:{T:-1},337:{f:tie,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:EN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:P9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:_ce},427:{f:Ece},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Tce},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:zle},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Sce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:EN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:vie},633:{T:1},634:{T:-1},635:{T:1,f:gie},636:{T:-1},637:{f:$te},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Qce},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Mce},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},IN={6:{f:pk},10:{f:eu},12:{f:Gn},13:{f:Gn},14:{f:Cn},15:{f:Cn},16:{f:is},17:{f:Cn},18:{f:Cn},19:{f:Gn},20:{f:CP},21:{f:CP},23:{f:P9},24:{f:PP},25:{f:Cn},26:{},27:{},28:{f:Mne},29:{},34:{f:Cn},35:{f:TP},38:{f:is},39:{f:is},40:{f:is},41:{f:is},42:{f:Cn},43:{f:Cn},47:{f:Yae},49:{f:une},51:{f:Gn},60:{},61:{f:sne},64:{f:Cn},65:{f:cne},66:{f:Gn},77:{},80:{},81:{},82:{},85:{f:Gn},89:{},90:{},91:{},92:{f:Kre},93:{f:zne},94:{},95:{f:Cn},96:{},97:{},99:{f:Cn},125:{f:O9},128:{f:jne},129:{f:Xre},130:{f:Gn},131:{f:Cn},132:{f:Cn},133:{f:Zre},134:{},140:{f:Kne},141:{f:Gn},144:{},146:{f:Zne},151:{},152:{},153:{},154:{},155:{},156:{f:Gn},157:{},158:{},160:{f:aae},161:{f:eae},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:wne},190:{f:kne},193:{f:eu},197:{},198:{},199:{},200:{},201:{},202:{f:Cn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Gn},220:{},221:{f:Cn},222:{},224:{f:Sne},225:{f:Gre},226:{f:eu},227:{},229:{f:Rne},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Qre},253:{f:fne},255:{f:tne},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:k9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Cn},353:{f:eu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Tne},431:{f:Cn},432:{},433:{},434:{},437:{},438:{f:Wne},439:{f:Cn},440:{f:Hne},441:{},442:{f:sx},443:{},444:{f:Gn},445:{},446:{},448:{f:eu},449:{f:ane,r:2},450:{f:eu},512:{f:AP},513:{f:nae},515:{f:Ene},516:{f:mne},517:{f:EP},519:{f:sae},520:{f:rne},523:{},545:{f:OP},549:{f:jP},566:{},574:{f:one},638:{f:bne},659:{},1048:{},1054:{f:gne},1084:{},1212:{f:Fne},2048:{f:qne},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Q1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:eu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Jne,r:12},2173:{f:Kse,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Cn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Lne,r:12},2197:{},2198:{f:$se,r:12},2199:{},2200:{},2201:{},2202:{f:Dne,r:12},2203:{f:eu},2204:{},2205:{},2206:{},2207:{},2211:{f:nne},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Gn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:tae},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Xne},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:AP},1:{},2:{f:uae},3:{f:lae},4:{f:oae},5:{f:EP},7:{f:fae},8:{},9:{f:Q1},11:{},22:{f:Gn},30:{f:vne},31:{},32:{},33:{f:OP},36:{},37:{f:jP},50:{f:hae},62:{},52:{},67:{},68:{f:Gn},69:{},86:{},126:{},127:{f:iae},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:mae},223:{},234:{},354:{},421:{},518:{f:pk},521:{f:Q1},536:{f:PP},547:{f:TP},561:{},579:{},1030:{f:pk},1033:{f:Q1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ct(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&Yj(r)&&e.push(r)}}function fde(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return ct(e,t,r,a);var s=t;if(!isNaN(s)){for(var i=r.parts||[],o=0,c=0,u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function cx(e,t,r){return e||(e=We(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function hde(e,t,r,n){var a=We(9);return cx(a,e,t),N9(r,n||"b",a),a}function mde(e,t,r){var n=We(8+2*r.length);return cx(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function pde(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?ua(Yr(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?ct(e,2,dae(r,n,a)):ct(e,3,cae(r,n,a));return;case"b":case"e":ct(e,5,hde(r,n,t.v,t.t));return;case"s":case"str":ct(e,4,mde(r,n,(t.v||"").slice(0,255)));return}ct(e,1,cx(null,r,n))}function gde(e,t,r,n){var a=Array.isArray(t),s=ur(t["!ref"]||"A1"),i,o="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=Xt(s)}for(var u=s.s.r;u<=s.e.r;++u){o=Rn(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=ln(d)),i=c[d]+o;var f=a?(t[u]||[])[d]:t[i];f&&pde(e,f,u,d)}}}function xde(e,t){for(var r=t||{},n=ti(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ct(n,r.biff==4?1033:r.biff==3?521:9,sA(e,16,r)),gde(n,e.Sheets[e.SheetNames[a]],a,r),ct(n,10),n.end()}function vde(e,t,r){ct(e,49,dne({sz:12,name:"Arial"},r))}function yde(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ct(e,1054,xne(a,t[a],r))})}function bde(e,t){var r=We(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ct(e,2151,r),r=We(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),E9(ur(t["!ref"]||"A1"),r),r.write_shift(4,4),ct(e,2152,r)}function wde(e,t){for(var r=0;r<16;++r)ct(e,224,_P({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ct(e,224,_P(n,0,t))})}function kde(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ct(e,440,Vne(n)),n[1].Tooltip&&ct(e,2048,Gne(n))}delete t["!links"]}function Nde(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&ct(e,125,Qne(j2(a,n),a))})}}function Sde(e,t,r,n,a){var s=16+rd(a.cellXfs,t,a);if(t.v==null&&!t.bf){ct(e,513,m0(r,n,s));return}if(t.bf)ct(e,6,Xoe(t,r,n,a,s));else switch(t.t){case"d":case"n":var i=t.t=="d"?ua(Yr(t.v)):t.v;ct(e,515,Cne(r,n,i,s));break;case"b":case"e":ct(e,517,_ne(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var o=hA(a.Strings,t.v,a.revStrings);ct(e,253,hne(r,n,o,s))}else ct(e,516,pne(r,n,(t.v||"").slice(0,255),s,a));break;default:ct(e,513,m0(r,n,s))}}function jde(e,t,r){var n=ti(),a=r.SheetNames[e],s=r.Sheets[a]||{},i=(r||{}).Workbook||{},o=(i.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,d,f="",h=[],m=ur(s["!ref"]||"A1"),p=u?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}ct(n,2057,sA(r,16,t)),ct(n,13,Zi(1)),ct(n,12,Zi(100)),ct(n,15,Ss(!0)),ct(n,17,Ss(!1)),ct(n,16,f0(.001)),ct(n,95,Ss(!0)),ct(n,42,Ss(!1)),ct(n,43,Ss(!1)),ct(n,130,Zi(1)),ct(n,128,Ane()),ct(n,131,Ss(!1)),ct(n,132,Ss(!1)),u&&Nde(n,s["!cols"]),ct(n,512,yne(m,t)),u&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=Rn(g);for(var x=m.s.c;x<=m.e.c;++x){g===m.s.r&&(h[x]=ln(x)),d=h[x]+f;var v=c?(s[g]||[])[x]:s[d];v&&(Sde(n,v,g,x,t),u&&v.l&&s["!links"].push([d,v.l]))}}var y=o.CodeName||o.name||a;return u&&ct(n,574,lne((i.Views||[])[0])),u&&(s["!merges"]||[]).length&&ct(n,229,Bne(s["!merges"])),u&&kde(n,s),ct(n,442,S9(y)),u&&bde(n,s),ct(n,10),n.end()}function Ade(e,t,r){var n=ti(),a=(e||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(ct(n,2057,sA(e,5,r)),r.bookType=="xla"&&ct(n,135),ct(n,225,o?Zi(1200):null),ct(n,193,_re(2)),c&&ct(n,191),c&&ct(n,192),ct(n,226),ct(n,92,Yre("SheetJS",r)),ct(n,66,Zi(o?1200:1252)),o&&ct(n,353,Zi(0)),o&&ct(n,448),ct(n,317,rae(e.SheetNames.length)),o&&e.vbaraw&&ct(n,211),o&&e.vbaraw){var u=i.CodeName||"ThisWorkbook";ct(n,442,S9(u))}ct(n,156,Zi(17)),ct(n,25,Ss(!1)),ct(n,18,Ss(!1)),ct(n,19,Zi(0)),o&&ct(n,431,Ss(!1)),o&&ct(n,444,Zi(0)),ct(n,61,ine()),ct(n,64,Ss(!1)),ct(n,141,Zi(0)),ct(n,34,Ss(aue(e)=="true")),ct(n,14,Ss(!0)),o&&ct(n,439,Ss(!1)),ct(n,218,Zi(0)),vde(n,e,r),yde(n,e.SSF,r),wde(n,r),o&&ct(n,352,Ss(!1));var d=n.end(),f=ti();o&&ct(f,140,Yne()),o&&r.Strings&&fde(f,252,ene(r.Strings)),ct(f,10);var h=f.end(),m=ti(),p=0,g=0;for(g=0;g<e.SheetNames.length;++g)p+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var x=d.length+p+h.length;for(g=0;g<e.SheetNames.length;++g){var v=s[g]||{};ct(m,133,Jre({pos:x,hs:v.Hidden||0,dt:0,name:e.SheetNames[g]},r)),x+=t[g].length}var y=m.end();if(p!=y.length)throw new Error("BS8 "+p+" != "+y.length);var b=[];return d.length&&b.push(d),y.length&&b.push(y),h.length&&b.push(h),ja(b)}function _de(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Xr(Mt)),e&&e.SSF&&(Mh(),v2(e.SSF),r.revssf=b2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,vA(r),r.cellXfs=[],rd(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=jde(a,r,e);return n.unshift(Ade(e,n,r)),ja(n)}function xB(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=ri(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return _de(e,t);case 4:case 3:case 2:return xde(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function $P(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,c=dte(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(i=0;i<c.length;++i){var g=c[i].trim(),x=g.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(x!="<td"&&x!="<th")){var v=g.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var y=v[o].trim();if(y.match(/<t[dh]/i)){for(var b=y,N=0;b.charAt(0)=="<"&&(N=b.indexOf(">"))>-1;)b=b.slice(N+1);for(var S=0;S<p.length;++S){var A=p[S];A.s.c==d&&A.s.r<u&&u<=A.e.r&&(d=A.e.c+1,S=-1)}var j=Ut(y.slice(0,y.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&p.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var C=j.t||j["data-t"]||"";if(!b.length){d+=h;continue}if(b=UR(b),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!b.length){d+=h;continue}var E={t:"s",v:b};r.raw||!b.trim().length||C=="s"||(b==="TRUE"?E={t:"b",v:!0}:b==="FALSE"?E={t:"b",v:!1}:isNaN(zo(b))?isNaN(dh(b).getDate())||(E={t:"d",v:Yr(b)},r.cellDates||(E={t:"n",v:ua(E.v)}),E.z=r.dateNF||Mt[14]):E={t:"n",v:zo(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=E):n[Bt({r:u,c:d})]=E,d+=h}}}}return n["!ref"]=Xt(m),p.length&&(n["!merges"]=p),n}function Ede(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=Bt({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||qj(f.w||(gc(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(lt("td",h,m))}}var p="<tr>";return p+s.join("")+"</tr>"}var Cde='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Tde="</body></html>";function Pde(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return td($P(r[0],t),t);var n=wA();return r.forEach(function(a,s){kA(n,$P(a,t),"Sheet"+(s+1))}),n}function Ode(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function vB(e,t){var r=t||{},n=r.header!=null?r.header:Cde,a=r.footer!=null?r.footer:Tde,s=[n],i=ri(e["!ref"]);r.dense=Array.isArray(e),s.push(Ode(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(Ede(e,i,o,r));return s.push("</table>"+a),s.join("")}function yB(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?cn(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=ri(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,g=0,x=0,v=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&g<c;++p){var N=o[p];if(WP(N)){if(n.display)continue;m[g]={hidden:!0}}var S=N.children;for(x=v=0;x<S.length;++x){var A=S[x];if(!(n.display&&WP(A))){var j=A.hasAttribute("data-v")?A.getAttribute("data-v"):A.hasAttribute("v")?A.getAttribute("v"):UR(A.innerHTML),C=A.getAttribute("data-z")||A.getAttribute("z");for(h=0;h<f.length;++h){var E=f[h];E.s.c==v+s&&E.s.r<g+a&&g+a<=E.e.r&&(v=E.e.c+1-s,h=-1)}b=+A.getAttribute("colspan")||1,((y=+A.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:g+a,c:v+s},e:{r:g+a+(y||1)-1,c:v+s+(b||1)-1}});var F={t:"s",v:j},O=A.getAttribute("data-t")||A.getAttribute("t")||"";j!=null&&(j.length==0?F.t=O||"z":n.raw||j.trim().length==0||O=="s"||(j==="TRUE"?F={t:"b",v:!0}:j==="FALSE"?F={t:"b",v:!1}:isNaN(zo(j))?isNaN(dh(j).getDate())||(F={t:"d",v:Yr(j)},n.cellDates||(F={t:"n",v:ua(F.v)}),F.z=n.dateNF||Mt[14]):F={t:"n",v:zo(j)})),F.z===void 0&&C!=null&&(F.z=C);var T="",H=A.getElementsByTagName("A");if(H&&H.length)for(var K=0;K<H.length&&!(H[K].hasAttribute("href")&&(T=H[K].getAttribute("href"),T.charAt(0)!="#"));++K);T&&T.charAt(0)!="#"&&(F.l={Target:T}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][v+s]=F):e[Bt({c:v+s,r:g+a})]=F,u.e.c<v+s&&(u.e.c=v+s),v+=b}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Xt(u),g>=c&&(e["!fullref"]=Xt((u.e.r=o.length-p+g-1+a,u))),e}function bB(e,t){var r=t||{},n=r.dense?[]:{};return yB(n,e,t)}function Lde(e,t){return td(bB(e,t),t)}function WP(e){var t="",r=Fde(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Fde(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Dde(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=cr(t.replace(/<[^>]*>/g,""));return[r]}var HP={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function wB(e,t){var r=t||{},n=Gj(e),a=[],s,i,o={name:""},c="",u=0,d,f,h={},m=[],p=r.dense?[]:{},g,x,v={value:""},y="",b=0,N=[],S=-1,A=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,E={},F=[],O={},T=0,H=0,K=[],se=1,M=1,B=[],Y={Names:[]},z={},Q=["",""],de=[],L={},R="",U=0,I=!1,X=!1,V=0;for(ug.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=ug.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?p["!ref"]=Xt(j):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(p["!fullref"]=p["!ref"],j.e.r=r.sheetRows-1,p["!ref"]=Xt(j)),F.length&&(p["!merges"]=F),K.length&&(p["!rows"]=K),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=p,X=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=Ut(g[0],!1),S=A=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,p=r.dense?[]:{},F=[],K=[],X=!0);break;case"table-row-group":g[1]==="/"?--C:++C;break;case"table-row":case"":if(g[1]==="/"){S+=se,se=1;break}if(f=Ut(g[0],!1),f.?S=f.-1:S==-1&&(S=0),se=+f["number-rows-repeated"]||1,se<10)for(V=0;V<se;++V)C>0&&(K[S+V]={level:C});A=-1;break;case"covered-table-cell":g[1]!=="/"&&++A,r.sheetStubs&&(r.dense?(p[S]||(p[S]=[]),p[S][A]={t:"z"}):p[Bt({r:S,c:A})]={t:"z"}),y="",N=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++A,v=Ut(g[0],!1),M=parseInt(v["number-columns-repeated"]||"1",10),x={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(x.f=BP(cr(v.formula))),(v.||v["value-type"])=="string"&&(x.t="s",x.v=cr(v["string-value"]||""),r.dense?(p[S]||(p[S]=[]),p[S][A]=x):p[Bt({r:S,c:A})]=x),A+=M-1;else if(g[1]!=="/"){++A,y="",b=0,N=[],M=1;var ee=se?S+se-1:S;if(A>j.e.c&&(j.e.c=A),A<j.s.c&&(j.s.c=A),S<j.s.r&&(j.s.r=S),ee>j.e.r&&(j.e.r=ee),v=Ut(g[0],!1),de=[],L={},x={t:v.||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=cr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(T=parseInt(v["number-matrix-rows-spanned"],10)||0,H=parseInt(v["number-matrix-columns-spanned"],10)||0,O={s:{r:S,c:A},e:{r:S+T-1,c:A+H-1}},x.F=Xt(O),B.push([O,x.F])),v.formula)x.f=BP(v.formula);else for(V=0;V<B.length;++V)S>=B[V][0].s.r&&S<=B[V][0].e.r&&A>=B[V][0].s.c&&A<=B[V][0].e.c&&(x.F=B[V][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(T=parseInt(v["number-rows-spanned"],10)||0,H=parseInt(v["number-columns-spanned"],10)||0,O={s:{r:S,c:A},e:{r:S+T-1,c:A+H-1}},F.push(O)),v["number-columns-repeated"]&&(M=parseInt(v["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=qr(v["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(v.value);break;case"percentage":x.t="n",x.v=parseFloat(v.value);break;case"currency":x.t="n",x.v=parseFloat(v.value);break;case"date":x.t="d",x.v=Yr(v["date-value"]),r.cellDates||(x.t="n",x.v=ua(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=lte(v["time-value"])/86400,r.cellDates&&(x.t="d",x.v=w2(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(v.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",v["string-value"]!=null&&(y=cr(v["string-value"]),N=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(I=!1,x.t==="s"&&(x.v=y||"",N.length&&(x.R=N),I=b==0),z.Target&&(x.l=z),de.length>0&&(x.c=de,de=[]),y&&r.cellText!==!1&&(x.w=y),I&&(x.t="z",delete x.v),(!I||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var G=0;G<se;++G){if(M=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(p[S+G]||(p[S+G]=[]),p[S+G][A]=G==0?x:Xr(x);--M>0;)p[S+G][A+M]=Xr(x);else for(p[Bt({r:S+G,c:A})]=x;--M>0;)p[Bt({r:S+G,c:A+M})]=Xr(x);j.e.c<=A&&(j.e.c=A)}M=parseInt(v["number-columns-repeated"]||"1",10),A+=M-1,M=0,x={},y="",N=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s;L.t=y,N.length&&(L.R=N),L.a=R,de.push(L)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);R="",U=0,y="",b=0,N=[];break;case"creator":g[1]==="/"?R=n.slice(U,g.index):U=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);y="",b=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(E[o.name]=c,(s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(c="",o=Ut(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Ut(g[0],!1),c+=HP[g[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Ut(g[0],!1),c+=HP[g[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":i=Ut(g[0],!1),Q=gk(i["cell-range-address"]);var ue={Name:i.name,Ref:Q[0]+"!"+Q[1]};X&&(ue.Sheet=m.length),Y.Names.push(ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!v||!v["string-value"])){var ve=Dde(n.slice(b,g.index));y=(y.length>0?y+`
`:"")+ve[0]}else Ut(g[0],!1),b=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Q=gk(Ut(g[0])["target-range-address"]),h[Q[0]]["!autofilter"]={ref:Q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=Ut(g[0],!1),!z.href)break;z.Target=cr(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(Q=gk(z.Target.slice(1)),z.Target="#"+Q[0]+"!"+Q[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var q={Sheets:h,SheetNames:m,Workbook:Y};return r.bookSheets&&delete q.Sheets,q}function VP(e,t){t=t||{},Xi(e,"META-INF/manifest.xml")&&lre(qn(e,"META-INF/manifest.xml"),t);var r=gi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=wB(Pr(r),t);return Xi(e,"meta.xml")&&(n.Props=d9(qn(e,"meta.xml"))),n}function qP(e,t){return wB(e,t)}var Ide=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+cg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zn+t}}(),GP=function(){var e=function(s){return Ar(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,i,o){var c=[];c.push('      <table:table table:name="'+Ar(i.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=ri(s["!ref"]||"A1"),h=s["!merges"]||[],m=0,p=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",x=s["!rows"]||[];for(u=0;u<f.s.r;++u)g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var v=!1,y={},b="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(v=!0),y["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,y["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(v){c.push(r);continue}var N=Bt({r:u,c:d}),S=p?(s[u]||[])[d]:s[N];if(S&&S.f&&(y["table:formula"]=Ar(rle(S.f)),S.F&&S.F.slice(0,N.length)==N)){var A=ri(S.F);y["table:number-matrix-columns-spanned"]=A.e.c-A.s.c+1,y["table:number-matrix-rows-spanned"]=A.e.r-A.s.r+1}if(!S){c.push(t);continue}switch(S.t){case"b":b=S.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=S.v?"true":"false";break;case"n":b=S.w||String(S.v||0),y["office:value-type"]="float",y["office:value"]=S.v||0;break;case"s":case"str":b=S.v==null?"":S.v,y["office:value-type"]="string";break;case"d":b=S.w||Yr(S.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Yr(S.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var j=e(b);if(S.l&&S.l.Target){var C=S.l.Target;C=C.charAt(0)=="#"?"#"+nle(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),j=lt("text:a",j,{"xlink:href":C.replace(/&/g,"&amp;")})}c.push("          "+lt("table:table-cell",lt("text:p",j,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Mu(f),f.ods=o;var h=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var c=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,o){var c=[zn],u=cg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=cg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(u9().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=i.SheetNames.length;++f)c.push(n(i.Sheets[i.SheetNames[f]],i,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function kB(e,t){if(t.bookType=="fods")return GP(e,t);var r=Wj(),n="",a=[],s=[];return n="mimetype",Zt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Zt(r,n,GP(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Zt(r,n,Ide(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Zt(r,n,zn+u9()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Zt(r,n,dre(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Zt(r,n,cre(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function p0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function MN(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Pr(ed(e))}function Mde(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):pi(ml(e))}function Rde(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Bu(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function KP(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Bde(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function zde(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function xg(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Nr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Nn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function dr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=xg(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=xg(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Fa(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Nr(n*8+a.type)),a.type==2&&t.push(Nr(a.data.length)),t.push(a.data))})}),Bu(t)}function gA(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Vi(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=xg(e,n),s=dr(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:Nn(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=dr(o.data),u=Nn(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=Nn(s[3][0].data)>>>0>0),r.push(i)}return r}function cf(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Nr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Nr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:Nr(i.data.length)}],n[2].push({data:Fa(i.meta),type:2})});var s=Fa(n);t.push(Nr(s.length)),t.push(s),a.forEach(function(i){return t.push(i)})}),Bu(t)}function Ude(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=xg(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Bu(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Bu(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function qi(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Ude(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Bu(t)}function uf(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Nr(n),i=s.length;t.push(s),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,r+=n}return Bu(t)}function $de(e,t,r,n){var a=p0(e),s=a.getUint32(4,!0),i=(n>1?12:8)+KP(s&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=KP(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Wde(e,t,r){var n=p0(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=Bde(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function vk(e,t){var r=new Uint8Array(32),n=p0(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,zde(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function yk(e,t){var r=new Uint8Array(32),n=p0(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Hde(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return $de(e,t,r,e[0]);case 5:return Wde(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function es(e){var t=dr(e);return xg(t[1][0].data)}function YP(e,t){var r=dr(t.data),n=Nn(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=dr(i.data),c=Nn(o[1][0].data)>>>0;switch(n){case 1:s[c]=MN(o[3][0].data);break;case 8:{var u=e[es(o[9][0].data)][0],d=dr(u.data),f=e[es(d[1][0].data)][0],h=Nn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=dr(f.data);s[c]=m[3].map(function(p){return MN(p.data)}).join("")}break}}),s}function Vde(e,t){var r,n,a,s,i,o,c,u,d,f,h,m,p,g,x=dr(e),v=Nn(x[1][0].data)>>>0,y=Nn(x[2][0].data)>>>0,b=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&Nn(x[8][0].data)>0||!1,N,S;if((s=(a=x[7])==null?void 0:a[0])!=null&&s.data&&t!=0)N=(o=(i=x[7])==null?void 0:i[0])==null?void 0:o.data,S=(u=(c=x[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=x[4])==null?void 0:d[0])!=null&&f.data&&t!=1)N=(m=(h=x[4])==null?void 0:h[0])==null?void 0:m.data,S=(g=(p=x[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var A=b?4:1,j=p0(N),C=[],E=0;E<N.length/2;++E){var F=j.getUint16(E*2,!0);F<65535&&C.push([E,F])}if(C.length!=y)throw"Expected ".concat(y," cells, found ").concat(C.length);var O=[];for(E=0;E<C.length-1;++E)O[C[E][0]]=S.subarray(C[E][1]*A,C[E+1][1]*A);return C.length>=1&&(O[C[C.length-1][0]]=S.subarray(C[C.length-1][1]*A)),{R:v,cells:O}}function qde(e,t){var r,n=dr(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Nn(n[7][0].data)>>>0>0?1:0:-1,s=gA(n[5],function(i){return Vde(i,a)});return{nrows:Nn(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(c,u){if(i[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));i[o.R][u]=c}),i},[])}}function Gde(e,t,r){var n,a=dr(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Nn(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Nn(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Xt(s);var i=dr(a[4][0].data),o=YP(e,e[es(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?YP(e,e[es(i[17][0].data)][0]):[],u=dr(i[3][0].data),d=0;u[1].forEach(function(f){var h=dr(f.data),m=e[es(h[2][0].data)][0],p=Nn(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var g=qde(e,m);g.data.forEach(function(x,v){x.forEach(function(y,b){var N=Bt({r:d+v,c:b}),S=Hde(y,o,c);S&&(r[N]=S)})}),d+=g.nrows})}function Kde(e,t){var r=dr(t.data),n={"!ref":"A1"},a=e[es(r[2][0].data)],s=Nn(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Gde(e,a[0],n),n}function Yde(e,t){var r,n=dr(t.data),a={name:(r=n[1])!=null&&r[0]?MN(n[1][0].data):"",sheets:[]},s=gA(n[2],es);return s.forEach(function(i){e[i].forEach(function(o){var c=Nn(o.meta[1][0].data);c==6e3&&a.sheets.push(Kde(e,o))})}),a}function Xde(e,t){var r=wA(),n=dr(t.data),a=gA(n[1],es);if(a.forEach(function(s){e[s].forEach(function(i){var o=Nn(i.meta[1][0].data);if(o==2){var c=Yde(e,i);c.sheets.forEach(function(u,d){kA(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function bk(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=qi(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Vi(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Nn(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(c){s[c].forEach(function(u){var d=Nn(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Xde(s,o)}function Zde(e,t,r){var n,a,s,i;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((i=(s=e[8])==null?void 0:s[0])==null?void 0:i.data)&&Nn(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=p0(e[7][0].data),d=0,f=[],h=p0(e[4][0].data),m=0,p=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),h.setUint16(g*2,m,!0);var x,v;switch(typeof t[g]){case"string":x=vk({t:"s",v:t[g]},r),v=yk({t:"s",v:t[g]},r);break;case"number":x=vk({t:"n",v:t[g]},r),v=yk({t:"n",v:t[g]},r);break;case"boolean":x=vk({t:"b",v:t[g]},r),v=yk({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(x),d+=x.length,p.push(v),m+=v.length,++c}for(e[2][0].data=Nr(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=Bu(f),e[3][0].data=Bu(p),c}function Jde(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ri(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Xt(n)));var s=Vy(r,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(R){return R.forEach(function(U){typeof U=="string"&&i.push(U)})});var o={},c=[],u=Tt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(R,U){return[R,u.FullPaths[U]]}).forEach(function(R){var U=R[0],I=R[1];if(U.type==2&&U.name.match(/\.iwa/)){var X=U.content,V=qi(X),ee=Vi(V);ee.forEach(function(G){c.push(G.id),o[G.id]={deps:[],location:I,type:Nn(G.messages[0].meta[1][0].data)}})}}),c.sort(function(R,U){return R-U});var d=c.filter(function(R){return R>1}).map(function(R){return[R,Nr(R)]});u.FileIndex.map(function(R,U){return[R,u.FullPaths[U]]}).forEach(function(R){var U=R[0];if(R[1],!!U.name.match(/\.iwa/)){var I=Vi(qi(U.content));I.forEach(function(X){X.messages.forEach(function(V){d.forEach(function(ee){X.messages.some(function(G){return Nn(G.meta[1][0].data)!=11006&&Rde(G.data,ee[1])})&&o[ee[0]].deps.push(X.id)})})})}});for(var f=Tt.find(u,o[1].location),h=Vi(qi(f.content)),m,p=0;p<h.length;++p){var g=h[p];g.id==1&&(m=g)}var x=es(dr(m.messages[0].data)[1][0].data);for(f=Tt.find(u,o[x].location),h=Vi(qi(f.content)),p=0;p<h.length;++p)g=h[p],g.id==x&&(m=g);for(x=es(dr(m.messages[0].data)[2][0].data),f=Tt.find(u,o[x].location),h=Vi(qi(f.content)),p=0;p<h.length;++p)g=h[p],g.id==x&&(m=g);for(x=es(dr(m.messages[0].data)[2][0].data),f=Tt.find(u,o[x].location),h=Vi(qi(f.content)),p=0;p<h.length;++p)g=h[p],g.id==x&&(m=g);var v=dr(m.messages[0].data);{v[6][0].data=Nr(n.e.r+1),v[7][0].data=Nr(n.e.c+1);var y=es(v[46][0].data),b=Tt.find(u,o[y].location),N=Vi(qi(b.content));{for(var S=0;S<N.length&&N[S].id!=y;++S);if(N[S].id!=y)throw"Bad ColumnRowUIDMapArchive";var A=dr(N[S].messages[0].data);A[1]=[],A[2]=[],A[3]=[];for(var j=0;j<=n.e.c;++j){var C=[];C[1]=C[2]=[{type:0,data:Nr(j+420690)}],A[1].push({type:2,data:Fa(C)}),A[2].push({type:0,data:Nr(j)}),A[3].push({type:0,data:Nr(j)})}A[4]=[],A[5]=[],A[6]=[];for(var E=0;E<=n.e.r;++E)C=[],C[1]=C[2]=[{type:0,data:Nr(E+726270)}],A[4].push({type:2,data:Fa(C)}),A[5].push({type:0,data:Nr(E)}),A[6].push({type:0,data:Nr(E)});N[S].messages[0].data=Fa(A)}b.content=uf(cf(N)),b.size=b.content.length,delete v[46];var F=dr(v[4][0].data);{F[7][0].data=Nr(n.e.r+1);var O=dr(F[1][0].data),T=es(O[2][0].data);b=Tt.find(u,o[T].location),N=Vi(qi(b.content));{if(N[0].id!=T)throw"Bad HeaderStorageBucket";var H=dr(N[0].messages[0].data);for(E=0;E<s.length;++E){var K=dr(H[2][0].data);K[1][0].data=Nr(E),K[4][0].data=Nr(s[E].length),H[2][E]={type:H[2][0].type,data:Fa(K)}}N[0].messages[0].data=Fa(H)}b.content=uf(cf(N)),b.size=b.content.length;var se=es(F[2][0].data);b=Tt.find(u,o[se].location),N=Vi(qi(b.content));{if(N[0].id!=se)throw"Bad HeaderStorageBucket";for(H=dr(N[0].messages[0].data),j=0;j<=n.e.c;++j)K=dr(H[2][0].data),K[1][0].data=Nr(j),K[4][0].data=Nr(n.e.r+1),H[2][j]={type:H[2][0].type,data:Fa(K)};N[0].messages[0].data=Fa(H)}b.content=uf(cf(N)),b.size=b.content.length;var M=es(F[4][0].data);(function(){for(var R=Tt.find(u,o[M].location),U=Vi(qi(R.content)),I,X=0;X<U.length;++X){var V=U[X];V.id==M&&(I=V)}var ee=dr(I.messages[0].data);{ee[3]=[];var G=[];i.forEach(function(q,Me){G[1]=[{type:0,data:Nr(Me)}],G[2]=[{type:0,data:Nr(1)}],G[3]=[{type:2,data:Mde(q)}],ee[3].push({type:2,data:Fa(G)})})}I.messages[0].data=Fa(ee);var ue=cf(U),ve=uf(ue);R.content=ve,R.size=R.content.length})();var B=dr(F[3][0].data);{var Y=B[1][0];delete B[2];var z=dr(Y.data);{var Q=es(z[2][0].data);(function(){for(var R=Tt.find(u,o[Q].location),U=Vi(qi(R.content)),I,X=0;X<U.length;++X){var V=U[X];V.id==Q&&(I=V)}var ee=dr(I.messages[0].data);{delete ee[6],delete B[7];var G=new Uint8Array(ee[5][0].data);ee[5]=[];for(var ue=0,ve=0;ve<=n.e.r;++ve){var q=dr(G);ue+=Zde(q,s[ve],i),q[1][0].data=Nr(ve),ee[5].push({data:Fa(q),type:2})}ee[1]=[{type:0,data:Nr(n.e.c+1)}],ee[2]=[{type:0,data:Nr(n.e.r+1)}],ee[3]=[{type:0,data:Nr(ue)}],ee[4]=[{type:0,data:Nr(n.e.r+1)}]}I.messages[0].data=Fa(ee);var Me=cf(U),He=uf(Me);R.content=He,R.size=R.content.length})()}Y.data=Fa(z)}F[3][0].data=Fa(B)}v[4][0].data=Fa(F)}m.messages[0].data=Fa(v);var de=cf(h),L=uf(de);return f.content=L,f.size=f.content.length,u}function NB(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function xA(e){NB([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function vA(e){NB([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Qde(e){return Qt.WS.indexOf(e)>-1?"sheet":e==Qt.CS?"chart":e==Qt.DS?"dialog":e==Qt.MS?"macro":e&&e.length?e:"sheet"}function e0e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Qde(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function t0e(e,t,r,n,a,s,i,o,c,u,d,f){try{s[n]=bp(gi(e,r,!0),t);var h=qn(e,t),m;switch(o){case"sheet":m=Nue(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=Sue(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var p=np(m["!drawel"].Target,t),g=dg(p),x=uie(gi(e,p,!0),bp(gi(e,g,!0),p)),v=np(x,p),y=dg(v);m=Zce(gi(e,v,!0),v,c,bp(gi(e,y,!0),v),u,m);break;case"macro":m=jue(h,t,a,c,s[n],u,d,f);break;case"dialog":m=Aue(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=m;var b=[];s&&s[n]&&Sn(s[n]).forEach(function(N){var S="";if(s[n][N].Type==Qt.CMNT){S=np(s[n][N].Target,t);var A=Tue(qn(e,S,!0),S,c);if(!A||!A.length)return;FP(m,A,!1)}s[n][N].Type==Qt.TCMNT&&(S=np(s[n][N].Target,t),b=b.concat(fie(qn(e,S,!0),c)))}),b&&b.length&&FP(m,b,!0,c.people||[])}catch(N){if(c.WTF)throw N}}function zi(e){return e.charAt(0)=="/"?e.slice(1):e}function r0e(e,t){if(Mh(),t=t||{},xA(t),Xi(e,"META-INF/manifest.xml")||Xi(e,"objectdata.xml"))return VP(e,t);if(Xi(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof bk<"u"){if(e.FileIndex)return bk(e);var r=Tt.utils.cfb_new();return tP(e).forEach(function(K){Zt(r,K,hte(e,K))}),bk(r)}throw new Error("Unsupported NUMBERS file")}if(!Xi(e,"[Content_Types].xml"))throw Xi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Xi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=tP(e),a=ire(gi(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",qn(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!qn(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(wp=[],a.sst)try{wp=Cue(qn(e,zi(a.sst)),a.sst,t)}catch(K){if(t.WTF)throw K}t.cellStyles&&a.themes.length&&(c=Eue(gi(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=_ue(qn(e,zi(a.style)),a.style,c,t))}a.links.map(function(K){try{var se=bp(gi(e,dg(zi(K))),K);return Oue(qn(e,zi(K)),se,K,t)}catch{}});var d=kue(qn(e,zi(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=qn(e,zi(a.coreprops[0]),!0),h&&(f=d9(h)),a.extprops.length!==0&&(h=qn(e,zi(a.extprops[0]),!0),h&&hre(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=gi(e,zi(a.custprops[0]),!0),h&&(m=pre(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(se){return se.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof i<"u"&&(p.SheetNames=i),t.bookSheets?p.SheetNames:t.bookProps))return p;i={};var g={};t.bookDeps&&a.calcchain&&(g=Pue(qn(e,zi(a.calcchain)),a.calcchain));var x=0,v={},y,b;{var N=d.Sheets;f.Worksheets=N.length,f.SheetNames=[];for(var S=0;S!=N.length;++S)f.SheetNames[S]=N[S].name}var A=s?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");Xi(e,C)||(C="xl/_rels/workbook."+A+".rels");var E=bp(gi(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Lue(qn(e,zi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=mie(qn(e,zi(a.people[0])),t)),E&&(E=e0e(E,d.Sheets));var F=qn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var O="sheet";if(E&&E[x]?(y="xl/"+E[x][1].replace(/[\/]?xl\//,""),Xi(e,y)||(y=E[x][1]),Xi(e,y)||(y=C.replace(/_rels\/.*$/,"")+E[x][1]),O=E[x][2]):(y="xl/worksheets/sheet"+(x+1-F)+"."+A,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==x&&(T=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==f.SheetNames[x].toLowerCase()&&(T=1);if(!T)continue e}}t0e(e,y,b,f.SheetNames[x],x,v,i,O,t,d,c,u)}return p={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:i,SheetNames:f.SheetNames,Strings:wp,Styles:u,Themes:c,SSF:Xr(Mt)},t&&t.bookFiles&&(e.files?(p.keys=n,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(K,se){K=K.replace(/^Root Entry[\/]/,""),p.keys.push(K),p.files[K]=e.FileIndex[se]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=qn(e,zi(a.vba[0]),!0):a.defaults&&a.defaults.bin===kie&&(p.vbaraw=qn(e,"xl/vbaProject.bin",!0))),p}function n0e(e,t){var r=t||{},n="Workbook",a=Tt.find(e,n);try{if(n="/!DataSpaces/Version",a=Tt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Lae(a.content),n="/!DataSpaces/DataSpaceMap",a=Tt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Dae(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Tt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Iae(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Tt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Rae(a.content)}catch{}if(n="/EncryptionInfo",a=Tt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Bae(a.content);if(n="/EncryptedPackage",a=Tt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function a0e(e,t){return t.bookType=="ods"?kB(e,t):t.bookType=="numbers"?Jde(e,t):t.bookType=="xlsb"?s0e(e,t):i0e(e,t)}function s0e(e,t){Lf=1024,e&&!e.SSF&&(e.SSF=Xr(Mt)),e&&e.SSF&&(Mh(),v2(e.SSF),t.revssf=b2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,kp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=X9.indexOf(t.bookType)>-1,a=nA();vA(t=t||{});var s=Wj(),i="",o=0;if(t.cellXfs=[],rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Zt(s,i,f9(e.Props,t)),a.coreprops.push(i),Sr(t.rels,2,i,Qt.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Zt(s,i,p9(e.Props)),a.extprops.push(i),Sr(t.rels,3,i,Qt.EXT_PROPS),e.Custprops!==e.Props&&Sn(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Zt(s,i,g9(e.Custprops)),a.custprops.push(i),Sr(t.rels,4,i,Qt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,Zt(s,i,Due(o-1,i,t,e,d)),a.sheets.push(i),Sr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Qt.WS[0])}if(f){var m=f["!comments"],p=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Zt(s,g,Rue(m,g)),a.comments.push(g),Sr(d,-1,"../comments"+o+"."+r,Qt.CMNT),p=!0),f["!legacy"]&&p&&Zt(s,"xl/drawings/vmlDrawing"+o+".vml",K9(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Zt(s,dg(i),Yf(d))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Zt(s,i,Mue(t.Strings,i,t)),a.strs.push(i),Sr(t.wbrels,-1,"sharedStrings."+r,Qt.SST)),i="xl/workbook."+r,Zt(s,i,Fue(e,i)),a.workbooks.push(i),Sr(t.rels,1,i,Qt.WB),i="xl/theme/theme1.xml",Zt(s,i,cA(e.Themes,t)),a.themes.push(i),Sr(t.wbrels,-1,"theme/theme1.xml",Qt.THEME),i="xl/styles."+r,Zt(s,i,Iue(e,i,t)),a.styles.push(i),Sr(t.wbrels,-1,"styles."+r,Qt.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Zt(s,i,e.vbaraw),a.vba.push(i),Sr(t.wbrels,-1,"vbaProject.bin",Qt.VBA)),i="xl/metadata."+r,Zt(s,i,Bue(i)),a.metadata.push(i),Sr(t.wbrels,-1,"metadata."+r,Qt.XLMETA),Zt(s,"[Content_Types].xml",c9(a,t)),Zt(s,"_rels/.rels",Yf(t.rels)),Zt(s,"xl/_rels/workbook."+r+".rels",Yf(t.wbrels)),delete t.revssf,delete t.ssf,s}function i0e(e,t){Lf=1024,e&&!e.SSF&&(e.SSF=Xr(Mt)),e&&e.SSF&&(Mh(),v2(e.SSF),t.revssf=b2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,kp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=X9.indexOf(t.bookType)>-1,a=nA();vA(t=t||{});var s=Wj(),i="",o=0;if(t.cellXfs=[],rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Zt(s,i,f9(e.Props,t)),a.coreprops.push(i),Sr(t.rels,2,i,Qt.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Zt(s,i,p9(e.Props)),a.extprops.push(i),Sr(t.rels,3,i,Qt.EXT_PROPS),e.Custprops!==e.Props&&Sn(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Zt(s,i,g9(e.Custprops)),a.custprops.push(i),Sr(t.rels,4,i,Qt.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,Zt(s,i,oB(o-1,t,e,f)),a.sheets.push(i),Sr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Qt.WS[0])}if(h){var p=h["!comments"],g=!1,x="";if(p&&p.length>0){var v=!1;p.forEach(function(y){y[1].forEach(function(b){b.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+o+"."+r,Zt(s,x,hie(p,d,t)),a.threadedcomments.push(x),Sr(f,-1,"../threadedComments/threadedComment"+o+"."+r,Qt.TCMNT)),x="xl/comments"+o+"."+r,Zt(s,x,Y9(p)),a.comments.push(x),Sr(f,-1,"../comments"+o+"."+r,Qt.CMNT),g=!0}h["!legacy"]&&g&&Zt(s,"xl/drawings/vmlDrawing"+o+".vml",K9(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Zt(s,dg(i),Yf(f))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Zt(s,i,I9(t.Strings,t)),a.strs.push(i),Sr(t.wbrels,-1,"sharedStrings."+r,Qt.SST)),i="xl/workbook."+r,Zt(s,i,fB(e)),a.workbooks.push(i),Sr(t.rels,1,i,Qt.WB),i="xl/theme/theme1.xml",Zt(s,i,cA(e.Themes,t)),a.themes.push(i),Sr(t.wbrels,-1,"theme/theme1.xml",Qt.THEME),i="xl/styles."+r,Zt(s,i,H9(e,t)),a.styles.push(i),Sr(t.wbrels,-1,"styles."+r,Qt.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Zt(s,i,e.vbaraw),a.vba.push(i),Sr(t.wbrels,-1,"vbaProject.bin",Qt.VBA)),i="xl/metadata."+r,Zt(s,i,G9()),a.metadata.push(i),Sr(t.wbrels,-1,"metadata."+r,Qt.XLMETA),d.length>1&&(i="xl/persons/person.xml",Zt(s,i,pie(d)),a.people.push(i),Sr(t.wbrels,-1,"persons/person.xml",Qt.PEOPLE)),Zt(s,"[Content_Types].xml",c9(a,t)),Zt(s,"_rels/.rels",Yf(t.rels)),Zt(s,"xl/_rels/workbook."+r+".rels",Yf(t.wbrels)),delete t.revssf,delete t.ssf,s}function yA(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ai(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function o0e(e,t){return Tt.find(e,"EncryptedPackage")?n0e(e,t):gB(e,t)}function l0e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r=RR(n,a),r0e(r,a)}function SB(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return DN(e.slice(r),t);default:break e}return fh.to_workbook(e,t)}function c0e(e,t){var r="",n=yA(e,t);switch(t.type){case"base64":r=Ai(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=d0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Pr(r)),t.type="binary",SB(r,t)}function u0e(e,t){var r=e;return t.type=="base64"&&(r=Ai(r)),r=sg.utils.decode(1200,r.slice(2),"str"),t.type="binary",SB(r,t)}function d0e(e){return e.match(/[^\x00-\x7F]/)?ml(e):e}function wk(e,t,r,n){return n?(r.type="string",fh.to_workbook(e,r)):fh.to_workbook(t,r)}function RN(e,t){Rj();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return RN(new Uint8Array(e),(r=Xr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Zf={},r.dateNF&&(Zf.dateNF=r.dateNF),r.type||(r.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Jt?"buffer":"binary",n=ste(e),typeof Uint8Array<"u"&&!Jt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=d0e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=Xr(r),r.type="array",RN(Bj(n),r)}switch((a=yA(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return o0e(Tt.read(n,r),r);break;case 9:if(a[1]<=8)return gB(n,r);break;case 60:return DN(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return gae(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return F9.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?l0e(n,r):wk(e,n,r,s);case 239:return a[3]===60?DN(n,r):wk(e,n,r,s);case 255:if(a[1]===254)return u0e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return qd.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return qd.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return FN.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return U9.to_workbook(n,r);break;case 10:case 13:case 32:return c0e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return pae.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?FN.to_workbook(n,r):wk(e,n,r,s)}function jB(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return rx(t.file,Tt.write(e,{type:Jt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Tt.write(e,t)}function f0e(e,t){var r=Xr(t||{}),n=a0e(e,r);return h0e(n,r)}function h0e(e,t){var r={},n=Jt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Tt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(x2(a))}return t.password&&typeof encrypt_agile<"u"?jB(encrypt_agile(a,t.password),t):t.type==="file"?rx(t.file,a):t.type=="string"?Pr(a):a}function m0e(e,t){var r=t||{},n=dde(e,r);return jB(n,r)}function ol(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return ig(ml(n));case"binary":return ml(n);case"string":return e;case"file":return rx(t.file,n,"utf8");case"buffer":return Jt?Cc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ol(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function p0e(e,t){switch(t.type){case"base64":return ig(e);case"binary":return e;case"string":return e;case"file":return rx(t.file,e,"binary");case"buffer":return Jt?Cc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function nv(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?ig(r):t.type=="string"?Pr(r):r;case"file":return rx(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function AB(e,t){Rj(),oue(e);var r=Xr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=AB(e,r);return r.type="array",x2(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ol(ade(e,r),r);case"slk":case"sylk":return ol(L9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return ol(vB(e.Sheets[e.SheetNames[a]],r),r);case"txt":return p0e(_B(e.Sheets[e.SheetNames[a]],r),r);case"csv":return ol(bA(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return ol(F9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return nv(FN.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return ol(fh.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return ol(U9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return ol(D9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return ol(kB(e,r),r);case"wk1":return nv(qd.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return nv(qd.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),nv(xB(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),m0e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return f0e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function g0e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function O0(e,t,r){var n={};return n.type="file",n.file=t,g0e(n),AB(e,n)}function x0e(e,t,r,n,a,s,i,o){var c=Rn(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=i?e[r][m]:e[n[m]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(s[m]!=null){if(g==null)if(p.t=="e"&&g===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&g===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?g:gc(p,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function Vy(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=ur(d);break;case"number":c=ur(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Rn(c.s.r),h=[],m=[],p=0,g=0,x=Array.isArray(e),v=c.s.r,y=0,b={};x&&!e[v]&&(e[v]=[]);var N=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(N[y]||{}).hidden)switch(h[y]=ln(y),r=x?e[v][y]:e[h[y]+f],n){case 1:s[y]=y-c.s.c;break;case 2:s[y]=h[y];break;case 3:s[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=gc(r,null,u),g=b[i]||0,!g)b[i]=1;else{do o=i+"_"+g++;while(b[o]);b[i]=g,b[o]=1}s[y]=o}for(v=c.s.r+a;v<=c.e.r;++v)if(!(S[v]||{}).hidden){var A=x0e(e,c,v,h,n,s,x,u);(A.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=A.row)}return m.length=p,m}var XP=/"/g;function v0e(e,t,r,n,a,s,i,o){for(var c=!0,u=[],d="",f=Rn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:gc(m,null,o));for(var p=0,g=0;p!==d.length;++p)if((g=d.charCodeAt(p))===a||g===s||g===34||o.forceQuotes){d='"'+d.replace(XP,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(XP,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(i)}function bA(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ur(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=ln(p));for(var g=0,x=a.s.r;x<=a.e.r;++x)(m[x]||{}).hidden||(d=v0e(e,a,x,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?o:"")+d)));return delete n.dense,r.join("")}function _B(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=bA(e,t);return r}function y0e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ur(e["!ref"]),s="",i=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=ln(o);for(var d=a.s.r;d<=a.e.r;++d)for(s=Rn(d),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function EB(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?cn(n.origin):n.origin;i=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=ur(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,x){Sn(g).forEach(function(v){(m=h.indexOf(v))==-1&&(h[m=h.length]=v);var y=g[v],b="z",N="",S=Bt({c:o+m,r:i+x+a});u=vg(s,S),y&&typeof y=="object"&&!(y instanceof Date)?s[S]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=ua(y)),N=n.dateNF||Mt[14]):y===null&&n.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,N&&(u.z=N)):s[S]=u={t:b,v:y},N&&(u.z=N))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var p=Rn(i);if(a)for(m=0;m<h.length;++m)s[ln(m+o)+p]={t:"s",v:h[m]};return s["!ref"]=Xt(d),s}function b0e(e,t){return EB(null,e,t)}function vg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=cn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?vg(e,Bt(t)):vg(e,Bt({r:t,c:r||0}))}function w0e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function wA(){return{SheetNames:[],Sheets:{}}}function kA(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(dB(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function k0e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=w0e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function N0e(e,t){return e.z=t,e}function CB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function S0e(e,t,r){return CB(e,"#"+t,r)}function j0e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function A0e(e,t,r,n){for(var a=typeof t!="string"?t:ur(t),s=typeof t=="string"?t:Xt(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var c=vg(e,i,o);c.t="n",c.F=s,delete c.v,i==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var kn={encode_col:ln,encode_row:Rn,encode_cell:Bt,encode_range:Xt,decode_col:Zj,decode_row:Xj,split_cell:Mte,decode_cell:cn,decode_range:ri,format_cell:gc,sheet_add_aoa:r9,sheet_add_json:EB,sheet_add_dom:yB,aoa_to_sheet:Rh,json_to_sheet:b0e,table_to_sheet:bB,table_to_book:Lde,sheet_to_csv:bA,sheet_to_txt:_B,sheet_to_json:Vy,sheet_to_html:vB,sheet_to_formulae:y0e,sheet_to_row_object_array:Vy,sheet_get_cell:vg,book_new:wA,book_append_sheet:kA,book_set_sheet_visibility:k0e,cell_set_number_format:N0e,cell_set_hyperlink:CB,cell_set_internal_link:S0e,cell_add_comment:j0e,sheet_set_array_formula:A0e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const _0e="modulepreload",E0e=function(e){return"/"+e},ZP={},qy=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=E0e(c),c in ZP)return;ZP[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_0e,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function _r(e){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(e)}var os=Uint8Array,yi=Uint16Array,NA=Int32Array,A2=new os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_2=new os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),BN=new os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TB=function(e,t){for(var r=new yi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new NA(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},PB=TB(A2,2),OB=PB.b,zN=PB.r;OB[28]=258,zN[258]=28;var LB=TB(_2,0),C0e=LB.b,JP=LB.r,UN=new yi(32768);for(var Gr=0;Gr<32768;++Gr){var tu=(Gr&43690)>>1|(Gr&21845)<<1;tu=(tu&52428)>>2|(tu&13107)<<2,tu=(tu&61680)>>4|(tu&3855)<<4,UN[Gr]=((tu&65280)>>8|(tu&255)<<8)>>1}var bl=function(e,t,r){for(var n=e.length,a=0,s=new yi(t);a<n;++a)e[a]&&++s[e[a]-1];var i=new yi(t);for(a=1;a<t;++a)i[a]=i[a-1]+s[a-1]<<1;var o;if(r){o=new yi(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=i[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[UN[f]>>c]=u}else for(o=new yi(n),a=0;a<n;++a)e[a]&&(o[a]=UN[i[e[a]-1]++]>>15-e[a]);return o},zu=new os(288);for(var Gr=0;Gr<144;++Gr)zu[Gr]=8;for(var Gr=144;Gr<256;++Gr)zu[Gr]=9;for(var Gr=256;Gr<280;++Gr)zu[Gr]=7;for(var Gr=280;Gr<288;++Gr)zu[Gr]=8;var yg=new os(32);for(var Gr=0;Gr<32;++Gr)yg[Gr]=5;var T0e=bl(zu,9,0),P0e=bl(zu,9,1),O0e=bl(yg,5,0),L0e=bl(yg,5,1),kk=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},jo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Nk=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},SA=function(e){return(e+7)/8|0},FB=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new os(e.subarray(t,r))},F0e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Co=function(e,t,r){var n=new Error(t||F0e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Co),!r)throw n;return n},D0e=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new os(0);var i=!r,o=i||t.i!=2,c=t.i;i&&(r=new os(a*3));var u=function(ve){var q=r.length;if(ve>q){var Me=new os(Math.max(q*2,ve));Me.set(r),r=Me}},d=t.f||0,f=t.p||0,h=t.b||0,m=t.l,p=t.d,g=t.m,x=t.n,v=a*8;do{if(!m){d=jo(e,f,1);var y=jo(e,f+1,3);if(f+=3,y)if(y==1)m=P0e,p=L0e,g=9,x=5;else if(y==2){var A=jo(e,f,31)+257,j=jo(e,f+10,15)+4,C=A+jo(e,f+5,31)+1;f+=14;for(var E=new os(C),F=new os(19),O=0;O<j;++O)F[BN[O]]=jo(e,f+O*3,7);f+=j*3;for(var T=kk(F),H=(1<<T)-1,K=bl(F,T,1),O=0;O<C;){var se=K[jo(e,f,H)];f+=se&15;var b=se>>4;if(b<16)E[O++]=b;else{var M=0,B=0;for(b==16?(B=3+jo(e,f,3),f+=2,M=E[O-1]):b==17?(B=3+jo(e,f,7),f+=3):b==18&&(B=11+jo(e,f,127),f+=7);B--;)E[O++]=M}}var Y=E.subarray(0,A),z=E.subarray(A);g=kk(Y),x=kk(z),m=bl(Y,g,1),p=bl(z,x,1)}else Co(1);else{var b=SA(f)+4,N=e[b-4]|e[b-3]<<8,S=b+N;if(S>a){c&&Co(0);break}o&&u(h+N),r.set(e.subarray(b,S),h),t.b=h+=N,t.p=f=S*8,t.f=d;continue}if(f>v){c&&Co(0);break}}o&&u(h+131072);for(var Q=(1<<g)-1,de=(1<<x)-1,L=f;;L=f){var M=m[Nk(e,f)&Q],R=M>>4;if(f+=M&15,f>v){c&&Co(0);break}if(M||Co(2),R<256)r[h++]=R;else if(R==256){L=f,m=null;break}else{var U=R-254;if(R>264){var O=R-257,I=A2[O];U=jo(e,f,(1<<I)-1)+OB[O],f+=I}var X=p[Nk(e,f)&de],V=X>>4;X||Co(3),f+=X&15;var z=C0e[V];if(V>3){var I=_2[V];z+=Nk(e,f)&(1<<I)-1,f+=I}if(f>v){c&&Co(0);break}o&&u(h+131072);var ee=h+U;if(h<z){var G=s-z,ue=Math.min(z,ee);for(G+h<0&&Co(3);h<ue;++h)r[h]=n[G+h]}for(;h<ee;++h)r[h]=r[h-z]}}t.l=m,t.p=L,t.b=h,t.f=d,m&&(d=1,t.m=g,t.d=p,t.n=x)}while(!d);return h!=r.length&&i?FB(r,0,h):r.subarray(0,h)},Gl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},zm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Sk=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:IB,l:0};if(a==1){var i=new os(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(S,A){return S.f-A.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=a-1;)o=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var h=s[0].s,n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var m=new yi(h+1),p=$N(r[d-1],m,0);if(p>t){var n=0,g=0,x=p-t,v=1<<x;for(s.sort(function(A,j){return m[j.s]-m[A.s]||A.f-j.f});n<a;++n){var y=s[n].s;if(m[y]>t)g+=v-(1<<p-m[y]),m[y]=t;else break}for(g>>=x;g>0;){var b=s[n].s;m[b]<t?g-=1<<t-m[b]++-1:++n}for(;n>=0&&g;--n){var N=s[n].s;m[N]==t&&(--m[N],++g)}p=t}return{t:new os(m),l:p}},$N=function(e,t,r){return e.s==-1?Math.max($N(e.l,t,r+1),$N(e.r,t,r+1)):t[e.s]=r},QP=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new yi(++t),n=0,a=e[0],s=1,i=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Um=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},DB=function(e,t,r){var n=r.length,a=SA(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},e8=function(e,t,r,n,a,s,i,o,c,u,d){Gl(t,d++,r),++a[256];for(var f=Sk(a,15),h=f.t,m=f.l,p=Sk(s,15),g=p.t,x=p.l,v=QP(h),y=v.c,b=v.n,N=QP(g),S=N.c,A=N.n,j=new yi(19),C=0;C<y.length;++C)++j[y[C]&31];for(var C=0;C<S.length;++C)++j[S[C]&31];for(var E=Sk(j,7),F=E.t,O=E.l,T=19;T>4&&!F[BN[T-1]];--T);var H=u+5<<3,K=Um(a,zu)+Um(s,yg)+i,se=Um(a,h)+Um(s,g)+i+14+3*T+Um(j,F)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&H<=K&&H<=se)return DB(t,d,e.subarray(c,c+u));var M,B,Y,z;if(Gl(t,d,1+(se<K)),d+=2,se<K){M=bl(h,m,0),B=h,Y=bl(g,x,0),z=g;var Q=bl(F,O,0);Gl(t,d,b-257),Gl(t,d+5,A-1),Gl(t,d+10,T-4),d+=14;for(var C=0;C<T;++C)Gl(t,d+3*C,F[BN[C]]);d+=3*T;for(var de=[y,S],L=0;L<2;++L)for(var R=de[L],C=0;C<R.length;++C){var U=R[C]&31;Gl(t,d,Q[U]),d+=F[U],U>15&&(Gl(t,d,R[C]>>5&127),d+=R[C]>>12)}}else M=T0e,B=zu,Y=O0e,z=yg;for(var C=0;C<o;++C){var I=n[C];if(I>255){var U=I>>18&31;zm(t,d,M[U+257]),d+=B[U+257],U>7&&(Gl(t,d,I>>23&31),d+=A2[U]);var X=I&31;zm(t,d,Y[X]),d+=z[X],X>3&&(zm(t,d,I>>5&8191),d+=_2[X])}else zm(t,d,M[I]),d+=B[I]}return zm(t,d,M[256]),d+B[256]},I0e=new NA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),IB=new os(0),M0e=function(e,t,r,n,a,s){var i=s.z||e.length,o=new os(n+i+5*(1+Math.ceil(i/7e3))+a),c=o.subarray(n,o.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var f=I0e[t-1],h=f>>13,m=f&8191,p=(1<<r)-1,g=s.p||new yi(32768),x=s.h||new yi(p+1),v=Math.ceil(r/3),y=2*v,b=function(He){return(e[He]^e[He+1]<<v^e[He+2]<<y)&p},N=new NA(25e3),S=new yi(288),A=new yi(32),j=0,C=0,E=s.i||0,F=0,O=s.w||0,T=0;E+2<i;++E){var H=b(E),K=E&32767,se=x[H];if(g[K]=se,x[H]=K,O<=E){var M=i-E;if((j>7e3||F>24576)&&(M>423||!u)){d=e8(e,c,0,N,S,A,C,F,T,E-T,d),F=j=C=0,T=E;for(var B=0;B<286;++B)S[B]=0;for(var B=0;B<30;++B)A[B]=0}var Y=2,z=0,Q=m,de=K-se&32767;if(M>2&&H==b(E-de))for(var L=Math.min(h,M)-1,R=Math.min(32767,E),U=Math.min(258,M);de<=R&&--Q&&K!=se;){if(e[E+Y]==e[E+Y-de]){for(var I=0;I<U&&e[E+I]==e[E+I-de];++I);if(I>Y){if(Y=I,z=de,I>L)break;for(var X=Math.min(de,I-2),V=0,B=0;B<X;++B){var ee=E-de+B&32767,G=g[ee],ue=ee-G&32767;ue>V&&(V=ue,se=ee)}}}K=se,se=g[K],de+=K-se&32767}if(z){N[F++]=268435456|zN[Y]<<18|JP[z];var ve=zN[Y]&31,q=JP[z]&31;C+=A2[ve]+_2[q],++S[257+ve],++A[q],O=E+Y,++j}else N[F++]=e[E],++S[e[E]]}}for(E=Math.max(E,O);E<i;++E)N[F++]=e[E],++S[e[E]];d=e8(e,c,u,N,S,A,C,F,T,E-T,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=x,s.p=g,s.i=E,s.w=O)}else{for(var E=s.w||0;E<i+u;E+=65535){var Me=E+65535;Me>=i&&(c[d/8|0]=u,Me=i),d=DB(c,d+1,e.subarray(E,Me))}s.i=i}return FB(o,0,n+SA(d)+a)},MB=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},R0e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new os(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return M0e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},RB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},B0e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=MB();a.p(t.dictionary),RB(e,2,a.d())}},z0e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Co(6,"invalid zlib data"),(e[1]>>5&1)==1&&Co(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function WN(e,t){t||(t={});var r=MB();r.p(e);var n=R0e(e,t,t.dictionary?6:2,4);return B0e(n,t),RB(n,n.length-4,r.d()),n}function U0e(e,t){return D0e(e.subarray(z0e(e),-4),{i:2},t,t)}var $0e=typeof TextDecoder<"u"&&new TextDecoder,W0e=0;try{$0e.decode(IB,{stream:!0}),W0e=1}catch{}var Rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function jk(){Rt.console&&typeof Rt.console.log=="function"&&Rt.console.log.apply(Rt.console,arguments)}var Fr={log:jk,warn:function(e){Rt.console&&(typeof Rt.console.warn=="function"?Rt.console.warn.apply(Rt.console,arguments):jk.call(null,arguments))},error:function(e){Rt.console&&(typeof Rt.console.error=="function"?Rt.console.error.apply(Rt.console,arguments):jk(e))}};function Ak(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){kd(n.response,t,r)},n.onerror=function(){Fr.error("could not download file")},n.send()}function t8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function av(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var jp,HN,kd=Rt.saveAs||((typeof window>"u"?"undefined":_r(window))!=="object"||window!==Rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Rt.URL||Rt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?t8(a.href)?Ak(e,t,r):av(a,a.target="_blank"):av(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){av(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(t8(e))Ak(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){av(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:_r(s)!=="object"&&(Fr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Ak(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(Rt.HTMLElement)||Rt.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":_r(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var c=Rt.URL||Rt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function BB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _k(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Ya(r,n,a,s,t[0],7,-680876936),s=Ya(s,r,n,a,t[1],12,-389564586),a=Ya(a,s,r,n,t[2],17,606105819),n=Ya(n,a,s,r,t[3],22,-1044525330),r=Ya(r,n,a,s,t[4],7,-176418897),s=Ya(s,r,n,a,t[5],12,1200080426),a=Ya(a,s,r,n,t[6],17,-1473231341),n=Ya(n,a,s,r,t[7],22,-45705983),r=Ya(r,n,a,s,t[8],7,1770035416),s=Ya(s,r,n,a,t[9],12,-1958414417),a=Ya(a,s,r,n,t[10],17,-42063),n=Ya(n,a,s,r,t[11],22,-1990404162),r=Ya(r,n,a,s,t[12],7,1804603682),s=Ya(s,r,n,a,t[13],12,-40341101),a=Ya(a,s,r,n,t[14],17,-1502002290),r=Xa(r,n=Ya(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Xa(s,r,n,a,t[6],9,-1069501632),a=Xa(a,s,r,n,t[11],14,643717713),n=Xa(n,a,s,r,t[0],20,-373897302),r=Xa(r,n,a,s,t[5],5,-701558691),s=Xa(s,r,n,a,t[10],9,38016083),a=Xa(a,s,r,n,t[15],14,-660478335),n=Xa(n,a,s,r,t[4],20,-405537848),r=Xa(r,n,a,s,t[9],5,568446438),s=Xa(s,r,n,a,t[14],9,-1019803690),a=Xa(a,s,r,n,t[3],14,-187363961),n=Xa(n,a,s,r,t[8],20,1163531501),r=Xa(r,n,a,s,t[13],5,-1444681467),s=Xa(s,r,n,a,t[2],9,-51403784),a=Xa(a,s,r,n,t[7],14,1735328473),r=Za(r,n=Xa(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Za(s,r,n,a,t[8],11,-2022574463),a=Za(a,s,r,n,t[11],16,1839030562),n=Za(n,a,s,r,t[14],23,-35309556),r=Za(r,n,a,s,t[1],4,-1530992060),s=Za(s,r,n,a,t[4],11,1272893353),a=Za(a,s,r,n,t[7],16,-155497632),n=Za(n,a,s,r,t[10],23,-1094730640),r=Za(r,n,a,s,t[13],4,681279174),s=Za(s,r,n,a,t[0],11,-358537222),a=Za(a,s,r,n,t[3],16,-722521979),n=Za(n,a,s,r,t[6],23,76029189),r=Za(r,n,a,s,t[9],4,-640364487),s=Za(s,r,n,a,t[12],11,-421815835),a=Za(a,s,r,n,t[15],16,530742520),r=Ja(r,n=Za(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Ja(s,r,n,a,t[7],10,1126891415),a=Ja(a,s,r,n,t[14],15,-1416354905),n=Ja(n,a,s,r,t[5],21,-57434055),r=Ja(r,n,a,s,t[12],6,1700485571),s=Ja(s,r,n,a,t[3],10,-1894986606),a=Ja(a,s,r,n,t[10],15,-1051523),n=Ja(n,a,s,r,t[1],21,-2054922799),r=Ja(r,n,a,s,t[8],6,1873313359),s=Ja(s,r,n,a,t[15],10,-30611744),a=Ja(a,s,r,n,t[6],15,-1560198380),n=Ja(n,a,s,r,t[13],21,1309151649),r=Ja(r,n,a,s,t[4],6,-145523070),s=Ja(s,r,n,a,t[11],10,-1120210379),a=Ja(a,s,r,n,t[2],15,718787259),n=Ja(n,a,s,r,t[9],21,-343485551),e[0]=vu(r,e[0]),e[1]=vu(n,e[1]),e[2]=vu(a,e[2]),e[3]=vu(s,e[3])}function E2(e,t,r,n,a,s){return t=vu(vu(t,e),vu(n,s)),vu(t<<a|t>>>32-a,r)}function Ya(e,t,r,n,a,s,i){return E2(t&r|~t&n,e,t,a,s,i)}function Xa(e,t,r,n,a,s,i){return E2(t&n|r&~n,e,t,a,s,i)}function Za(e,t,r,n,a,s,i){return E2(t^r^n,e,t,a,s,i)}function Ja(e,t,r,n,a,s,i){return E2(r^(t|~n),e,t,a,s,i)}function zB(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)_k(n,H0e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(_k(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,_k(n,a),n}function H0e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}jp=Rt.atob.bind(Rt),HN=Rt.btoa.bind(Rt);var r8="0123456789abcdef".split("");function V0e(e){for(var t="",r=0;r<4;r++)t+=r8[e>>8*r+4&15]+r8[e>>8*r&15];return t}function q0e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function VN(e){return zB(e).map(q0e).join("")}var G0e=function(e){for(var t=0;t<e.length;t++)e[t]=V0e(e[t]);return e.join("")}(zB("hello"))!="5d41402abc4b2a76b9719d911017c592";function vu(e,t){if(G0e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function qN(e,t){var r,n,a,s;if(e!==r){for(var i=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+i.charCodeAt(c))%256,o[c]=o[u],o[u]=d}r=e,n=o}else o=n;var f=t.length,h=0,m=0,p="";for(c=0;c<f;c++)m=(m+(d=o[h=(h+1)%256]))%256,o[h]=o[m],o[m]=d,i=o[(o[h]+o[m])%256],p+=String.fromCharCode(t.charCodeAt(c)^i);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var n8={print:4,modify:8,copy:16,"annot-forms":32};function xf(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(n8.perm!==void 0)throw new Error("Invalid permission: "+o);a+=n8[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=VN(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=qN(this.encryptionKey,this.padding)}function vf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function a8(e){if(_r(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var i=t[r][s];try{i[0].apply(e,n)}catch(o){Rt.console&&Fr.error("jsPDF PubSub Error",o.message,o)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function bg(e){if(!(this instanceof bg))return new bg(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function UB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function uu(e,t,r,n,a){if(!(this instanceof uu))return new uu(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,UB.call(this,n,a)}function Ld(e,t,r,n,a){if(!(this instanceof Ld))return new Ld(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,UB.call(this,n,a)}function Et(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,c=16,u="S",d=null;_r(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),i=e.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=a8;var p="1.3",g=m.__private__.getPdfVersion=function(){return p};m.__private__.setPdfVersion=function(P){p=P};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var v=m.__private__.getPageFormat=function(P){return x[P]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function N(){this.saveGraphicsState(),le(new Pt(rt,0,0,-rt,0,Uc()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),u="n",b=y.ADVANCED}function S(){this.restoreGraphicsState(),u="S",b=y.COMPAT}var A=m.__private__.combineFontStyleAndFontWeight=function(P,J){if(P=="bold"&&J=="normal"||P=="bold"&&J==400||P=="normal"&&J=="italic"||P=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(P=J==400||J==="normal"?P==="italic"?"italic":"normal":J!=700&&J!=="bold"||P!=="normal"?(J==700?"bold":J)+""+P:"bold"),P};m.advancedAPI=function(P){var J=b===y.COMPAT;return J&&N.call(this),typeof P!="function"||(P(this),J&&S.call(this)),this},m.compatAPI=function(P){var J=b===y.ADVANCED;return J&&S.call(this),typeof P!="function"||(P(this),J&&N.call(this)),this},m.isAdvancedAPI=function(){return b===y.ADVANCED};var j,C=function(P){if(b!==y.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=m.roundToPrecision=m.__private__.roundToPrecision=function(P,J){var xe=t||J;if(isNaN(P)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(xe).replace(/0+$/,"")};j=m.hpf=m.__private__.hpf=typeof c=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return E(P,c)}:c==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return E(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return E(P,16)};var F=m.f2=m.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return E(P,2)},O=m.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return E(P,3)},T=m.scale=m.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?P*rt:b===y.ADVANCED?P:void 0},H=function(P){return b===y.COMPAT?Uc()-P:b===y.ADVANCED?P:void 0},K=function(P){return T(H(P))};m.__private__.setPrecision=m.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var se,M="00000000000000000000000000000000",B=m.__private__.getFileId=function(){return M},Y=m.__private__.setFileId=function(P){return M=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():M.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ha=new xf(d.userPermissions,d.userPassword,d.ownerPassword,M)),M};m.setFileId=function(P){return Y(P),this},m.getFileId=function(){return B()};var z=m.__private__.convertDateToPDFDate=function(P){var J=P.getTimezoneOffset(),xe=J<0?"+":"-",we=Math.floor(Math.abs(J/60)),_e=Math.abs(J%60),$e=[xe,U(we),"'",U(_e),"'"].join("");return["D:",P.getFullYear(),U(P.getMonth()+1),U(P.getDate()),U(P.getHours()),U(P.getMinutes()),U(P.getSeconds()),$e].join("")},Q=m.__private__.convertPDFDateToDate=function(P){var J=parseInt(P.substr(2,4),10),xe=parseInt(P.substr(6,2),10)-1,we=parseInt(P.substr(8,2),10),_e=parseInt(P.substr(10,2),10),$e=parseInt(P.substr(12,2),10),Qe=parseInt(P.substr(14,2),10);return new Date(J,xe,we,_e,$e,Qe,0)},de=m.__private__.setCreationDate=function(P){var J;if(P===void 0&&(P=new Date),P instanceof Date)J=z(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=P}return se=J},L=m.__private__.getCreationDate=function(P){var J=se;return P==="jsDate"&&(J=Q(se)),J};m.setCreationDate=function(P){return de(P),this},m.getCreationDate=function(P){return L(P)};var R,U=m.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},I=m.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},X=0,V=[],ee=[],G=0,ue=[],ve=[],q=!1,Me=ee,He=function(){X=0,G=0,ee=[],V=[],ue=[],oe=vr(),ce=vr()};m.__private__.setCustomOutputDestination=function(P){q=!0,Me=P};var Ae=function(P){q||(Me=P)};m.__private__.resetCustomOutputDestination=function(){q=!1,Me=ee};var le=m.__private__.out=function(P){return P=P.toString(),G+=P.length+1,Me.push(P),Me},De=m.__private__.write=function(P){return le(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Je=m.__private__.getArrayBuffer=function(P){for(var J=P.length,xe=new ArrayBuffer(J),we=new Uint8Array(xe);J--;)we[J]=P.charCodeAt(J);return xe},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ve};var ye=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(P){return ye=b===y.ADVANCED?P/rt:P,this};var ge,ze=m.__private__.getFontSize=m.getFontSize=function(){return b===y.COMPAT?ye:ye*rt},tt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(P){return tt=P,this},m.__private__.getR2L=m.getR2L=function(){return tt};var ut,bt=m.__private__.setZoomMode=function(P){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ge=P;else if(isNaN(P)){if(J.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ge=P}else ge=parseInt(P,10)};m.__private__.getZoomMode=function(){return ge};var St,At=m.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');ut=P};m.__private__.getPageMode=function(){return ut};var Ft=m.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');St=P};m.__private__.getLayoutMode=function(){return St},m.__private__.setDisplayMode=m.setDisplayMode=function(P,J,xe){return bt(P),Ft(J),At(xe),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(P){if(Object.keys(xt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[P]},m.__private__.getDocumentProperties=function(){return xt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(P){for(var J in xt)xt.hasOwnProperty(J)&&P[J]&&(xt[J]=P[J]);return this},m.__private__.setDocumentProperty=function(P,J){if(Object.keys(xt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[P]=J};var st,rt,ar,_t,$r,rr={},gr={},Is=[],nr={},Oi={},be={},Dt={},Ot=null,It=0,jt=[],qt=new a8(m),ra=e.hotfixes||[],Ge={},xr={},xs=[],Pt=function P(J,xe,we,_e,$e,Qe){if(!(this instanceof P))return new P(J,xe,we,_e,$e,Qe);isNaN(J)&&(J=1),isNaN(xe)&&(xe=0),isNaN(we)&&(we=0),isNaN(_e)&&(_e=1),isNaN($e)&&($e=0),isNaN(Qe)&&(Qe=0),this._matrix=[J,xe,we,_e,$e,Qe]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(P)},Pt.prototype.multiply=function(P){var J=P.sx*this.sx+P.shy*this.shx,xe=P.sx*this.shy+P.shy*this.sy,we=P.shx*this.sx+P.sy*this.shx,_e=P.shx*this.shy+P.sy*this.sy,$e=P.tx*this.sx+P.ty*this.shx+this.tx,Qe=P.tx*this.shy+P.ty*this.sy+this.ty;return new Pt(J,xe,we,_e,$e,Qe)},Pt.prototype.decompose=function(){var P=this.sx,J=this.shy,xe=this.shx,we=this.sy,_e=this.tx,$e=this.ty,Qe=Math.sqrt(P*P+J*J),pt=(P/=Qe)*xe+(J/=Qe)*we;xe-=P*pt,we-=J*pt;var Ct=Math.sqrt(xe*xe+we*we);return pt/=Ct,P*(we/=Ct)<J*(xe/=Ct)&&(P=-P,J=-J,pt=-pt,Qe=-Qe),{scale:new Pt(Qe,0,0,Ct,0,0),translate:new Pt(1,0,0,1,_e,$e),rotate:new Pt(P,J,-J,P,0,0),skew:new Pt(1,0,pt,1,0,0)}},Pt.prototype.toString=function(P){return this.join(" ")},Pt.prototype.inversed=function(){var P=this.sx,J=this.shy,xe=this.shx,we=this.sy,_e=this.tx,$e=this.ty,Qe=1/(P*we-J*xe),pt=we*Qe,Ct=-J*Qe,Gt=-xe*Qe,Ht=P*Qe;return new Pt(pt,Ct,Gt,Ht,-pt*_e-Gt*$e,-Ct*_e-Ht*$e)},Pt.prototype.applyToPoint=function(P){var J=P.x*this.sx+P.y*this.shx+this.tx,xe=P.x*this.shy+P.y*this.sy+this.ty;return new H0(J,xe)},Pt.prototype.applyToRectangle=function(P){var J=this.applyToPoint(P),xe=this.applyToPoint(new H0(P.x+P.w,P.y+P.h));return new um(J.x,J.y,xe.x-J.x,xe.y-J.y)},Pt.prototype.clone=function(){var P=this.sx,J=this.shy,xe=this.shx,we=this.sy,_e=this.tx,$e=this.ty;return new Pt(P,J,xe,we,_e,$e)},m.Matrix=Pt;var vs=m.matrixMult=function(P,J){return J.multiply(P)},jn=new Pt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=jn;var pa=function(P,J){if(!Oi[P]){var xe=(J instanceof uu?"Sh":"P")+(Object.keys(nr).length+1).toString(10);J.id=xe,Oi[P]=xe,nr[xe]=J,qt.publish("addPattern",J)}};m.ShadingPattern=uu,m.TilingPattern=Ld,m.addShadingPattern=function(P,J){return C("addShadingPattern()"),pa(P,J),this},m.beginTilingPattern=function(P){C("beginTilingPattern()"),n1(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},m.endTilingPattern=function(P,J){C("endTilingPattern()"),J.stream=ve[R].join(`
`),pa(P,J),qt.publish("endTilingPattern",J),xs.pop().restore()};var Wr=m.__private__.newObject=function(){var P=vr();return te(P,!0),P},vr=m.__private__.newObjectDeferred=function(){return X++,V[X]=function(){return G},X},te=function(P,J){return J=typeof J=="boolean"&&J,V[P]=G,J&&le(P+" 0 obj"),P},he=m.__private__.newAdditionalObject=function(){var P={objId:vr(),content:""};return ue.push(P),P},oe=vr(),ce=vr(),me=m.__private__.decodeColorString=function(P){var J=P.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var xe=parseFloat(J[0]);J=[xe,xe,xe,"r"]}for(var we="#",_e=0;_e<3;_e++)we+=("0"+Math.floor(255*parseFloat(J[_e])).toString(16)).slice(-2);return we},pe=m.__private__.encodeColorString=function(P){var J;typeof P=="string"&&(P={ch1:P});var xe=P.ch1,we=P.ch2,_e=P.ch3,$e=P.ch4,Qe=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var pt=new BB(xe);if(pt.ok)xe=pt.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var Ct=parseInt(xe.substr(1),16);xe=Ct>>16&255,we=Ct>>8&255,_e=255&Ct}if(we===void 0||$e===void 0&&xe===we&&we===_e)if(typeof xe=="string")J=xe+" "+Qe[0];else switch(P.precision){case 2:J=F(xe/255)+" "+Qe[0];break;case 3:default:J=O(xe/255)+" "+Qe[0]}else if($e===void 0||_r($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return J=["1.","1.","1.",Qe[1]].join(" ");if(typeof xe=="string")J=[xe,we,_e,Qe[1]].join(" ");else switch(P.precision){case 2:J=[F(xe/255),F(we/255),F(_e/255),Qe[1]].join(" ");break;default:case 3:J=[O(xe/255),O(we/255),O(_e/255),Qe[1]].join(" ")}}else if(typeof xe=="string")J=[xe,we,_e,$e,Qe[2]].join(" ");else switch(P.precision){case 2:J=[F(xe),F(we),F(_e),F($e),Qe[2]].join(" ");break;case 3:default:J=[O(xe),O(we),O(_e),O($e),Qe[2]].join(" ")}return J},Ce=m.__private__.getFilters=function(){return i},Be=m.__private__.putStream=function(P){var J=(P=P||{}).data||"",xe=P.filters||Ce(),we=P.alreadyAppliedFilters||[],_e=P.addLength1||!1,$e=J.length,Qe=P.objectId,pt=function(Va){return Va};if(d!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(pt=Ha.encryptor(Qe,0));var Ct={};xe===!0&&(xe=["FlateEncode"]);var Gt=P.additionalKeyValues||[],Ht=(Ct=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(J,xe):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(Ct.data.length!==0&&(Gt.push({key:"Length",value:Ct.data.length}),_e===!0&&Gt.push({key:"Length1",value:$e})),Ht.length!=0)if(Ht.split("/").length-1==1)Gt.push({key:"Filter",value:Ht});else{Gt.push({key:"Filter",value:"["+Ht+"]"});for(var sr=0;sr<Gt.length;sr+=1)if(Gt[sr].key==="DecodeParms"){for(var an=[],mn=0;mn<Ct.reverseChain.split("/").length-1;mn+=1)an.push("null");an.push(Gt[sr].value),Gt[sr].value="["+an.join(" ")+"]"}}le("<<");for(var $n=0;$n<Gt.length;$n++)le("/"+Gt[$n].key+" "+Gt[$n].value);le(">>"),Ct.data.length!==0&&(le("stream"),le(pt(Ct.data)),le("endstream"))},Te=m.__private__.putPage=function(P){var J=P.number,xe=P.data,we=P.objId,_e=P.contentsObjId;te(we,!0),le("<</Type /Page"),le("/Parent "+P.rootDictionaryObjId+" 0 R"),le("/Resources "+P.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(j(P.mediaBox.bottomLeftX))+" "+parseFloat(j(P.mediaBox.bottomLeftY))+" "+j(P.mediaBox.topRightX)+" "+j(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&le("/CropBox ["+j(P.cropBox.bottomLeftX)+" "+j(P.cropBox.bottomLeftY)+" "+j(P.cropBox.topRightX)+" "+j(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&le("/BleedBox ["+j(P.bleedBox.bottomLeftX)+" "+j(P.bleedBox.bottomLeftY)+" "+j(P.bleedBox.topRightX)+" "+j(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&le("/TrimBox ["+j(P.trimBox.bottomLeftX)+" "+j(P.trimBox.bottomLeftY)+" "+j(P.trimBox.topRightX)+" "+j(P.trimBox.topRightY)+"]"),P.artBox!==null&&le("/ArtBox ["+j(P.artBox.bottomLeftX)+" "+j(P.artBox.bottomLeftY)+" "+j(P.artBox.topRightX)+" "+j(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&le("/UserUnit "+P.userUnit),qt.publish("putPage",{objId:we,pageContext:jt[J],pageNumber:J,page:xe}),le("/Contents "+_e+" 0 R"),le(">>"),le("endobj");var $e=xe.join(`
`);return b===y.ADVANCED&&($e+=`
Q`),te(_e,!0),Be({data:$e,filters:Ce(),objectId:_e}),le("endobj"),we},Le=m.__private__.putPages=function(){var P,J,xe=[];for(P=1;P<=It;P++)jt[P].objId=vr(),jt[P].contentsObjId=vr();for(P=1;P<=It;P++)xe.push(Te({number:P,data:ve[P],objId:jt[P].objId,contentsObjId:jt[P].contentsObjId,mediaBox:jt[P].mediaBox,cropBox:jt[P].cropBox,bleedBox:jt[P].bleedBox,trimBox:jt[P].trimBox,artBox:jt[P].artBox,userUnit:jt[P].userUnit,rootDictionaryObjId:oe,resourceDictionaryObjId:ce}));te(oe,!0),le("<</Type /Pages");var we="/Kids [";for(J=0;J<It;J++)we+=xe[J]+" 0 R ";le(we+"]"),le("/Count "+It),le(">>"),le("endobj"),qt.publish("postPutPages")},Ie=function(P){qt.publish("putFont",{font:P,out:le,newObject:Wr,putStream:Be}),P.isAlreadyPutted!==!0&&(P.objectNumber=Wr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+vf(P.postScriptName)),le("/Subtype /Type1"),typeof P.encoding=="string"&&le("/Encoding /"+P.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},et=function(){for(var P in rr)rr.hasOwnProperty(P)&&(f===!1||f===!0&&h.hasOwnProperty(P))&&Ie(rr[P])},ot=function(P){P.objectNumber=Wr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[j(P.x),j(P.y),j(P.x+P.width),j(P.y+P.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var xe=P.pages[1].join(`
`);Be({data:xe,additionalKeyValues:J,objectId:P.objectNumber}),le("endobj")},mt=function(){for(var P in Ge)Ge.hasOwnProperty(P)&&ot(Ge[P])},at=function(P,J){var xe,we=[],_e=1/(J-1);for(xe=0;xe<1;xe+=_e)we.push(xe);if(we.push(1),P[0].offset!=0){var $e={offset:0,color:P[0].color};P.unshift($e)}if(P[P.length-1].offset!=1){var Qe={offset:1,color:P[P.length-1].color};P.push(Qe)}for(var pt="",Ct=0,Gt=0;Gt<we.length;Gt++){for(xe=we[Gt];xe>P[Ct+1].offset;)Ct++;var Ht=P[Ct].offset,sr=(xe-Ht)/(P[Ct+1].offset-Ht),an=P[Ct].color,mn=P[Ct+1].color;pt+=I(Math.round((1-sr)*an[0]+sr*mn[0]).toString(16))+I(Math.round((1-sr)*an[1]+sr*mn[1]).toString(16))+I(Math.round((1-sr)*an[2]+sr*mn[2]).toString(16))}return pt.trim()},ht=function(P,J){J||(J=21);var xe=Wr(),we=at(P.colors,J),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+J+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be({data:we,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),le("endobj"),P.objectNumber=Wr(),le("<< /ShadingType "+P.type),le("/ColorSpace /DeviceRGB");var $e="/Coords ["+j(parseFloat(P.coords[0]))+" "+j(parseFloat(P.coords[1]))+" ";P.type===2?$e+=j(parseFloat(P.coords[2]))+" "+j(parseFloat(P.coords[3])):$e+=j(parseFloat(P.coords[2]))+" "+j(parseFloat(P.coords[3]))+" "+j(parseFloat(P.coords[4]))+" "+j(parseFloat(P.coords[5])),le($e+="]"),P.matrix&&le("/Matrix ["+P.matrix.toString()+"]"),le("/Function "+xe+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},$t=function(P,J){var xe=vr(),we=Wr();J.push({resourcesOid:xe,objectOid:we}),P.objectNumber=we;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+P.boundingBox.map(j).join(" ")+"]"}),_e.push({key:"XStep",value:j(P.xStep)}),_e.push({key:"YStep",value:j(P.yStep)}),_e.push({key:"Resources",value:xe+" 0 R"}),P.matrix&&_e.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Be({data:P.stream,additionalKeyValues:_e,objectId:P.objectNumber}),le("endobj")},yr=function(P){var J;for(J in nr)nr.hasOwnProperty(J)&&(nr[J]instanceof uu?ht(nr[J]):nr[J]instanceof Ld&&$t(nr[J],P))},Cr=function(P){for(var J in P.objectNumber=Wr(),le("<<"),P)switch(J){case"opacity":le("/ca "+F(P[J]));break;case"stroke-opacity":le("/CA "+F(P[J]))}le(">>"),le("endobj")},Un=function(){var P;for(P in be)be.hasOwnProperty(P)&&Cr(be[P])},go=function(){for(var P in le("/XObject <<"),Ge)Ge.hasOwnProperty(P)&&Ge[P].objectNumber>=0&&le("/"+P+" "+Ge[P].objectNumber+" 0 R");qt.publish("putXobjectDict"),le(">>")},Ml=function(){Ha.oid=Wr(),le("<<"),le("/Filter /Standard"),le("/V "+Ha.v),le("/R "+Ha.r),le("/U <"+Ha.toHexString(Ha.U)+">"),le("/O <"+Ha.toHexString(Ha.O)+">"),le("/P "+Ha.P),le(">>"),le("endobj")},Xo=function(){for(var P in le("/Font <<"),rr)rr.hasOwnProperty(P)&&(f===!1||f===!0&&h.hasOwnProperty(P))&&le("/"+P+" "+rr[P].objectNumber+" 0 R");le(">>")},xo=function(){if(Object.keys(nr).length>0){for(var P in le("/Shading <<"),nr)nr.hasOwnProperty(P)&&nr[P]instanceof uu&&nr[P].objectNumber>=0&&le("/"+P+" "+nr[P].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),le(">>")}},Zo=function(P){if(Object.keys(nr).length>0){for(var J in le("/Pattern <<"),nr)nr.hasOwnProperty(J)&&nr[J]instanceof m.TilingPattern&&nr[J].objectNumber>=0&&nr[J].objectNumber<P&&le("/"+J+" "+nr[J].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),le(">>")}},ii=function(){if(Object.keys(be).length>0){var P;for(P in le("/ExtGState <<"),be)be.hasOwnProperty(P)&&be[P].objectNumber>=0&&le("/"+P+" "+be[P].objectNumber+" 0 R");qt.publish("putGStateDict"),le(">>")}},An=function(P){te(P.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Xo(),xo(),Zo(P.objectOid),ii(),go(),le(">>"),le("endobj")},$x=function(){var P=[];et(),Un(),mt(),yr(P),qt.publish("putResources"),P.forEach(An),An({resourcesOid:ce,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources")},Wx=function(){qt.publish("putAdditionalObjects");for(var P=0;P<ue.length;P++){var J=ue[P];te(J.objId,!0),le(J.content),le("endobj")}qt.publish("postPutAdditionalObjects")},Hx=function(P){gr[P.fontName]=gr[P.fontName]||{},gr[P.fontName][P.fontStyle]=P.id},tm=function(P,J,xe,we,_e){var $e={id:"F"+(Object.keys(rr).length+1).toString(10),postScriptName:P,fontName:J,fontStyle:xe,encoding:we,isStandardFont:_e||!1,metadata:{}};return qt.publish("addFont",{font:$e,instance:this}),rr[$e.id]=$e,Hx($e),$e.id},Gw=function(P){for(var J=0,xe=Ve.length;J<xe;J++){var we=tm.call(this,P[J][0],P[J][1],P[J][2],Ve[J][3],!0);f===!1&&(h[we]=!0);var _e=P[J][0].split("-");Hx({id:we,fontName:_e[0],fontStyle:_e[1]||""})}qt.publish("addFonts",{fonts:rr,dictionary:gr})},vo=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(we){var J=we.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var xe="Error in function "+J.split(`
`)[0].split("<")[0]+": "+we.message;if(!Rt.console)throw new Error(xe);Rt.console.error(xe,we),Rt.alert&&alert(xe)}},P.foo.bar=P,P.foo},R0=function(P,J){var xe,we,_e,$e,Qe,pt,Ct,Gt,Ht;if(_e=(J=J||{}).sourceEncoding||"Unicode",Qe=J.outputEncoding,(J.autoencode||Qe)&&rr[st].metadata&&rr[st].metadata[_e]&&rr[st].metadata[_e].encoding&&($e=rr[st].metadata[_e].encoding,!Qe&&rr[st].encoding&&(Qe=rr[st].encoding),!Qe&&$e.codePages&&(Qe=$e.codePages[0]),typeof Qe=="string"&&(Qe=$e[Qe]),Qe)){for(Ct=!1,pt=[],xe=0,we=P.length;xe<we;xe++)(Gt=Qe[P.charCodeAt(xe)])?pt.push(String.fromCharCode(Gt)):pt.push(P[xe]),pt[xe].charCodeAt(0)>>8&&(Ct=!0);P=pt.join("")}for(xe=P.length;Ct===void 0&&xe!==0;)P.charCodeAt(xe-1)>>8&&(Ct=!0),xe--;if(!Ct)return P;for(pt=J.noBOM?[]:[254,255],xe=0,we=P.length;xe<we;xe++){if((Ht=(Gt=P.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(Ht),pt.push(Gt-(Ht<<8))}return String.fromCharCode.apply(void 0,pt)},Ms=m.__private__.pdfEscape=m.pdfEscape=function(P,J){return R0(P,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rm=m.__private__.beginPage=function(P){ve[++It]=[],jt[It]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},qx(It),Ae(ve[R])},Vx=function(P,J){var xe,we,_e;switch(r=J||r,typeof P=="string"&&(xe=v(P.toLowerCase()),Array.isArray(xe)&&(we=xe[0],_e=xe[1])),Array.isArray(P)&&(we=P[0]*rt,_e=P[1]*rt),isNaN(we)&&(we=a[0],_e=a[1]),(we>14400||_e>14400)&&(Fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),_e=Math.min(14400,_e)),a=[we,_e],r.substr(0,1)){case"l":_e>we&&(a=[_e,we]);break;case"p":we>_e&&(a=[_e,we])}rm(a),Jx(im),le(yo),lm!==0&&le(lm+" J"),cm!==0&&le(cm+" j"),qt.publish("addPage",{pageNumber:It})},Kw=function(P){P>0&&P<=It&&(ve.splice(P,1),jt.splice(P,1),It--,R>It&&(R=It),this.setPage(R))},qx=function(P){P>0&&P<=It&&(R=P)},Yw=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ve.length-1},Gx=function(P,J,xe){var we,_e=void 0;return xe=xe||{},P=P!==void 0?P:rr[st].fontName,J=J!==void 0?J:rr[st].fontStyle,we=P.toLowerCase(),gr[we]!==void 0&&gr[we][J]!==void 0?_e=gr[we][J]:gr[P]!==void 0&&gr[P][J]!==void 0?_e=gr[P][J]:xe.disableWarning===!1&&Fr.warn("Unable to look up font label for font '"+P+"', '"+J+"'. Refer to getFontList() for available fonts."),_e||xe.noFallback||(_e=gr.times[J])==null&&(_e=gr.times.normal),_e},Xw=m.__private__.putInfo=function(){var P=Wr(),J=function(we){return we};for(var xe in d!==null&&(J=Ha.encryptor(P,0)),le("<<"),le("/Producer ("+Ms(J("jsPDF "+Et.version))+")"),xt)xt.hasOwnProperty(xe)&&xt[xe]&&le("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+Ms(J(xt[xe]))+")");le("/CreationDate ("+Ms(J(se))+")"),le(">>"),le("endobj")},nm=m.__private__.putCatalog=function(P){var J=(P=P||{}).rootDictionaryObjId||oe;switch(Wr(),le("<<"),le("/Type /Catalog"),le("/Pages "+J+" 0 R"),ge||(ge="fullwidth"),ge){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+ge;xe.substr(xe.length-1)==="%"&&(ge=parseInt(ge)/100),typeof ge=="number"&&le("/OpenAction [3 0 R /XYZ null null "+F(ge)+"]")}switch(St||(St="continuous"),St){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}ut&&le("/PageMode /"+ut),qt.publish("putCatalog"),le(">>"),le("endobj")},Zw=m.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(X+1)),le("/Root "+X+" 0 R"),le("/Info "+(X-1)+" 0 R"),d!==null&&le("/Encrypt "+Ha.oid+" 0 R"),le("/ID [ <"+M+"> <"+M+"> ]"),le(">>")},Jw=m.__private__.putHeader=function(){le("%PDF-"+p),le("%")},Qw=m.__private__.putXRef=function(){var P="0000000000";le("xref"),le("0 "+(X+1)),le("0000000000 65535 f ");for(var J=1;J<=X;J++)typeof V[J]=="function"?le((P+V[J]()).slice(-10)+" 00000 n "):V[J]!==void 0?le((P+V[J]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Rl=m.__private__.buildDocument=function(){He(),Ae(ee),qt.publish("buildDocument"),Jw(),Le(),Wx(),$x(),d!==null&&Ml(),Xw(),nm();var P=G;return Qw(),Zw(),le("startxref"),le(""+P),le("%%EOF"),Ae(ve[R]),ee.join(`
`)},B0=m.__private__.getBlob=function(P){return new Blob([Je(P)],{type:"application/pdf"})},z0=m.output=m.__private__.output=vo(function(P,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",P){case void 0:return Rl();case"save":m.save(J.filename);break;case"arraybuffer":return Je(Rl());case"blob":return B0(Rl());case"bloburi":case"bloburl":if(Rt.URL!==void 0&&typeof Rt.URL.createObjectURL=="function")return Rt.URL&&Rt.URL.createObjectURL(B0(Rl()))||void 0;Fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",we=Rl();try{xe=HN(we)}catch{xe=HN(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+J.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(_e=J.pdfObjectUrl,$e="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",pt=Rt.open();return pt!==null&&pt.document.write(Qe),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',Gt=Rt.open();if(Gt!==null){Gt.document.write(Ct);var Ht=this;Gt.document.documentElement.querySelector("#pdfViewer").onload=function(){Gt.document.title=J.filename,Gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',an=Rt.open();if(an!==null&&(an.document.write(sr),an.document.title=J.filename),an||typeof safari>"u")return an;break;case"datauri":case"dataurl":return Rt.document.location.href=this.output("datauristring",J);default:return null}}),Kx=function(P){return Array.isArray(ra)===!0&&ra.indexOf(P)>-1};switch(n){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=Kx("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);rt=n}var Ha=null;de(),Y();var e5=function(P){return d!==null?Ha.encryptor(P,0):function(J){return J}},Yx=m.__private__.getPageInfo=m.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[P].objId,pageNumber:P,pageContext:jt[P]}},Wt=m.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in jt)if(jt[J].objId===P)break;return Yx(J)},t5=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:jt[R].objId,pageNumber:R,pageContext:jt[R]}};m.addPage=function(){return Vx.apply(this,arguments),this},m.setPage=function(){return qx.apply(this,arguments),Ae.call(this,ve[R]),this},m.insertPage=function(P){return this.addPage(),this.movePage(R,P),this},m.movePage=function(P,J){var xe,we;if(P>J){xe=ve[P],we=jt[P];for(var _e=P;_e>J;_e--)ve[_e]=ve[_e-1],jt[_e]=jt[_e-1];ve[J]=xe,jt[J]=we,this.setPage(J)}else if(P<J){xe=ve[P],we=jt[P];for(var $e=P;$e<J;$e++)ve[$e]=ve[$e+1],jt[$e]=jt[$e+1];ve[J]=xe,jt[J]=we,this.setPage(J)}return this},m.deletePage=function(){return Kw.apply(this,arguments),this},m.__private__.text=m.text=function(P,J,xe,we,_e){var $e,Qe,pt,Ct,Gt,Ht,sr,an,mn,$n=(we=we||{}).scope||this;if(typeof P=="number"&&typeof J=="number"&&(typeof xe=="string"||Array.isArray(xe))){var Va=xe;xe=J,J=P,P=Va}if(arguments[3]instanceof Pt?(C("The transform parameter of text() with a Matrix value"),mn=_e):(pt=arguments[4],Ct=arguments[5],_r(sr=arguments[3])==="object"&&sr!==null||(typeof pt=="string"&&(Ct=pt,pt=null),typeof sr=="string"&&(Ct=sr,sr=null),typeof sr=="number"&&(pt=sr,sr=null),we={flags:sr,angle:pt,align:Ct})),isNaN(J)||isNaN(xe)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return $n;var ga="",bo=!1,oi=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:ud,el=$n.internal.scaleFactor;function a1(Mr){return Mr=Mr.split("	").join(Array(we.TabLen||9).join(" ")),Ms(Mr,sr)}function mm(Mr){for(var Rr,En=Mr.concat(),na=[],Wl=En.length;Wl--;)typeof(Rr=En.shift())=="string"?na.push(Rr):Array.isArray(Mr)&&(Rr.length===1||Rr[1]===void 0&&Rr[2]===void 0)?na.push(Rr[0]):na.push([Rr[0],Rr[1],Rr[2]]);return na}function pm(Mr,Rr){var En;if(typeof Mr=="string")En=Rr(Mr)[0];else if(Array.isArray(Mr)){for(var na,Wl,Nm=Mr.concat(),tf=[],c1=Nm.length;c1--;)typeof(na=Nm.shift())=="string"?tf.push(Rr(na)[0]):Array.isArray(na)&&typeof na[0]=="string"&&(Wl=Rr(na[0],na[1],na[2]),tf.push([Wl[0],Wl[1],Wl[2]]));En=tf}return En}var q0=!1,gm=!0;if(typeof P=="string")q0=!0;else if(Array.isArray(P)){var xm=P.concat();Qe=[];for(var G0,Oa=xm.length;Oa--;)(typeof(G0=xm.shift())!="string"||Array.isArray(G0)&&typeof G0[0]!="string")&&(gm=!1);q0=gm}if(q0===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var K0=ye/$n.internal.scaleFactor,Y0=K0*(oi-1);switch(we.baseline){case"bottom":xe-=Y0;break;case"top":xe+=K0-Y0;break;case"hanging":xe+=K0-2*Y0;break;case"middle":xe+=K0/2-Y0}if((Ht=we.maxWidth||0)>0&&(typeof P=="string"?P=$n.splitTextToSize(P,Ht):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(Mr,Rr){return Mr.concat($n.splitTextToSize(Rr,Ht))},[]))),$e={text:P,x:J,y:xe,options:we,mutex:{pdfEscape:Ms,activeFontKey:st,fonts:rr,activeFontSize:ye}},qt.publish("preProcessText",$e),P=$e.text,pt=(we=$e.options).angle,!(mn instanceof Pt)&&pt&&typeof pt=="number"){pt*=Math.PI/180,we.rotationDirection===0&&(pt=-pt),b===y.ADVANCED&&(pt=-pt);var X0=Math.cos(pt),vm=Math.sin(pt);mn=new Pt(X0,vm,-vm,X0,0,0)}else pt&&pt instanceof Pt&&(mn=pt);b!==y.ADVANCED||mn||(mn=jn),(Gt=we.charSpace||W0)!==void 0&&(ga+=j(T(Gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(an=we.horizontalScale)!==void 0&&(ga+=j(100*an)+` Tz
`),we.lang;var Rs=-1,d5=we.renderingMode!==void 0?we.renderingMode:we.stroke,ym=$n.internal.getCurrentPageInfo().pageContext;switch(d5){case 0:case!1:case"fill":Rs=0;break;case 1:case!0:case"stroke":Rs=1;break;case 2:case"fillThenStroke":Rs=2;break;case 3:case"invisible":Rs=3;break;case 4:case"fillAndAddForClipping":Rs=4;break;case 5:case"strokeAndAddPathForClipping":Rs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rs=6;break;case 7:case"addToPathForClipping":Rs=7}var s1=ym.usedRenderingMode!==void 0?ym.usedRenderingMode:-1;Rs!==-1?ga+=Rs+` Tr
`:s1!==-1&&(ga+=`0 Tr
`),Rs!==-1&&(ym.usedRenderingMode=Rs),Ct=we.align||"left";var Li,Z0=ye*oi,i1=$n.internal.pageSize.getWidth(),o1=rr[st];Gt=we.charSpace||W0,Ht=we.maxWidth||0,sr=Object.assign({autoencode:!0,noBOM:!0},we.flags);var $c=[],hd=function(Mr){return $n.getStringUnitWidth(Mr,{font:o1,charSpace:Gt,fontSize:ye,doKerning:!1})*ye/el};if(Object.prototype.toString.call(P)==="[object Array]"){var Bs;Qe=mm(P),Ct!=="left"&&(Li=Qe.map(hd));var ys,Wc=0;if(Ct==="right"){J-=Li[0],P=[],Oa=Qe.length;for(var zl=0;zl<Oa;zl++)zl===0?(ys=Qo(J),Bs=Bl(xe)):(ys=T(Wc-Li[zl]),Bs=-Z0),P.push([Qe[zl],ys,Bs]),Wc=Li[zl]}else if(Ct==="center"){J-=Li[0]/2,P=[],Oa=Qe.length;for(var Ul=0;Ul<Oa;Ul++)Ul===0?(ys=Qo(J),Bs=Bl(xe)):(ys=T((Wc-Li[Ul])/2),Bs=-Z0),P.push([Qe[Ul],ys,Bs]),Wc=Li[Ul]}else if(Ct==="left"){P=[],Oa=Qe.length;for(var J0=0;J0<Oa;J0++)P.push(Qe[J0])}else if(Ct==="justify"&&o1.encoding==="Identity-H"){P=[],Oa=Qe.length,Ht=Ht!==0?Ht:i1;for(var $l=0,_n=0;_n<Oa;_n++)if(Bs=_n===0?Bl(xe):-Z0,ys=_n===0?Qo(J):$l,_n<Oa-1){var bm=T((Ht-Li[_n])/(Qe[_n].split(" ").length-1)),bs=Qe[_n].split(" ");P.push([bs[0]+" ",ys,Bs]),$l=0;for(var Fi=1;Fi<bs.length;Fi++){var Q0=(hd(bs[Fi-1]+" "+bs[Fi])-hd(bs[Fi]))*el+bm;Fi==bs.length-1?P.push([bs[Fi],Q0,0]):P.push([bs[Fi]+" ",Q0,0]),$l-=Q0}}else P.push([Qe[_n],ys,Bs]);P.push(["",$l,0])}else{if(Ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Oa=Qe.length,Ht=Ht!==0?Ht:i1,_n=0;_n<Oa;_n++)Bs=_n===0?Bl(xe):-Z0,ys=_n===0?Qo(J):0,_n<Oa-1?$c.push(j(T((Ht-Li[_n])/(Qe[_n].split(" ").length-1)))):$c.push(0),P.push([Qe[_n],ys,Bs])}}var l1=typeof we.R2L=="boolean"?we.R2L:tt;l1===!0&&(P=pm(P,function(Mr,Rr,En){return[Mr.split("").reverse().join(""),Rr,En]})),$e={text:P,x:J,y:xe,options:we,mutex:{pdfEscape:Ms,activeFontKey:st,fonts:rr,activeFontSize:ye}},qt.publish("postProcessText",$e),P=$e.text,bo=$e.mutex.isHex||!1;var wm=rr[st].encoding;wm!=="WinAnsiEncoding"&&wm!=="StandardEncoding"||(P=pm(P,function(Mr,Rr,En){return[a1(Mr),Rr,En]})),Qe=mm(P),P=[];for(var md,pd,Hc,gd=0,ef=1,xd=Array.isArray(Qe[0])?ef:gd,Vc="",km=function(Mr,Rr,En){var na="";return En instanceof Pt?(En=typeof we.angle=="number"?vs(En,new Pt(1,0,0,1,Mr,Rr)):vs(new Pt(1,0,0,1,Mr,Rr),En),b===y.ADVANCED&&(En=vs(new Pt(1,0,0,-1,0,0),En)),na=En.join(" ")+` Tm
`):na=j(Mr)+" "+j(Rr)+` Td
`,na},Di=0;Di<Qe.length;Di++){switch(Vc="",xd){case ef:Hc=(bo?"<":"(")+Qe[Di][0]+(bo?">":")"),md=parseFloat(Qe[Di][1]),pd=parseFloat(Qe[Di][2]);break;case gd:Hc=(bo?"<":"(")+Qe[Di]+(bo?">":")"),md=Qo(J),pd=Bl(xe)}$c!==void 0&&$c[Di]!==void 0&&(Vc=$c[Di]+` Tw
`),Di===0?P.push(Vc+km(md,pd,mn)+Hc):xd===gd?P.push(Vc+Hc):xd===ef&&P.push(Vc+km(md,pd,mn)+Hc)}P=xd===gd?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Ii=`BT
/`;return Ii+=st+" "+ye+` Tf
`,Ii+=j(ye*oi)+` TL
`,Ii+=dd+`
`,Ii+=ga,Ii+=P,le(Ii+="ET"),h[st]=!0,$n};var r5=m.__private__.clip=m.clip=function(P){return le(P==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return r5("evenodd")},m.__private__.discardPath=m.discardPath=function(){return le("n"),this};var Jo=m.__private__.isValidStyle=function(P){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(J=!0),J};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(P){return Jo(P)&&(u=P),this};var Xx=m.__private__.getStyle=m.getStyle=function(P){var J=u;switch(P){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=P}return J},Zx=m.close=function(){return le("h"),this};m.stroke=function(){return le("S"),this},m.fill=function(P){return U0("f",P),this},m.fillEvenOdd=function(P){return U0("f*",P),this},m.fillStroke=function(P){return U0("B",P),this},m.fillStrokeEvenOdd=function(P){return U0("B*",P),this};var U0=function(P,J){_r(J)==="object"?a5(J,P):le(P)},am=function(P){P===null||b===y.ADVANCED&&P===void 0||(P=Xx(P),le(P))};function n5(P,J,xe,we,_e){var $e=new Ld(J||this.boundingBox,xe||this.xStep,we||this.yStep,this.gState,_e||this.matrix);$e.stream=this.stream;var Qe=P+"$$"+this.cloneIndex+++"$$";return pa(Qe,$e),$e}var a5=function(P,J){var xe=Oi[P.key],we=nr[xe];if(we instanceof uu)le("q"),le(s5(J)),we.gState&&m.setGState(we.gState),le(P.matrix.toString()+" cm"),le("/"+xe+" sh"),le("Q");else if(we instanceof Ld){var _e=new Pt(1,0,0,-1,0,Uc());P.matrix&&(_e=_e.multiply(P.matrix||jn),xe=n5.call(we,P.key,P.boundingBox,P.xStep,P.yStep,_e).id),le("q"),le("/Pattern cs"),le("/"+xe+" scn"),we.gState&&m.setGState(we.gState),le(J),le("Q")}},s5=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},sm=m.moveTo=function(P,J){return le(j(T(P))+" "+j(K(J))+" m"),this},cd=m.lineTo=function(P,J){return le(j(T(P))+" "+j(K(J))+" l"),this},Bc=m.curveTo=function(P,J,xe,we,_e,$e){return le([j(T(P)),j(K(J)),j(T(xe)),j(K(we)),j(T(_e)),j(K($e)),"c"].join(" ")),this};m.__private__.line=m.line=function(P,J,xe,we,_e){if(isNaN(P)||isNaN(J)||isNaN(xe)||isNaN(we)||!Jo(_e))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[xe-P,we-J]],P,J,[1,1],_e||"S"):this.lines([[xe-P,we-J]],P,J,[1,1]).stroke()},m.__private__.lines=m.lines=function(P,J,xe,we,_e,$e){var Qe,pt,Ct,Gt,Ht,sr,an,mn,$n,Va,ga,bo;if(typeof P=="number"&&(bo=xe,xe=J,J=P,P=bo),we=we||[1,1],$e=$e||!1,isNaN(J)||isNaN(xe)||!Array.isArray(P)||!Array.isArray(we)||!Jo(_e)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(sm(J,xe),Qe=we[0],pt=we[1],Gt=P.length,Va=J,ga=xe,Ct=0;Ct<Gt;Ct++)(Ht=P[Ct]).length===2?(Va=Ht[0]*Qe+Va,ga=Ht[1]*pt+ga,cd(Va,ga)):(sr=Ht[0]*Qe+Va,an=Ht[1]*pt+ga,mn=Ht[2]*Qe+Va,$n=Ht[3]*pt+ga,Va=Ht[4]*Qe+Va,ga=Ht[5]*pt+ga,Bc(sr,an,mn,$n,Va,ga));return $e&&Zx(),am(_e),this},m.path=function(P){for(var J=0;J<P.length;J++){var xe=P[J],we=xe.c;switch(xe.op){case"m":sm(we[0],we[1]);break;case"l":cd(we[0],we[1]);break;case"c":Bc.apply(this,we);break;case"h":Zx()}}return this},m.__private__.rect=m.rect=function(P,J,xe,we,_e){if(isNaN(P)||isNaN(J)||isNaN(xe)||isNaN(we)||!Jo(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(we=-we),le([j(T(P)),j(K(J)),j(T(xe)),j(T(we)),"re"].join(" ")),am(_e),this},m.__private__.triangle=m.triangle=function(P,J,xe,we,_e,$e,Qe){if(isNaN(P)||isNaN(J)||isNaN(xe)||isNaN(we)||isNaN(_e)||isNaN($e)||!Jo(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-P,we-J],[_e-xe,$e-we],[P-_e,J-$e]],P,J,[1,1],Qe,!0),this},m.__private__.roundedRect=m.roundedRect=function(P,J,xe,we,_e,$e,Qe){if(isNaN(P)||isNaN(J)||isNaN(xe)||isNaN(we)||isNaN(_e)||isNaN($e)||!Jo(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*xe),$e=Math.min($e,.5*we),this.lines([[xe-2*_e,0],[_e*pt,0,_e,$e-$e*pt,_e,$e],[0,we-2*$e],[0,$e*pt,-_e*pt,$e,-_e,$e],[2*_e-xe,0],[-_e*pt,0,-_e,-$e*pt,-_e,-$e],[0,2*$e-we],[0,-$e*pt,_e*pt,-$e,_e,-$e]],P+_e,J,[1,1],Qe,!0),this},m.__private__.ellipse=m.ellipse=function(P,J,xe,we,_e){if(isNaN(P)||isNaN(J)||isNaN(xe)||isNaN(we)||!Jo(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*xe,Qe=4/3*(Math.SQRT2-1)*we;return sm(P+xe,J),Bc(P+xe,J-Qe,P+$e,J-we,P,J-we),Bc(P-$e,J-we,P-xe,J-Qe,P-xe,J),Bc(P-xe,J+Qe,P-$e,J+we,P,J+we),Bc(P+$e,J+we,P+xe,J+Qe,P+xe,J),am(_e),this},m.__private__.circle=m.circle=function(P,J,xe,we){if(isNaN(P)||isNaN(J)||isNaN(xe)||!Jo(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,J,xe,xe,we)},m.setFont=function(P,J,xe){return xe&&(J=A(J,xe)),st=Gx(P,J,{disableWarning:!1}),this};var i5=m.__private__.getFont=m.getFont=function(){return rr[Gx.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var P,J,xe={};for(P in gr)if(gr.hasOwnProperty(P))for(J in xe[P]=[],gr[P])gr[P].hasOwnProperty(J)&&xe[P].push(J);return xe},m.addFont=function(P,J,xe,we,_e){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(xe=A(xe,we)),_e=_e||"Identity-H",tm.call(this,P,J,xe,_e)};var ud,im=e.lineWidth||.200025,$0=m.__private__.getLineWidth=m.getLineWidth=function(){return im},Jx=m.__private__.setLineWidth=m.setLineWidth=function(P){return im=P,le(j(T(P))+" w"),this};m.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(P,J){if(P=P||[],J=J||0,isNaN(J)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(xe){return j(T(xe))}).join(" "),J=j(T(J)),le("["+P+"] "+J+" d"),this};var Qx=m.__private__.getLineHeight=m.getLineHeight=function(){return ye*ud};m.__private__.getLineHeight=m.getLineHeight=function(){return ye*ud};var e1=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(ud=P),this},t1=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ud};e1(e.lineHeight);var Qo=m.__private__.getHorizontalCoordinate=function(P){return T(P)},Bl=m.__private__.getVerticalCoordinate=function(P){return b===y.ADVANCED?P:jt[R].mediaBox.topRightY-jt[R].mediaBox.bottomLeftY-T(P)},o5=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(P){return j(Qo(P))},zc=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(P){return j(Bl(P))},yo=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return me(yo)},m.__private__.setStrokeColor=m.setDrawColor=function(P,J,xe,we){return yo=pe({ch1:P,ch2:J,ch3:xe,ch4:we,pdfColorType:"draw",precision:2}),le(yo),this};var om=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return me(om)},m.__private__.setFillColor=m.setFillColor=function(P,J,xe,we){return om=pe({ch1:P,ch2:J,ch3:xe,ch4:we,pdfColorType:"fill",precision:2}),le(om),this};var dd=e.textColor||"0 g",l5=m.__private__.getTextColor=m.getTextColor=function(){return me(dd)};m.__private__.setTextColor=m.setTextColor=function(P,J,xe,we){return dd=pe({ch1:P,ch2:J,ch3:xe,ch4:we,pdfColorType:"text",precision:3}),this};var W0=e.charSpace,c5=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(W0||0)};m.__private__.setCharSpace=m.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return W0=P,this};var lm=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(P){var J=m.CapJoinStyles[P];if(J===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lm=J,le(J+" J"),this};var cm=0;m.__private__.setLineJoin=m.setLineJoin=function(P){var J=m.CapJoinStyles[P];if(J===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cm=J,le(J+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(j(T(P))+" M"),this},m.GState=bg,m.setGState=function(P){(P=typeof P=="string"?be[Dt[P]]:r1(null,P)).equals(Ot)||(le("/"+P.id+" gs"),Ot=P)};var r1=function(P,J){if(!P||!Dt[P]){var xe=!1;for(var we in be)if(be.hasOwnProperty(we)&&be[we].equals(J)){xe=!0;break}if(xe)J=be[we];else{var _e="GS"+(Object.keys(be).length+1).toString(10);be[_e]=J,J.id=_e}return P&&(Dt[P]=J.id),qt.publish("addGState",J),J}};m.addGState=function(P,J){return r1(P,J),this},m.saveGraphicsState=function(){return le("q"),Is.push({key:st,size:ye,color:dd}),this},m.restoreGraphicsState=function(){le("Q");var P=Is.pop();return st=P.key,ye=P.size,dd=P.color,Ot=null,this},m.setCurrentTransformationMatrix=function(P){return le(P.toString()+" cm"),this},m.comment=function(P){return le("#"+P),this};var H0=function(P,J){var xe=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function($e){isNaN($e)||(xe=parseFloat($e))}});var we=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function($e){isNaN($e)||(we=parseFloat($e))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function($e){_e=$e.toString()}}),this},um=function(P,J,xe,we){H0.call(this,P,J),this.type="rect";var _e=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(Qe){isNaN(Qe)||(_e=parseFloat(Qe))}});var $e=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Qe){isNaN(Qe)||($e=parseFloat(Qe))}}),this},dm=function(){this.page=It,this.currentPage=R,this.pages=ve.slice(0),this.pagesContext=jt.slice(0),this.x=ar,this.y=_t,this.matrix=$r,this.width=fd(R),this.height=Uc(R),this.outputDestination=Me,this.id="",this.objectNumber=-1};dm.prototype.restore=function(){It=this.page,R=this.currentPage,jt=this.pagesContext,ve=this.pages,ar=this.x,_t=this.y,$r=this.matrix,fm(R,this.width),hm(R,this.height),Me=this.outputDestination};var n1=function(P,J,xe,we,_e){xs.push(new dm),It=R=0,ve=[],ar=P,_t=J,$r=_e,rm([xe,we])},u5=function(P){if(xr[P])xs.pop().restore();else{var J=new dm,xe="Xo"+(Object.keys(Ge).length+1).toString(10);J.id=xe,xr[P]=xe,Ge[xe]=J,qt.publish("addFormObject",J),xs.pop().restore()}};for(var V0 in m.beginFormObject=function(P,J,xe,we,_e){return n1(P,J,xe,we,_e),this},m.endFormObject=function(P){return u5(P),this},m.doFormObject=function(P,J){var xe=Ge[xr[P]];return le("q"),le(J.toString()+" cm"),le("/"+xe.id+" Do"),le("Q"),this},m.getFormObject=function(P){var J=Ge[xr[P]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},m.save=function(P,J){return P=P||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(kd(B0(Rl()),P),typeof kd.unload=="function"&&Rt.setTimeout&&setTimeout(kd.unload,911),this):new Promise(function(xe,we){try{var _e=kd(B0(Rl()),P);typeof kd.unload=="function"&&Rt.setTimeout&&setTimeout(kd.unload,911),xe(_e)}catch($e){we($e.message)}})},Et.API)Et.API.hasOwnProperty(V0)&&(V0==="events"&&Et.API.events.length?function(P,J){var xe,we,_e;for(_e=J.length-1;_e!==-1;_e--)xe=J[_e][0],we=J[_e][1],P.subscribe.apply(P,[xe].concat(typeof we=="function"?[we]:we))}(qt,Et.API.events):m[V0]=Et.API[V0]);var fd=m.getPageWidth=function(P){return(jt[P=P||R].mediaBox.topRightX-jt[P].mediaBox.bottomLeftX)/rt},fm=m.setPageWidth=function(P,J){jt[P].mediaBox.topRightX=J*rt+jt[P].mediaBox.bottomLeftX},Uc=m.getPageHeight=function(P){return(jt[P=P||R].mediaBox.topRightY-jt[P].mediaBox.bottomLeftY)/rt},hm=m.setPageHeight=function(P,J){jt[P].mediaBox.topRightY=J*rt+jt[P].mediaBox.bottomLeftY};return m.internal={pdfEscape:Ms,getStyle:Xx,getFont:i5,getFontSize:ze,getCharSpace:c5,getTextColor:l5,getLineHeight:Qx,getLineHeightFactor:t1,getLineWidth:$0,write:De,getHorizontalCoordinate:Qo,getVerticalCoordinate:Bl,getCoordinateString:o5,getVerticalCoordinateString:zc,collections:{},newObject:Wr,newAdditionalObject:he,newObjectDeferred:vr,newObjectDeferredBegin:te,getFilters:Ce,putStream:Be,events:qt,scaleFactor:rt,pageSize:{getWidth:function(){return fd(R)},setWidth:function(P){fm(R,P)},getHeight:function(){return Uc(R)},setHeight:function(P){hm(R,P)}},encryptionOptions:d,encryption:Ha,getEncryptor:e5,output:z0,getNumberOfPages:Yw,pages:ve,out:le,f2:F,f3:O,getPageInfo:Yx,getPageInfoByObjId:Wt,getCurrentPageInfo:t5,getPDFVersion:g,Point:H0,Rectangle:um,Matrix:Pt,hasHotfix:Kx},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return fd(R)},set:function(P){fm(R,P)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Uc(R)},set:function(P){hm(R,P)},enumerable:!0,configurable:!0}),Gw.call(m,Ve),st="F1",Vx(a,r),qt.publish("initialized"),m}xf.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},xf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},xf.prototype.processOwnerPassword=function(e,t){return qN(VN(t).substr(0,5),e)},xf.prototype.encryptor=function(e,t){var r=VN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return qN(r,n)}},bg.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_r(e)!==_r(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Et.API={events:[]},Et.version="2.5.2";var gn=Et.API,jA=1,L0=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},df=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(e){return e.toFixed(2)},ru=function(e){return e.toFixed(5)};gn.__acroform__={};var ni=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},s8=function(e){return e*jA},ll=function(e){var t=new WB,r=wt.internal.getHeight(e)||0,n=wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Vt(n)),Number(Vt(r))],t},K0e=gn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Y0e=gn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},X0e=gn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ln=gn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X0e(e,t-1)},Fn=gn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return K0e(e,t-1)},Dn=gn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y0e(e,t-1)},Z0e=gn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=r(a+i)||0,c.upperRight_Y=n(s)||0,[Number(Vt(c.lowerLeft_X)),Number(Vt(c.lowerLeft_Y)),Number(Vt(c.upperRight_X)),Number(Vt(c.upperRight_Y))]},J0e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=GN(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Vt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ll(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},GN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var s=r,i=wt.internal.getHeight(e)||0;i=i<0?-i:i;var o=wt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(O,T,H){if(O+1<a.length){var K=T+" "+a[O+1][0];return sv(K,e,H).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=sv("3",e,s).height,h=e.multiline?i-s:(i-f)/2,m=h+=2,p=0,g=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+sv(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var v="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var N=!1;if(a[b].length!==1&&x!==a[b].length-1){if((f+2)*(y+2)+2>i)continue e;v+=a[b][x],N=!0,g=b,b--}else{v=(v+=a[b][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var S=parseInt(b),A=c(S,v,s),j=b>=a.length-1;if(A&&!j){v+=" ",x=0;continue}if(A||j){if(j)g=S;else if(e.multiline&&(f+2)*(y+2)+2>i)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>i)continue e;g=S}}for(var C="",E=p;E<=g;E++){var F=a[E];if(e.multiline){if(E===g){C+=F[x]+" ",x=(x+1)%F.length;continue}if(E===p){C+=F[F.length-1]+" ";continue}}C+=F[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,d=sv(C,e,s).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=Vt(u)+" "+Vt(m)+` Td
`,t+="("+L0(C)+`) Tj
`,t+=-Vt(u)+` 0 Td
`,m=-(s+2),d=0,p=N?g:g+1,y++,v=""}break}return n.text=t,n.fontSize=s,n},sv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Q0e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},efe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},tfe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),_r(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},rfe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Go.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Q0e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new HB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&efe(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],c=[],u=o.Rect;if(o.Rect&&(o.Rect=Z0e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=wt.createDefaultAppearanceStream(o),_r(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=J0e(o);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var m=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var i in m)if(m.hasOwnProperty(i)){var p=m[i];typeof p=="function"&&(p=p.call(a,o)),f+="/"+i+" "+p+" ",a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p)}}else typeof(p=m)=="function"&&(p=p.call(a,o)),f+="/"+i+" "+p,a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}s&&tfe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},$B=gn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),_r(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+L0(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ek=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+L0(n(e))+")"},pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pl.prototype.toString=function(){return this.objId+" 0 R"},pl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},pl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:$B(a,this.objId,this.scope)}):a instanceof pl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var WB=function(){pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ni(WB,pl);var HB=function(){pl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+L0(r(e))+")"}},set:function(r){e=r}})};ni(HB,pl);var Go=function e(){pl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ln(t,3)},set:function(v){v?this.F=Fn(t,3):this.F=Dn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Gy)return;s="FieldObject"+e.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+L0(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(v){i=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/jA:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Gy||this instanceof Tu))return Ek(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof sa?h:Ek(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof sa?v:v.substr(0,1)==="("?df(v.substr(1,v.length-2)):df(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sa?df(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof sa?"/"+v:v}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof sa?m:Ek(m,this.objId,this.scope)},set:function(v){v=v.toString(),m=this instanceof sa?v:v.substr(0,1)==="("?df(v.substr(1,v.length-2)):df(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sa?df(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof sa?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,1)},set:function(v){v?this.Ff=Fn(this.Ff,1):this.Ff=Dn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,2)},set:function(v){v?this.Ff=Fn(this.Ff,2):this.Ff=Dn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,3)},set:function(v){v?this.Ff=Fn(this.Ff,3):this.Ff=Dn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};ni(Go,pl);var Kd=function(){Go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $B(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,i,o){o||(o=1);for(var c,u=[];c=i.exec(s);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,18)},set:function(r){r?this.Ff=Fn(this.Ff,18):this.Ff=Dn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Fn(this.Ff,19):this.Ff=Dn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,20)},set:function(r){r?(this.Ff=Fn(this.Ff,20),t.sort()):this.Ff=Dn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,22)},set:function(r){r?this.Ff=Fn(this.Ff,22):this.Ff=Dn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(r){r?this.Ff=Fn(this.Ff,23):this.Ff=Dn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,27)},set:function(r){r?this.Ff=Fn(this.Ff,27):this.Ff=Dn(this.Ff,27)}}),this.hasAppearanceStream=!1};ni(Kd,Go);var Yd=function(){Kd.call(this),this.fontName="helvetica",this.combo=!1};ni(Yd,Kd);var Xd=function(){Yd.call(this),this.combo=!0};ni(Xd,Yd);var Ap=function(){Xd.call(this),this.edit=!0};ni(Ap,Xd);var sa=function(){Go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,15)},set:function(r){r?this.Ff=Fn(this.Ff,15):this.Ff=Dn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,16)},set:function(r){r?this.Ff=Fn(this.Ff,16):this.Ff=Dn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,17)},set:function(r){r?this.Ff=Fn(this.Ff,17):this.Ff=Dn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(r){r?this.Ff=Fn(this.Ff,26):this.Ff=Dn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+L0(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){_r(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ni(sa,Go);var _p=function(){sa.call(this),this.pushButton=!0};ni(_p,sa);var Zd=function(){sa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ni(Zd,sa);var Gy=function(){var e,t;Go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+L0(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){_r(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ni(Gy,Go),Zd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Zd.prototype.createOption=function(e){var t=new Gy;return t.Parent=this,t.optionName=e,this.Kids.push(t),nfe.call(this.scope,t),t};var Ep=function(){sa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};ni(Ep,sa);var Tu=function(){Go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,13)},set:function(t){t?this.Ff=Fn(this.Ff,13):this.Ff=Dn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,21)},set:function(t){t?this.Ff=Fn(this.Ff,21):this.Ff=Dn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(t){t?this.Ff=Fn(this.Ff,23):this.Ff=Dn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,24)},set:function(t){t?this.Ff=Fn(this.Ff,24):this.Ff=Dn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,25)},set:function(t){t?this.Ff=Fn(this.Ff,25):this.Ff=Dn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(t){t?this.Ff=Fn(this.Ff,26):this.Ff=Dn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ni(Tu,Go);var Cp=function(){Tu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,14)},set:function(e){e?this.Ff=Fn(this.Ff,14):this.Ff=Dn(this.Ff,14)}}),this.password=!0};ni(Cp,Tu);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=GN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Vt(wt.internal.getWidth(e))+" "+Vt(wt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Vt(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ll(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=wt.internal.getHeight(e),i=wt.internal.getWidth(e),o=GN(e,e.caption);return a.push("1 g"),a.push("0 0 "+Vt(i)+" "+Vt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Vt(i-1)+" "+Vt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Vt(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(wt.internal.getWidth(e))+" "+Vt(wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Circle.YesNormal,t.D[e]=wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=wt.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ru(wt.internal.getWidth(e)/2)+" "+ru(wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*wt.internal.Bezier_C).toFixed(5)),i=Number((n*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ru(wt.internal.getWidth(e)/2)+" "+ru(wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ru(wt.internal.getWidth(e)/2)+" "+ru(wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ru(wt.internal.getWidth(e)/2)+" "+ru(wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Cross.YesNormal,t.D[e]=wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=wt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Vt(wt.internal.getWidth(e)-2)+" "+Vt(wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Vt(n.x1.x)+" "+Vt(n.x1.y)+" m"),r.push(Vt(n.x2.x)+" "+Vt(n.x2.y)+" l"),r.push(Vt(n.x4.x)+" "+Vt(n.x4.y)+" m"),r.push(Vt(n.x3.x)+" "+Vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=wt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(wt.internal.getWidth(e))+" "+Vt(wt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vt(wt.internal.getWidth(e)-2)+" "+Vt(wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Vt(r.x1.x)+" "+Vt(r.x1.y)+" m"),n.push(Vt(r.x2.x)+" "+Vt(r.x2.y)+" l"),n.push(Vt(r.x4.x)+" "+Vt(r.x4.y)+" m"),n.push(Vt(r.x3.x)+" "+Vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(wt.internal.getWidth(e))+" "+Vt(wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=wt.internal.getWidth(e),r=wt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},wt.internal.getWidth=function(e){var t=0;return _r(e)==="object"&&(t=s8(e.Rect[2])),t},wt.internal.getHeight=function(e){var t=0;return _r(e)==="object"&&(t=s8(e.Rect[3])),t};var nfe=gn.addField=function(e){if(rfe(this,e),!(e instanceof Go))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};gn.AcroFormChoiceField=Kd,gn.AcroFormListBox=Yd,gn.AcroFormComboBox=Xd,gn.AcroFormEditBox=Ap,gn.AcroFormButton=sa,gn.AcroFormPushButton=_p,gn.AcroFormRadioButton=Zd,gn.AcroFormCheckBox=Ep,gn.AcroFormTextField=Tu,gn.AcroFormPasswordField=Cp,gn.AcroFormAppearance=wt,gn.AcroForm={ChoiceField:Kd,ListBox:Yd,ComboBox:Xd,EditBox:Ap,Button:sa,PushButton:_p,RadioButton:Zd,CheckBox:Ep,TextField:Tu,PasswordField:Cp,Appearance:wt},Et.AcroForm={ChoiceField:Kd,ListBox:Yd,ComboBox:Xd,EditBox:Ap,Button:sa,PushButton:_p,RadioButton:Zd,CheckBox:Ep,TextField:Tu,PasswordField:Cp,Appearance:wt};var afe=Et.AcroForm;function VB(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,T){var H,K,se,M,B,Y=t;if((T=T||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(A(O))for(B in r)for(se=r[B],H=0;H<se.length;H+=1){for(M=!0,K=0;K<se[H].length;K+=1)if(se[H][K]!==void 0&&se[H][K]!==O[K]){M=!1;break}if(M===!0){Y=B;break}}else for(B in r)for(se=r[B],H=0;H<se.length;H+=1){for(M=!0,K=0;K<se[H].length;K+=1)if(se[H][K]!==void 0&&se[H][K]!==O.charCodeAt(K)){M=!1;break}if(M===!0){Y=B;break}}return Y===t&&T!==t&&(Y=T),Y},a=function O(T){for(var H=this.internal.write,K=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var M=[];if(M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Image"}),M.push({key:"Width",value:T.width}),M.push({key:"Height",value:T.height}),T.colorSpace===x.INDEXED?M.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(M.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===x.DEVICE_CMYK&&M.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),M.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&M.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var B="",Y=0,z=T.transparency.length;Y<z;Y++)B+=T.transparency[Y]+" "+T.transparency[Y]+" ";M.push({key:"Mask",value:"["+B+"]"})}T.sMask!==void 0&&M.push({key:"SMask",value:T.objectId+1+" 0 R"});var Q=T.filter!==void 0?["/"+T.filter]:void 0;if(K({data:T.data,additionalKeyValues:M,alreadyAppliedFilters:Q,objectId:T.objectId}),H("endobj"),"sMask"in T&&T.sMask!==void 0){var de="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,L={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:de,data:T.sMask};"filter"in T&&(L.filter=T.filter),O.call(this,L)}if(T.colorSpace===x.INDEXED){var R=this.internal.newObject();K({data:C(new Uint8Array(T.palette)),objectId:R}),H("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var T in O)a.call(this,O[T])},i=function(){var O,T=this.internal.collections.addImage_images,H=this.internal.write;for(var K in T)H("/I"+(O=T[K]).index,O.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var O=this.internal.collections.addImage_images;return o.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(O){return typeof e["process"+O.toUpperCase()]=="function"},f=function(O){return _r(O)==="object"&&O.nodeType===1},h=function(O,T){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var H=""+O.getAttribute("src");if(H.indexOf("data:image/")===0)return jp(unescape(H).split("base64,").pop());var K=e.loadFile(H,!0);if(K!==void 0)return K}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var se;switch(T){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return jp(O.toDataURL(se,1).split("base64,").pop())}},m=function(O){var T=this.internal.collections.addImage_images;if(T){for(var H in T)if(O===T[H].alias)return T[H]}},p=function(O,T,H){return O||T||(O=-96,T=-96),O<0&&(O=-1*H.width*72/O/this.internal.scaleFactor),T<0&&(T=-1*H.height*72/T/this.internal.scaleFactor),O===0&&(O=T*H.width/H.height),T===0&&(T=O*H.height/H.width),[O,T]},g=function(O,T,H,K,se,M){var B=p.call(this,H,K,se),Y=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,Q=c.call(this);if(H=B[0],K=B[1],Q[se.index]=se,M){M*=Math.PI/180;var de=Math.cos(M),L=Math.sin(M),R=function(I){return I.toFixed(4)},U=[R(de),R(L),R(-1*L),R(de),0,0,"cm"]}this.internal.write("q"),M?(this.internal.write([1,"0","0",1,Y(O),z(T+K),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([Y(H),"0","0",Y(K),"0","0","cm"].join(" "))):this.internal.write([Y(H),"0","0",Y(K),Y(O),z(T+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(O){var T,H,K=0;if(typeof O=="string")for(H=O.length,T=0;T<H;T++)K=(K<<5)-K+O.charCodeAt(T),K|=0;else if(A(O))for(H=O.byteLength/2,T=0;T<H;T++)K=(K<<5)-K+O[T],K|=0;return K},b=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var T=!0;return O.length===0&&(T=!1),O.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(T=!1),T},N=e.__addimage__.extractImageFromDataUrl=function(O){var T=(O=O||"").split("base64,"),H=null;if(T.length===2){var K=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(K)&&(H={mimeType:K[1],charset:K[2],data:T[1]})}return H},S=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return S()&&O instanceof ArrayBuffer};var A=e.__addimage__.isArrayBufferView=function(O){return S()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},j=e.__addimage__.binaryStringToUint8Array=function(O){for(var T=O.length,H=new Uint8Array(T),K=0;K<T;K++)H[K]=O.charCodeAt(K);return H},C=e.__addimage__.arrayBufferToBinaryString=function(O){for(var T="",H=A(O)?O:new Uint8Array(O),K=0;K<H.length;K+=8192)T+=String.fromCharCode.apply(null,H.subarray(K,K+8192));return T};e.addImage=function(){var O,T,H,K,se,M,B,Y,z;if(typeof arguments[1]=="number"?(T=t,H=arguments[1],K=arguments[2],se=arguments[3],M=arguments[4],B=arguments[5],Y=arguments[6],z=arguments[7]):(T=arguments[1],H=arguments[2],K=arguments[3],se=arguments[4],M=arguments[5],B=arguments[6],Y=arguments[7],z=arguments[8]),_r(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var Q=O;O=Q.imageData,T=Q.format||T||t,H=Q.x||H||0,K=Q.y||K||0,se=Q.w||Q.width||se,M=Q.h||Q.height||M,B=Q.alias||B,Y=Q.compression||Y,z=Q.rotation||Q.angle||z}var de=this.internal.getFilters();if(Y===void 0&&de.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(H)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var L=E.call(this,O,T,B,Y);return g.call(this,H,K,se,M,L,z),this};var E=function(O,T,H,K){var se,M,B;if(typeof O=="string"&&n(O)===t){O=unescape(O);var Y=F(O,!1);(Y!==""||(Y=e.loadFile(O,!0))!==void 0)&&(O=Y)}if(f(O)&&(O=h(O,T)),T=n(O,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((B=H)==null||B.length===0)&&(H=function(z){return typeof z=="string"||A(z)?y(z):A(z.data)?y(z.data):null}(O)),(se=m.call(this,H))||(S()&&(O instanceof Uint8Array||T==="RGBA"||(M=O,O=j(O))),se=this["process"+T.toUpperCase()](O,u.call(this),H,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in e.image_compression?z:v.NONE}(K),M)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},F=e.__addimage__.convertBase64ToBinaryString=function(O,T){var H;T=typeof T!="boolean"||T;var K,se="";if(typeof O=="string"){K=(H=N(O))!==null?H.data:O;try{se=jp(K)}catch(M){if(T)throw b(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+M.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};e.getImageProperties=function(O){var T,H,K="";if(f(O)&&(O=h(O)),typeof O=="string"&&n(O)===t&&((K=F(O,!1))===""&&(K=e.loadFile(O)||""),O=K),H=n(O),!d(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!S()||O instanceof Uint8Array||(O=j(O)),!(T=this["process"+H.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=H,T}})(Et.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(v(n.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(v(y))+") >>",g.content=s;var b=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(p(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var A=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+A+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,i){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:i,type:"link"})},e.textWithLink=function(r,n,a,s){var i,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;i=Math.ceil(u*d)}else o=c,i=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,o,i,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Et.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var x=0,v=r,y="",b=0;for(x=0;x<g.length;x+=1)v[g.charCodeAt(x)]!==void 0?(b++,typeof(v=v[g.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(v),v=r,b=0),x===g.length-1&&(v=r,y+=g.charAt(x-(b-1)),x-=b-1,b=0)):(v=r,y+=g.charAt(x-b),x-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,x,v){return i(g)?s(g)===!1?-1:!u(g)||!i(x)&&!i(v)||!i(v)&&o(x)||o(g)&&!i(x)||o(g)&&c(x)||o(g)&&o(x)?0:d(g)&&i(x)&&!o(x)&&i(v)&&u(v)?3:o(g)||!i(v)?1:2:-1},m=function(g){var x=0,v=0,y=0,b="",N="",S="",A=(g=g||"").split("\\s+"),j=[];for(x=0;x<A.length;x+=1){for(j.push(""),v=0;v<A[x].length;v+=1)b=A[x][v],N=A[x][v-1],S=A[x][v+1],i(b)?(y=h(b,N,S),j[x]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):j[x]+=b;j[x]=f(j[x])}return j.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var y=0;for(v=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?v.push([m(x[y][0]),x[y][1],x[y][2]]):v.push([m(x[y])]);g=v}else g=m(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",p])}(Et.API),Et.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Et.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,p=0,g=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,N){return b.concat(x.splitTextToSize(N,v))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)m<(g=this.getStringUnitWidth(c[y],{font:f})*d)&&(m=g);return m!==0&&(p=c.length),{w:m/=h,h:Math.max((p*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,p,g,x,v=[],y=[],b=[],N={},S={},A=[],j=[],C=(h=h||{}).autoSize||!1,E=h.printHeaders!==!1,F=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,O=h.margins||Object.assign({width:this.getPageWidth()},t),T=typeof h.padding=="number"?h.padding:3,H=h.headerBackgroundColor||"#c8c8c8",K=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=K,this.setFontSize(F),f==null)y=v=Object.keys(d[0]),b=v.map(function(){return"left"});else if(Array.isArray(f)&&_r(f[0])==="object")for(v=f.map(function(Q){return Q.name}),y=f.map(function(Q){return Q.prompt||Q.name||""}),b=f.map(function(Q){return Q.align||"left"}),m=0;m<f.length;m+=1)S[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=v=f,b=v.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<v.length;m+=1){for(N[x=v[m]]=d.map(function(Q){return Q[x]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=N[x],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)A.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[x]=Math.max.apply(null,A)+T+T,A=[]}if(E){var se={};for(m=0;m<v.length;m+=1)se[v[m]]={},se[v[m]].text=y[m],se[v[m]].align=b[m];var M=o.call(this,se,S);j=v.map(function(Q){return new s(c,u,S[Q],M,se[Q].text,void 0,se[Q].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var B=f.reduce(function(Q,de){return Q[de.name]=de.align,Q},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var Y=o.call(this,d[m],S);for(g=0;g<v.length;g+=1){var z=d[m][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:g,data:z},this),i.call(this,new s(c,u,S[v[g]],Y,z,m+2,B[v[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(m){var p=c[m];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,p){return Math.max(m,p)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(p)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Et.API);var qB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},GB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],KN=VB(GB),KB=[100,200,300,400,500,600,700,800,900],sfe=VB(KB);function YN(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return qB[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof KN[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function i8(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var ife={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},o8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ofe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},ife,r.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=YN(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+l8(s)+"' and default family '"+n+"'.");if(i=function(c,u){if(u[c])return u[c];var d=KN[c],f=d<=KN.normal?-1:1,h=i8(u,GB,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(s.stretch,i),i=function(c,u){if(u[c])return u[c];for(var d=qB[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(s.style,i),!(i=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=sfe[c],f=i8(u,KB,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+l8(s)+"'.");return i}function c8(e){return e.trimLeft()}function lfe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function cfe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var iv,u8,d8,Ck=["times"];(function(e){var t,r,n,a,s,i,o,c,u,d=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new i,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new i,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=L;Object.defineProperty(this,"pdf",{get:function(){return R}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(Ae){U=!!Ae}});var I=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return I},set:function(Ae){I=!!Ae}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(Ae){isNaN(Ae)||(X=Ae)}});var V=0;Object.defineProperty(this,"posY",{get:function(){return V},set:function(Ae){isNaN(Ae)||(V=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ae){var le;typeof Ae=="number"?le=[Ae,Ae,Ae,Ae]:((le=new Array(4))[0]=Ae[0],le[1]=Ae.length>=2?Ae[1]:le[0],le[2]=Ae.length>=3?Ae[2]:le[0],le[3]=Ae.length>=4?Ae[3]:le[1]),u.margin=le}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(Ae){ee=Ae}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(Ae){G=Ae}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(Ae){ue=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ae){Ae instanceof d&&(u=Ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ae){u.path=Ae}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(Ae){ve=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var le;le=h(Ae),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var le=h(Ae);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var q=null;function Me(Ae,le){if(q===null){var De=function(Je){var Ve=[];return Object.keys(Je).forEach(function(ye){Je[ye].forEach(function(ge){var ze=null;switch(ge){case"bold":ze={family:ye,weight:"bold"};break;case"italic":ze={family:ye,style:"italic"};break;case"bolditalic":ze={family:ye,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:ye}}ze!==null&&(ze.ref={name:ye,style:ge},Ve.push(ze))})}),Ve}(Ae.getFontList());q=function(Je){for(var Ve={},ye=0;ye<Je.length;++ye){var ge=YN(Je[ye]),ze=ge.family,tt=ge.stretch,ut=ge.style,bt=ge.weight;Ve[ze]=Ve[ze]||{},Ve[ze][tt]=Ve[ze][tt]||{},Ve[ze][tt][ut]=Ve[ze][tt][ut]||{},Ve[ze][tt][ut][bt]=ge}return Ve}(De.concat(le))}return q}var He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Ae){q=null,He=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var le;if(this.ctx.font=Ae,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var De=le[1],Je=(le[2],le[3]),Ve=le[4],ye=(le[5],le[6]),ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(ge==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:ge==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var ze=function(xt){var st,rt,ar=[],_t=xt.trim();if(_t==="")return Ck;if(_t in o8)return[o8[_t]];for(;_t!=="";){switch(rt=null,st=(_t=c8(_t)).charAt(0)){case'"':case"'":rt=lfe(_t.substring(1),st);break;default:rt=cfe(_t)}if(rt===null||(ar.push(rt[0]),(_t=c8(rt[1]))!==""&&_t.charAt(0)!==","))return Ck;_t=_t.replace(/^,/,"")}return ar}(ye);if(this.fontFaces){var tt=ofe(Me(this.pdf,this.fontFaces),ze.map(function(xt){return{family:xt,stretch:"normal",weight:Je,style:De}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var ut="";(Je==="bold"||parseInt(Je,10)>=700||De==="bold")&&(ut="bold"),De==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var bt="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<ze.length;At++){if(this.pdf.internal.getFont(ze[At],ut,{noFallback:!0,disableWarning:!0})!==void 0){bt=ze[At];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(ze[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=ze[At],ut="bold";else if(this.pdf.internal.getFont(ze[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=ze[At],ut="normal";break}}if(bt===""){for(var Ft=0;Ft<ze.length;Ft++)if(St[ze[Ft]]){bt=St[ze[Ft]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,R){if(isNaN(L)||isNaN(R))throw Fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new i(L,R));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new i(L,R)},f.prototype.closePath=function(){var L=new i(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&_r(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){L=new i(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(L.x,L.y)},f.prototype.lineTo=function(L,R){if(isNaN(L)||isNaN(R))throw Fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new i(L,R));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new i(U.x,U.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,R,U,I){if(isNaN(U)||isNaN(I)||isNaN(L)||isNaN(R))throw Fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new i(U,I)),V=this.ctx.transform.applyToPoint(new i(L,R));this.path.push({type:"qct",x1:V.x,y1:V.y,x:X.x,y:X.y}),this.ctx.lastPoint=new i(X.x,X.y)},f.prototype.bezierCurveTo=function(L,R,U,I,X,V){if(isNaN(X)||isNaN(V)||isNaN(L)||isNaN(R)||isNaN(U)||isNaN(I))throw Fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new i(X,V)),G=this.ctx.transform.applyToPoint(new i(L,R)),ue=this.ctx.transform.applyToPoint(new i(U,I));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:ue.x,y2:ue.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new i(ee.x,ee.y)},f.prototype.arc=function(L,R,U,I,X,V){if(isNaN(L)||isNaN(R)||isNaN(U)||isNaN(I)||isNaN(X))throw Fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(V=!!V,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new i(L,R));L=ee.x,R=ee.y;var G=this.ctx.transform.applyToPoint(new i(0,U)),ue=this.ctx.transform.applyToPoint(new i(0,0));U=Math.sqrt(Math.pow(G.x-ue.x,2)+Math.pow(G.y-ue.y,2))}Math.abs(X-I)>=2*Math.PI&&(I=0,X=2*Math.PI),this.path.push({type:"arc",x:L,y:R,radius:U,startAngle:I,endAngle:X,counterclockwise:V})},f.prototype.arcTo=function(L,R,U,I,X){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,R,U,I){if(isNaN(L)||isNaN(R)||isNaN(U)||isNaN(I))throw Fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,R),this.lineTo(L+U,R),this.lineTo(L+U,R+I),this.lineTo(L,R+I),this.lineTo(L,R),this.lineTo(L+U,R),this.lineTo(L,R)},f.prototype.fillRect=function(L,R,U,I){if(isNaN(L)||isNaN(R)||isNaN(U)||isNaN(I))throw Fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,R,U,I),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},f.prototype.strokeRect=function(L,R,U,I){if(isNaN(L)||isNaN(R)||isNaN(U)||isNaN(I))throw Fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(L,R,U,I),this.stroke())},f.prototype.clearRect=function(L,R,U,I){if(isNaN(L)||isNaN(R)||isNaN(U)||isNaN(I))throw Fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,R,U,I))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var I=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=I}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(R),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(L){var R,U,I,X;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))R=0,U=0,I=0,X=0;else{var V=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(V!==null)R=parseInt(V[1]),U=parseInt(V[2]),I=parseInt(V[3]),X=1;else if((V=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)R=parseInt(V[1]),U=parseInt(V[2]),I=parseInt(V[3]),X=parseFloat(V[4]);else{if(X=1,typeof L=="string"&&L.charAt(0)!=="#"){var ee=new BB(L);L=ee.ok?ee.toHex():"#000000"}L.length===4?(R=L.substring(1,2),R+=R,U=L.substring(2,3),U+=U,I=L.substring(3,4),I+=I):(R=L.substring(1,3),U=L.substring(3,5),I=L.substring(5,7)),R=parseInt(R,16),U=parseInt(U,16),I=parseInt(I,16)}}return{r:R,g:U,b:I,a:X,style:L}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,R,U,I){if(isNaN(R)||isNaN(U)||typeof L!="string")throw Fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(I=isNaN(I)?void 0:I,!m.call(this)){var X=Y(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;T.call(this,{text:L,x:R,y:U,scale:V,angle:X,align:this.textAlign,maxWidth:I})}},f.prototype.strokeText=function(L,R,U,I){if(isNaN(R)||isNaN(U)||typeof L!="string")throw Fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){I=isNaN(I)?void 0:I;var X=Y(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;T.call(this,{text:L,x:R,y:U,scale:V,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:I})}},f.prototype.measureText=function(L){if(typeof L!="string")throw Fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,U=this.pdf.internal.scaleFactor,I=R.internal.getFontSize(),X=R.getStringUnitWidth(L)*I/R.internal.scaleFactor,V=function(ee){var G=(ee=ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return G}}),this};return new V({width:X*=Math.round(96*U/72*1e4)/1e4})},f.prototype.scale=function(L,R){if(isNaN(L)||isNaN(R))throw Fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new c(L,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.rotate=function(L){if(isNaN(L))throw Fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(L,R){if(isNaN(L)||isNaN(R))throw Fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new c(1,0,0,1,L,R);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.transform=function(L,R,U,I,X,V){if(isNaN(L)||isNaN(R)||isNaN(U)||isNaN(I)||isNaN(X)||isNaN(V))throw Fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new c(L,R,U,I,X,V);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.setTransform=function(L,R,U,I,X,V){L=isNaN(L)?1:L,R=isNaN(R)?0:R,U=isNaN(U)?0:U,I=isNaN(I)?1:I,X=isNaN(X)?0:X,V=isNaN(V)?0:V,this.ctx.transform=new c(L,R,U,I,X,V)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,R,U,I,X,V,ee,G,ue){var ve=this.pdf.getImageProperties(L),q=1,Me=1,He=1,Ae=1;I!==void 0&&G!==void 0&&(He=G/I,Ae=ue/X,q=ve.width/I*G/I,Me=ve.height/X*ue/X),V===void 0&&(V=R,ee=U,R=0,U=0),I!==void 0&&G===void 0&&(G=I,ue=X),I===void 0&&G===void 0&&(G=ve.width,ue=ve.height);for(var le,De=this.ctx.transform.decompose(),Je=Y(De.rotate.shx),Ve=new c,ye=(Ve=(Ve=(Ve=Ve.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new o(V-R*He,ee-U*Ae,I*q,X*Me)),ge=x.call(this,ye),ze=[],tt=0;tt<ge.length;tt+=1)ze.indexOf(ge[tt])===-1&&ze.push(ge[tt]);if(b(ze),this.autoPaging)for(var ut=ze[0],bt=ze[ze.length-1],St=ut;St<bt+1;St++){this.pdf.setPage(St);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=St===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=St===1?0:xt+(St-2)*st;if(this.ctx.clip_path.length!==0){var ar=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(le,this.posX+this.margin[3],-rt+Ft+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=ar}var _t=JSON.parse(JSON.stringify(ye));_t=y([_t],this.posX+this.margin[3],-rt+Ft+this.ctx.prevPageLastElemOffset)[0];var $r=(St>ut||St<bt)&&g.call(this);$r&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,st,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Je),$r&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,Je)};var x=function(L,R,U){var I=[];R=R||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":I.push(Math.floor((L.y+X)/U)+1);break;case"arc":I.push(Math.floor((L.y+X-L.radius)/U)+1),I.push(Math.floor((L.y+X+L.radius)/U)+1);break;case"qct":var V=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);I.push(Math.floor((V.y+X)/U)+1),I.push(Math.floor((V.y+V.h+X)/U)+1);break;case"bct":var ee=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);I.push(Math.floor((ee.y+X)/U)+1),I.push(Math.floor((ee.y+ee.h+X)/U)+1);break;case"rect":I.push(Math.floor((L.y+X)/U)+1),I.push(Math.floor((L.y+L.h+X)/U)+1)}for(var G=0;G<I.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<I[G];)v.call(this);return I},v=function(){var L=this.fillStyle,R=this.strokeStyle,U=this.font,I=this.lineCap,X=this.lineWidth,V=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=R,this.font=U,this.lineCap=I,this.lineWidth=X,this.lineJoin=V},y=function(L,R,U){for(var I=0;I<L.length;I++)switch(L[I].type){case"bct":L[I].x2+=R,L[I].y2+=U;case"qct":L[I].x1+=R,L[I].y1+=U;case"mt":case"lt":case"arc":default:L[I].x+=R,L[I].y+=U}return L},b=function(L){return L.sort(function(R,U){return R-U})},N=function(L,R){for(var U,I,X=this.fillStyle,V=this.strokeStyle,ee=this.lineCap,G=this.lineWidth,ue=Math.abs(G*this.ctx.transform.scaleX),ve=this.lineJoin,q=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),He=[],Ae=0;Ae<Me.length;Ae++)if(Me[Ae].x!==void 0)for(var le=x.call(this,Me[Ae]),De=0;De<le.length;De+=1)He.indexOf(le[De])===-1&&He.push(le[De]);for(var Je=0;Je<He.length;Je++)for(;this.pdf.internal.getNumberOfPages()<He[Je];)v.call(this);if(b(He),this.autoPaging)for(var Ve=He[0],ye=He[He.length-1],ge=Ve;ge<ye+1;ge++){this.pdf.setPage(ge),this.fillStyle=X,this.strokeStyle=V,this.lineCap=ee,this.lineWidth=ue,this.lineJoin=ve;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=ge===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=ge===1?0:ut+(ge-2)*bt;if(this.ctx.clip_path.length!==0){var At=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(U,this.posX+this.margin[3],-St+tt+this.ctx.prevPageLastElemOffset),S.call(this,L,!0),this.path=At}if(I=JSON.parse(JSON.stringify(q)),this.path=y(I,this.posX+this.margin[3],-St+tt+this.ctx.prevPageLastElemOffset),R===!1||ge===0){var Ft=(ge>Ve||ge<ye)&&g.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,bt,null).clip().discardPath()),S.call(this,L,R),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=ue,S.call(this,L,R),this.lineWidth=G;this.path=q},S=function(L,R){if((L!=="stroke"||R||!p.call(this))&&(L==="stroke"||R||!m.call(this))){for(var U,I,X=[],V=this.path,ee=0;ee<V.length;ee++){var G=V[ee];switch(G.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:G,deltas:[],abs:[]});break;case"lt":var ue=X.length;if(V[ee-1]&&!isNaN(V[ee-1].x)&&(U=[G.x-V[ee-1].x,G.y-V[ee-1].y],ue>0)){for(;ue>=0;ue--)if(X[ue-1].close!==!0&&X[ue-1].begin!==!0){X[ue-1].deltas.push(U),X[ue-1].abs.push(G);break}}break;case"bct":U=[G.x1-V[ee-1].x,G.y1-V[ee-1].y,G.x2-V[ee-1].x,G.y2-V[ee-1].y,G.x-V[ee-1].x,G.y-V[ee-1].y],X[X.length-1].deltas.push(U);break;case"qct":var ve=V[ee-1].x+2/3*(G.x1-V[ee-1].x),q=V[ee-1].y+2/3*(G.y1-V[ee-1].y),Me=G.x+2/3*(G.x1-G.x),He=G.y+2/3*(G.y1-G.y),Ae=G.x,le=G.y;U=[ve-V[ee-1].x,q-V[ee-1].y,Me-V[ee-1].x,He-V[ee-1].y,Ae-V[ee-1].x,le-V[ee-1].y],X[X.length-1].deltas.push(U);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(G)}}I=R?null:L==="stroke"?"stroke":"fill";for(var De=!1,Je=0;Je<X.length;Je++)if(X[Je].arc)for(var Ve=X[Je].abs,ye=0;ye<Ve.length;ye++){var ge=Ve[ye];ge.type==="arc"?C.call(this,ge.x,ge.y,ge.radius,ge.startAngle,ge.endAngle,ge.counterclockwise,void 0,R,!De):H.call(this,ge.x,ge.y),De=!0}else if(X[Je].close===!0)this.pdf.internal.out("h"),De=!1;else if(X[Je].begin!==!0){var ze=X[Je].start.x,tt=X[Je].start.y;K.call(this,X[Je].deltas,ze,tt),De=!0}I&&E.call(this,I),R&&F.call(this)}},A=function(L){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-U;case"top":return L+R-U;case"hanging":return L+R-2*U;case"middle":return L+R/2-U;case"ideographic":return L;case"alphabetic":default:return L}},j=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(R,U){this.colorStops.push([R,U])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(L,R,U,I,X,V,ee,G,ue){for(var ve=M.call(this,U,I,X,V),q=0;q<ve.length;q++){var Me=ve[q];q===0&&(ue?O.call(this,Me.x1+L,Me.y1+R):H.call(this,Me.x1+L,Me.y1+R)),se.call(this,L,R,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}G?F.call(this):E.call(this,ee)},E=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(L,R){this.pdf.internal.out(r(L)+" "+n(R)+" m")},T=function(L){var R;switch(L.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var U=this.pdf.getTextDimensions(L.text),I=A.call(this,L.y),X=j.call(this,I)-U.h,V=this.ctx.transform.applyToPoint(new i(L.x,I)),ee=this.ctx.transform.decompose(),G=new c;G=(G=(G=G.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var ue,ve,q,Me=this.ctx.transform.applyToRectangle(new o(L.x,I,U.w,U.h)),He=G.applyToRectangle(new o(L.x,X,U.w,U.h)),Ae=x.call(this,He),le=[],De=0;De<Ae.length;De+=1)le.indexOf(Ae[De])===-1&&le.push(Ae[De]);if(b(le),this.autoPaging)for(var Je=le[0],Ve=le[le.length-1],ye=Je;ye<Ve+1;ye++){this.pdf.setPage(ye);var ge=ye===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],ut=tt-this.margin[0],bt=this.pdf.internal.pageSize.width-this.margin[1],St=bt-this.margin[3],At=ye===1?0:ze+(ye-2)*ut;if(this.ctx.clip_path.length!==0){var Ft=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ue,this.posX+this.margin[3],-1*At+ge),S.call(this,"fill",!0),this.path=Ft}var xt=y([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-At+ge+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*L.scale),q=this.lineWidth,this.lineWidth=q*L.scale);var st=this.autoPaging!=="text";if(st||xt.y+xt.h<=tt){if(st||xt.y>=ge&&xt.x<=bt){var rt=st?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||bt-xt.x)[0],ar=y([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-At+ge+this.ctx.prevPageLastElemOffset)[0],_t=st&&(ye>Je||ye<Ve)&&g.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,ut,null).clip().discardPath()),this.pdf.text(rt,ar.x,ar.y,{angle:L.angle,align:R,renderingMode:L.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else xt.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-xt.y);L.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=q)}else L.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*L.scale),q=this.lineWidth,this.lineWidth=q*L.scale),this.pdf.text(L.text,V.x+this.posX,V.y+this.posY,{angle:L.angle,align:R,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=q)},H=function(L,R,U,I){U=U||0,I=I||0,this.pdf.internal.out(r(L+U)+" "+n(R+I)+" l")},K=function(L,R,U){return this.pdf.lines(L,R,U,null,null)},se=function(L,R,U,I,X,V,ee,G){this.pdf.internal.out([t(a(U+L)),t(s(I+R)),t(a(X+L)),t(s(V+R)),t(a(ee+L)),t(s(G+R)),"c"].join(" "))},M=function(L,R,U,I){for(var X=2*Math.PI,V=Math.PI/2;R>U;)R-=X;var ee=Math.abs(U-R);ee<X&&I&&(ee=X-ee);for(var G=[],ue=I?-1:1,ve=R;ee>1e-5;){var q=ve+ue*Math.min(ee,V);G.push(B.call(this,L,ve,q)),ee-=Math.abs(q-ve),ve=q}return G},B=function(L,R,U){var I=(U-R)/2,X=L*Math.cos(I),V=L*Math.sin(I),ee=X,G=-V,ue=ee*ee+G*G,ve=ue+ee*X+G*V,q=4/3*(Math.sqrt(2*ue*ve)-ve)/(ee*V-G*X),Me=ee-q*G,He=G+q*ee,Ae=Me,le=-He,De=I+R,Je=Math.cos(De),Ve=Math.sin(De);return{x1:L*Math.cos(R),y1:L*Math.sin(R),x2:Me*Je-He*Ve,y2:Me*Ve+He*Je,x3:Ae*Je-le*Ve,y3:Ae*Ve+le*Je,x4:L*Math.cos(U),y4:L*Math.sin(U)}},Y=function(L){return 180*L/Math.PI},z=function(L,R,U,I,X,V){var ee=L+.5*(U-L),G=R+.5*(I-R),ue=X+.5*(U-X),ve=V+.5*(I-V),q=Math.min(L,X,ee,ue),Me=Math.max(L,X,ee,ue),He=Math.min(R,V,G,ve),Ae=Math.max(R,V,G,ve);return new o(q,He,Me-q,Ae-He)},Q=function(L,R,U,I,X,V,ee,G){var ue,ve,q,Me,He,Ae,le,De,Je,Ve,ye,ge,ze,tt,ut=U-L,bt=I-R,St=X-U,At=V-I,Ft=ee-X,xt=G-V;for(ve=0;ve<41;ve++)Je=(le=(q=L+(ue=ve/40)*ut)+ue*((He=U+ue*St)-q))+ue*(He+ue*(X+ue*Ft-He)-le),Ve=(De=(Me=R+ue*bt)+ue*((Ae=I+ue*At)-Me))+ue*(Ae+ue*(V+ue*xt-Ae)-De),ve==0?(ye=Je,ge=Ve,ze=Je,tt=Ve):(ye=Math.min(ye,Je),ge=Math.min(ge,Ve),ze=Math.max(ze,Je),tt=Math.max(tt,Ve));return new o(Math.round(ye),Math.round(ge),Math.round(ze-ye),Math.round(tt-ge))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,R,U=(L=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:R}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Et.API),function(e){var t=function(s){var i,o,c,u,d,f,h,m,p,g;for(o=[],c=0,u=(s+=i="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)%85,o.push(f+33,h+33,m+33,p+33,g+33)):o.push(122);return function(x,v){for(var y=v;y>0;y--)x.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var i,o,c,u,d,f=String,h="length",m=255,p="charCodeAt",g="slice",x="replace";for(s[g](-2),s=s[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(s+=i="uuuuu"[g](s[h]%5||5))[h];d>u;u+=5)o=52200625*(s[p](u)-33)+614125*(s[p](u+1)-33)+7225*(s[p](u+2)-33)+85*(s[p](u+3)-33)+(s[p](u+4)-33),c.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(v,y){for(var b=y;b>0;b--)v.pop()}(c,i[h]),f.fromCharCode.apply(f,c)},n=function(s){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),i.test(s)===!1)return"";for(var o="",c=0;c<s.length;c+=2)o+=String.fromCharCode("0x"+(s[c]+s[c+1]));return o},a=function(s){for(var i=new Uint8Array(s.length),o=s.length;o--;)i[o]=s.charCodeAt(o);return s=(i=WN(i)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,i){var o=0,c=s||"",u=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Et.API),function(e){e.loadFile=function(t,r,n){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(c,u,d){var f=new XMLHttpRequest,h=0,m=function(p){var g=p.length,x=[],v=String.fromCharCode;for(h=0;h<g;h+=1)x.push(v(255&p.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,s,i)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Et.API),function(e){function t(){return(Rt.html2canvas?Promise.resolve(Rt.html2canvas):qy(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(Rt.DOMPurify?Promise.resolve(Rt.DOMPurify):qy(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=_r(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(i,o){var c=document.createElement(i);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},s=function i(o){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),u=i.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,i,1,[i])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(i,o){return i.__proto__=o||s.prototype,i},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},s.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],p=m.src.find(function(g){return g.format==="truetype"});p&&c.addFont(p.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(i,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},s.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},s.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},s.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(i,o){return this.then(function(){var c=i in s.template.prop?this.prop[i]:this.opt[i];return o?o(c):c})},s.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},s.prototype.setPageSize=function(i){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(i=i||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},s.prototype.setProgress=function(i,o,c,u){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(i,o,c,u){return this.setProgress(i?this.progress.val+i:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(i,o){var c=this;return this.thenCore(i,o,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},s.prototype.thenCore=function(i,o,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(u,i,o);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},s.prototype.thenList=function(i){var o=this;return i.forEach(function(c){o=o.thenCore(c)}),o},s.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return s.convert(o,this)},s.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},s.prototype.error=function(i){return this.then(function(){throw new Error(i)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Et.getPageSize=function(i,o,c){if(_r(i)==="object"){var u=i;i=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var m,p=0,g=0;if(h.hasOwnProperty(f))p=h[f][1]/d,g=h[f][0]/d;else try{p=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",g>p&&(m=g,g=p,p=m);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",p>g&&(m=g,g=p,p=m)}return{width:g,height:p,unit:o,k:d,orientation:i}},e.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(YN):null;var c=new s(o);return o.worker?c:c.from(i).doCallback()}}(Et.API),Et.API.addJS=function(e){return d8=e,this.internal.events.subscribe("postPutResources",function(){iv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(iv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),u8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+d8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){iv!==void 0&&u8!==void 0&&this.internal.out("/Names <</JavaScript "+iv+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],o=n.exec(i);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var c=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(Et.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,i,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),p=f.length,g={width:0,height:0,numcomponents:1},x=4;x<p;x+=2){if(x+=m,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}m=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Et.API);var ff,ov,f8,h8,m8,ufe=function(){var e,t,r;function n(s){var i,o,c,u,d,f,h,m,p,g,x,v,y,b;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(i=this.readUInt32(),p=(function(){var N,S;for(S=[],N=0;N<4;++N)S.push(String.fromCharCode(this.data[this.pos++]));return S}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,i-=4),s=(f!=null?f.data:void 0)||this.imgData,v=0;0<=i?v<i:v>i;0<=i?++v:--v)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":h=(x=this.read(i)).indexOf(0),m=String.fromCharCode.apply(String,x.slice(0,h)),this.text[m]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var i,o;for(o=[],i=0;0<=s?i<s:i>s;0<=s?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,h,m,p){var g,x,v,y,b,N,S,A,j,C,E,F,O,T,H,K,se,M,B,Y,z,Q=Math.ceil((u.width-f)/m),de=Math.ceil((u.height-h)/p),L=u.width==Q&&u.height==de;for(T=i*Q,F=L?o:new Uint8Array(T*de),N=s.length,O=0,x=0;O<de&&c<N;){switch(s[c++]){case 0:for(y=se=0;se<T;y=se+=1)F[x++]=s[c++];break;case 1:for(y=M=0;M<T;y=M+=1)g=s[c++],b=y<i?0:F[x-i],F[x++]=(g+b)%256;break;case 2:for(y=B=0;B<T;y=B+=1)g=s[c++],v=(y-y%i)/i,H=O&&F[(O-1)*T+v*i+y%i],F[x++]=(H+g)%256;break;case 3:for(y=Y=0;Y<T;y=Y+=1)g=s[c++],v=(y-y%i)/i,b=y<i?0:F[x-i],H=O&&F[(O-1)*T+v*i+y%i],F[x++]=(g+Math.floor((b+H)/2))%256;break;case 4:for(y=z=0;z<T;y=z+=1)g=s[c++],v=(y-y%i)/i,b=y<i?0:F[x-i],O===0?H=K=0:(H=F[(O-1)*T+v*i+y%i],K=v&&F[(O-1)*T+(v-1)*i+y%i]),S=b+H-K,A=Math.abs(S-b),C=Math.abs(S-H),E=Math.abs(S-K),j=A<=C&&A<=E?b:C<=E?H:K,F[x++]=(g+j)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!L){var R=((h+O*p)*u.width+f)*i,U=O*T;for(y=0;y<Q;y+=1){for(var I=0;I<i;I+=1)o[R++]=F[U++];R+=(m-1)*i}}O++}}return s=U0e(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var s,i,o,c,u,d,f,h,m;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),c=0,s=0,i=f=0,h=o.length;f<h;i=f+=3)u[c++]=o[i],u[c++]=o[i+1],u[c++]=o[i+2],u[c++]=(m=d[s++])!=null?m:255;return u},n.prototype.copyToImageData=function(s,i){var o,c,u,d,f,h,m,p,g,x,v;if(c=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,o=!0),p=(u=s.data||s).length,f=g||i,d=h=0,c===1)for(;d<p;)m=g?4*i[d/4]:h,x=f[m++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=o?f[m++]:255,h=m;else for(;d<p;)m=g?4*i[d/4]:h,u[d++]=f[m++],u[d++]=f[m++],u[d++]=f[m++],u[d++]=o?f[m++]:255,h=m},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(Rt)==="[object Window]"){try{t=Rt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var i;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var i,o,c,u,d,f,h,m;if(this.animation){for(m=[],o=d=0,f=(h=this.animation.frames).length;d<f;o=++d)i=h[o],c=s.createImageData(i.width,i.height),u=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,u),i.imageData=c,m.push(i.image=e(c));return m}},n.prototype.renderFrame=function(s,i){var o,c,u;return o=(c=this.animation.frames)[i],u=c[i-1],i===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var i,o,c,u,d,f,h=this;return o=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(i=function(){var m,p;if(m=o++%u,p=c[m],h.renderFrame(s,m),u>1&&o/u<d)return h.animation._timeout=setTimeout(i,p.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var i,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,i=s.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function dfe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<(7&a)+1;e[t++],e[t++];var o=null,c=null;s&&(o=t,c=i,t+=3*i);var u=!0,d=[],f=0,h=null,m=0,p=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&g)&&(h=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,N=e[t++],S=N>>6&1,A=1<<(7&N)+1,j=o,C=c,E=!1;N>>7&&(E=!0,j=t,C=A,t+=3*A);var F=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}d.push({x,y:v,width:y,height:b,has_local_palette:E,palette_offset:j,palette_size:C,data_offset:F,data_length:t-F,transparent_index:h,interlaced:!!S,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,H){var K=this.frameInfo(T),se=K.width*K.height,M=new Uint8Array(se);p8(e,K.data_offset,M,se);var B=K.palette_offset,Y=K.transparent_index;Y===null&&(Y=256);var z=K.width,Q=r-z,de=z,L=4*(K.y*r+K.x),R=4*((K.y+K.height)*r+K.x),U=L,I=4*Q;K.interlaced===!0&&(I+=4*r*7);for(var X=8,V=0,ee=M.length;V<ee;++V){var G=M[V];if(de===0&&(de=z,(U+=I)>=R&&(I=4*Q+4*r*(X-1),U=L+(z+Q)*(X<<1),X>>=1)),G===Y)U+=4;else{var ue=e[B+3*G],ve=e[B+3*G+1],q=e[B+3*G+2];H[U++]=q,H[U++]=ve,H[U++]=ue,H[U++]=255}--de}},this.decodeAndBlitFrameRGBA=function(T,H){var K=this.frameInfo(T),se=K.width*K.height,M=new Uint8Array(se);p8(e,K.data_offset,M,se);var B=K.palette_offset,Y=K.transparent_index;Y===null&&(Y=256);var z=K.width,Q=r-z,de=z,L=4*(K.y*r+K.x),R=4*((K.y+K.height)*r+K.x),U=L,I=4*Q;K.interlaced===!0&&(I+=4*r*7);for(var X=8,V=0,ee=M.length;V<ee;++V){var G=M[V];if(de===0&&(de=z,(U+=I)>=R&&(I=4*Q+4*r*(X-1),U=L+(z+Q)*(X<<1),X>>=1)),G===Y)U+=4;else{var ue=e[B+3*G],ve=e[B+3*G+1],q=e[B+3*G+2];H[U++]=ue,H[U++]=ve,H[U++]=q,H[U++]=255}--de}}}function p8(e,t,r,n){for(var a=e[t++],s=1<<a,i=s+1,o=i+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,m=e[t++],p=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==s){if(x===i)break;for(var v=x<o?x:g,y=0,b=v;b>s;)b=p[b]>>8,++y;var N=b;if(h+y+(v!==x?1:0)>n)return void Fr.log("Warning, gif stream longer than expected.");r[h++]=N;var S=h+=y;for(v!==x&&(r[h++]=N),b=v;y--;)b=p[b],r[--S]=255&b,b>>=8;g!==null&&o<4096&&(p[o++]=g<<8|N,o>=u+1&&c<12&&(++c,u=u<<1|1)),g=x}else o=i+1,u=(1<<(c=a+1))-1,g=null}return h!==n&&Fr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Tk(e){var t,r,n,a,s,i=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),p=new Array(64),g=[],x=0,v=7,y=new Array(64),b=new Array(64),N=new Array(64),S=new Array(256),A=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(L,R){for(var U=0,I=0,X=new Array,V=1;V<=16;V++){for(var ee=1;ee<=L[V];ee++)X[R[I]]=[],X[R[I]][0]=U,X[R[I]][1]=V,I++,U++;U*=2}return X}function B(L){for(var R=L[0],U=L[1]-1;U>=0;)R&1<<U&&(x|=1<<v),U--,--v<0&&(x==255?(Y(255),Y(0)):Y(x),v=7,x=0)}function Y(L){g.push(L)}function z(L){Y(L>>8&255),Y(255&L)}function Q(L,R,U,I,X){for(var V,ee=X[0],G=X[240],ue=function(Ve,ye){var ge,ze,tt,ut,bt,St,At,Ft,xt,st,rt=0;for(xt=0;xt<8;++xt){ge=Ve[rt],ze=Ve[rt+1],tt=Ve[rt+2],ut=Ve[rt+3],bt=Ve[rt+4],St=Ve[rt+5],At=Ve[rt+6];var ar=ge+(Ft=Ve[rt+7]),_t=ge-Ft,$r=ze+At,rr=ze-At,gr=tt+St,Is=tt-St,nr=ut+bt,Oi=ut-bt,be=ar+nr,Dt=ar-nr,Ot=$r+gr,It=$r-gr;Ve[rt]=be+Ot,Ve[rt+4]=be-Ot;var jt=.707106781*(It+Dt);Ve[rt+2]=Dt+jt,Ve[rt+6]=Dt-jt;var qt=.382683433*((be=Oi+Is)-(It=rr+_t)),ra=.5411961*be+qt,Ge=1.306562965*It+qt,xr=.707106781*(Ot=Is+rr),xs=_t+xr,Pt=_t-xr;Ve[rt+5]=Pt+ra,Ve[rt+3]=Pt-ra,Ve[rt+1]=xs+Ge,Ve[rt+7]=xs-Ge,rt+=8}for(rt=0,xt=0;xt<8;++xt){ge=Ve[rt],ze=Ve[rt+8],tt=Ve[rt+16],ut=Ve[rt+24],bt=Ve[rt+32],St=Ve[rt+40],At=Ve[rt+48];var vs=ge+(Ft=Ve[rt+56]),jn=ge-Ft,pa=ze+At,Wr=ze-At,vr=tt+St,te=tt-St,he=ut+bt,oe=ut-bt,ce=vs+he,me=vs-he,pe=pa+vr,Ce=pa-vr;Ve[rt]=ce+pe,Ve[rt+32]=ce-pe;var Be=.707106781*(Ce+me);Ve[rt+16]=me+Be,Ve[rt+48]=me-Be;var Te=.382683433*((ce=oe+te)-(Ce=Wr+jn)),Le=.5411961*ce+Te,Ie=1.306562965*Ce+Te,et=.707106781*(pe=te+Wr),ot=jn+et,mt=jn-et;Ve[rt+40]=mt+Le,Ve[rt+24]=mt-Le,Ve[rt+8]=ot+Ie,Ve[rt+56]=ot-Ie,rt++}for(xt=0;xt<64;++xt)st=Ve[xt]*ye[xt],m[xt]=st>0?st+.5|0:st-.5|0;return m}(L,R),ve=0;ve<64;++ve)p[j[ve]]=ue[ve];var q=p[0]-U;U=p[0],q==0?B(I[0]):(B(I[h[V=32767+q]]),B(f[V]));for(var Me=63;Me>0&&p[Me]==0;)Me--;if(Me==0)return B(ee),U;for(var He,Ae=1;Ae<=Me;){for(var le=Ae;p[Ae]==0&&Ae<=Me;)++Ae;var De=Ae-le;if(De>=16){He=De>>4;for(var Je=1;Je<=He;++Je)B(G);De&=15}V=32767+p[Ae],B(X[(De<<4)+h[V]]),B(f[V]),Ae++}return Me!=63&&B(ee),U}function de(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(R){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],I=0;I<64;I++){var X=i((U[I]*R+50)/100);X=Math.min(Math.max(X,1),255),o[j[I]]=X}for(var V=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var G=i((V[ee]*R+50)/100);G=Math.min(Math.max(G,1),255),c[j[ee]]=G}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,q=0;q<8;q++)for(var Me=0;Me<8;Me++)u[ve]=1/(o[j[ve]]*ue[q]*ue[Me]*8),d[ve]=1/(c[j[ve]]*ue[q]*ue[Me]*8),ve++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,R){R&&de(R),g=new Array,x=0,v=7,z(65496),z(65504),z(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),z(1),z(1),Y(0),Y(0),function(){z(65499),z(132),Y(0);for(var ze=0;ze<64;ze++)Y(o[ze]);Y(1);for(var tt=0;tt<64;tt++)Y(c[tt])}(),function(ze,tt){z(65472),z(17),Y(8),z(tt),z(ze),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(L.width,L.height),function(){z(65476),z(418),Y(0);for(var ze=0;ze<16;ze++)Y(C[ze+1]);for(var tt=0;tt<=11;tt++)Y(E[tt]);Y(16);for(var ut=0;ut<16;ut++)Y(F[ut+1]);for(var bt=0;bt<=161;bt++)Y(O[bt]);Y(1);for(var St=0;St<16;St++)Y(T[St+1]);for(var At=0;At<=11;At++)Y(H[At]);Y(17);for(var Ft=0;Ft<16;Ft++)Y(K[Ft+1]);for(var xt=0;xt<=161;xt++)Y(se[xt])}(),z(65498),z(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var U=0,I=0,X=0;x=0,v=7,this.encode.displayName="_encode_";for(var V,ee,G,ue,ve,q,Me,He,Ae,le=L.data,De=L.width,Je=L.height,Ve=4*De,ye=0;ye<Je;){for(V=0;V<Ve;){for(ve=Ve*ye+V,Me=-1,He=0,Ae=0;Ae<64;Ae++)q=ve+(He=Ae>>3)*Ve+(Me=4*(7&Ae)),ye+He>=Je&&(q-=Ve*(ye+1+He-Je)),V+Me>=Ve&&(q-=V+Me-Ve+4),ee=le[q++],G=le[q++],ue=le[q++],y[Ae]=(A[ee]+A[G+256>>0]+A[ue+512>>0]>>16)-128,b[Ae]=(A[ee+768>>0]+A[G+1024>>0]+A[ue+1280>>0]>>16)-128,N[Ae]=(A[ee+1280>>0]+A[G+1536>>0]+A[ue+1792>>0]>>16)-128;U=Q(y,u,U,t,n),I=Q(b,d,I,r,a),X=Q(N,d,X,r,a),V+=32}ye+=8}if(v>=0){var ge=[];ge[1]=v+1,ge[0]=(1<<v+1)-1,B(ge)}return z(65497),new Uint8Array(g)},e=e||50,function(){for(var L=String.fromCharCode,R=0;R<256;R++)S[R]=L(R)}(),t=M(C,E),r=M(T,H),n=M(F,O),a=M(K,se),function(){for(var L=1,R=2,U=1;U<=15;U++){for(var I=L;I<R;I++)h[32767+I]=U,f[32767+I]=[],f[32767+I][1]=U,f[32767+I][0]=I;for(var X=-(R-1);X<=-L;X++)h[32767+X]=U,f[32767+X]=[],f[32767+X][1]=U,f[32767+X][0]=R-1+X;L<<=1,R<<=1}}(),function(){for(var L=0;L<256;L++)A[L]=19595*L,A[L+256>>0]=38470*L,A[L+512>>0]=7471*L+32768,A[L+768>>0]=-11059*L,A[L+1024>>0]=-21709*L,A[L+1280>>0]=32768*L+8421375,A[L+1536>>0]=-27439*L,A[L+1792>>0]=-5329*L}(),de(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ao(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function g8(e){function t(C){if(!C)throw Error("assert :P")}function r(C,E,F){for(var O=0;4>O;O++)if(C[E+O]!=F.charCodeAt(O))return!0;return!1}function n(C,E,F,O,T){for(var H=0;H<T;H++)C[E+H]=F[O+H]}function a(C,E,F,O){for(var T=0;T<O;T++)C[E+T]=F}function s(C){return new Int32Array(C)}function i(C,E){for(var F=[],O=0;O<C;O++)F.push(new E);return F}function o(C,E){var F=[];return function O(T,H,K){for(var se=K[H],M=0;M<se&&(T.push(K.length>H+1?[]:new E),!(K.length<H+1));M++)O(T[M],H+1,K)}(F,0,C),F}var c=function(){var C=this;function E(w,_){for(var D=1<<_-1>>>0;w&D;)D>>>=1;return D?(w&D-1)+D:w}function F(w,_,D,W,Z){t(!(W%D));do w[_+(W-=D)]=Z;while(0<W)}function O(w,_,D,W,Z){if(t(2328>=Z),512>=Z)var re=s(512);else if((re=s(Z))==null)return 0;return function(ne,ae,ie,fe,ke,Pe){var Oe,je,Ye=ae,Ue=1<<ie,Ne=s(16),Se=s(16);for(t(ke!=0),t(fe!=null),t(ne!=null),t(0<ie),je=0;je<ke;++je){if(15<fe[je])return 0;++Ne[fe[je]]}if(Ne[0]==ke)return 0;for(Se[1]=0,Oe=1;15>Oe;++Oe){if(Ne[Oe]>1<<Oe)return 0;Se[Oe+1]=Se[Oe]+Ne[Oe]}for(je=0;je<ke;++je)Oe=fe[je],0<fe[je]&&(Pe[Se[Oe]++]=je);if(Se[15]==1)return(fe=new T).g=0,fe.value=Pe[0],F(ne,Ye,1,Ue,fe),Ue;var qe,Ze=-1,Ke=Ue-1,gt=0,dt=1,Lt=1,ft=1<<ie;for(je=0,Oe=1,ke=2;Oe<=ie;++Oe,ke<<=1){if(dt+=Lt<<=1,0>(Lt-=Ne[Oe]))return 0;for(;0<Ne[Oe];--Ne[Oe])(fe=new T).g=Oe,fe.value=Pe[je++],F(ne,Ye+gt,ke,ft,fe),gt=E(gt,Oe)}for(Oe=ie+1,ke=2;15>=Oe;++Oe,ke<<=1){if(dt+=Lt<<=1,0>(Lt-=Ne[Oe]))return 0;for(;0<Ne[Oe];--Ne[Oe]){if(fe=new T,(gt&Ke)!=Ze){for(Ye+=ft,qe=1<<(Ze=Oe)-ie;15>Ze&&!(0>=(qe-=Ne[Ze]));)++Ze,qe<<=1;Ue+=ft=1<<(qe=Ze-ie),ne[ae+(Ze=gt&Ke)].g=qe+ie,ne[ae+Ze].value=Ye-ae-Ze}fe.g=Oe-ie,fe.value=Pe[je++],F(ne,Ye+(gt>>ie),ke,ft,fe),gt=E(gt,Oe)}}return dt!=2*Se[15]-1?0:Ue}(w,_,D,W,Z,re)}function T(){this.value=this.g=0}function H(){this.value=this.g=0}function K(){this.G=i(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Oa,H)}function se(w,_,D,W){t(w!=null),t(_!=null),t(2147483648>W),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=_,w.pa=D,w.Jd=_,w.Yc=D+W,w.Zc=4<=W?D+W-4+1:D,V(w)}function M(w,_){for(var D=0;0<_--;)D|=G(w,128)<<_;return D}function B(w,_){var D=M(w,_);return ee(w)?-D:D}function Y(w,_,D,W){var Z,re=0;for(t(w!=null),t(_!=null),t(4294967288>W),w.Sb=W,w.Ra=0,w.u=0,w.h=0,4<W&&(W=4),Z=0;Z<W;++Z)re+=_[D+Z]<<8*Z;w.Ra=re,w.bb=W,w.oa=_,w.pa=D}function z(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<X0-8>>>0,++w.bb,w.u-=8;U(w)&&(w.h=1,w.u=0)}function Q(w,_){if(t(0<=_),!w.h&&_<=Y0){var D=R(w)&K0[_];return w.u+=_,z(w),D}return w.h=1,w.u=0}function de(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(w){return w.Ra>>>(w.u&X0-1)>>>0}function U(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>X0}function I(w,_){w.u=_,w.h=U(w)}function X(w){w.u>=vm&&(t(w.u>=vm),z(w))}function V(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function ee(w){return M(w,1)}function G(w,_){var D=w.Ca;0>w.b&&V(w);var W=w.b,Z=D*_>>>8,re=(w.I>>>W>Z)+0;for(re?(D-=Z,w.I-=Z+1<<W>>>0):D=Z+1,W=D,Z=0;256<=W;)Z+=8,W>>=8;return W=7^Z+Rs[W],w.b-=W,w.Ca=(D<<W)-1,re}function ue(w,_,D){w[_+0]=D>>24&255,w[_+1]=D>>16&255,w[_+2]=D>>8&255,w[_+3]=D>>0&255}function ve(w,_){return w[_+0]<<0|w[_+1]<<8}function q(w,_){return ve(w,_)|w[_+2]<<16}function Me(w,_){return ve(w,_)|ve(w,_+2)<<16}function He(w,_){var D=1<<_;return t(w!=null),t(0<_),w.X=s(D),w.X==null?0:(w.Mb=32-_,w.Xa=_,1)}function Ae(w,_){t(w!=null),t(_!=null),t(w.Xa==_.Xa),n(_.X,0,w.X,0,1<<_.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function De(w,_,D,W){t(D!=null),t(W!=null);var Z=D[0],re=W[0];return Z==0&&(Z=(w*re+_/2)/_),re==0&&(re=(_*Z+w/2)/w),0>=Z||0>=re?0:(D[0]=Z,W[0]=re,1)}function Je(w,_){return w+(1<<_)-1>>>_}function Ve(w,_){return((4278255360&w)+(4278255360&_)>>>0&4278255360)+((16711935&w)+(16711935&_)>>>0&16711935)>>>0}function ye(w,_){C[_]=function(D,W,Z,re,ne,ae,ie){var fe;for(fe=0;fe<ne;++fe){var ke=C[w](ae[ie+fe-1],Z,re+fe);ae[ie+fe]=Ve(D[W+fe],ke)}}}function ge(){this.ud=this.hd=this.jd=0}function ze(w,_){return((4278124286&(w^_))>>>1)+(w&_)>>>0}function tt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function ut(w,_){return tt(w+(w-_+.5>>1))}function bt(w,_,D){return Math.abs(_-D)-Math.abs(w-D)}function St(w,_,D,W,Z,re,ne){for(W=re[ne-1],D=0;D<Z;++D)re[ne+D]=W=Ve(w[_+D],W)}function At(w,_,D,W,Z){var re;for(re=0;re<D;++re){var ne=w[_+re],ae=ne>>8&255,ie=16711935&(ie=(ie=16711935&ne)+((ae<<16)+ae));W[Z+re]=(4278255360&ne)+ie>>>0}}function Ft(w,_){_.jd=w>>0&255,_.hd=w>>8&255,_.ud=w>>16&255}function xt(w,_,D,W,Z,re){var ne;for(ne=0;ne<W;++ne){var ae=_[D+ne],ie=ae>>>8,fe=ae,ke=255&(ke=(ke=ae>>>16)+((w.jd<<24>>24)*(ie<<24>>24)>>>5));fe=255&(fe=(fe=fe+((w.hd<<24>>24)*(ie<<24>>24)>>>5))+((w.ud<<24>>24)*(ke<<24>>24)>>>5)),Z[re+ne]=(4278255360&ae)+(ke<<16)+fe}}function st(w,_,D,W,Z){C[_]=function(re,ne,ae,ie,fe,ke,Pe,Oe,je){for(ie=Pe;ie<Oe;++ie)for(Pe=0;Pe<je;++Pe)fe[ke++]=Z(ae[W(re[ne++])])},C[w]=function(re,ne,ae,ie,fe,ke,Pe){var Oe=8>>re.b,je=re.Ea,Ye=re.K[0],Ue=re.w;if(8>Oe)for(re=(1<<re.b)-1,Ue=(1<<Oe)-1;ne<ae;++ne){var Ne,Se=0;for(Ne=0;Ne<je;++Ne)Ne&re||(Se=W(ie[fe++])),ke[Pe++]=Z(Ye[Se&Ue]),Se>>=Oe}else C["VP8LMapColor"+D](ie,fe,Ye,Ue,ke,Pe,ne,ae,je)}}function rt(w,_,D,W,Z){for(D=_+D;_<D;){var re=w[_++];W[Z++]=re>>16&255,W[Z++]=re>>8&255,W[Z++]=re>>0&255}}function ar(w,_,D,W,Z){for(D=_+D;_<D;){var re=w[_++];W[Z++]=re>>16&255,W[Z++]=re>>8&255,W[Z++]=re>>0&255,W[Z++]=re>>24&255}}function _t(w,_,D,W,Z){for(D=_+D;_<D;){var re=(ne=w[_++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;W[Z++]=re,W[Z++]=ne}}function $r(w,_,D,W,Z){for(D=_+D;_<D;){var re=(ne=w[_++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;W[Z++]=re,W[Z++]=ne}}function rr(w,_,D,W,Z){for(D=_+D;_<D;){var re=w[_++];W[Z++]=re>>0&255,W[Z++]=re>>8&255,W[Z++]=re>>16&255}}function gr(w,_,D,W,Z,re){if(re==0)for(D=_+D;_<D;)ue(W,((re=w[_++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Z+=32;else n(W,Z,w,_,D)}function Is(w,_){C[_][0]=C[w+"0"],C[_][1]=C[w+"1"],C[_][2]=C[w+"2"],C[_][3]=C[w+"3"],C[_][4]=C[w+"4"],C[_][5]=C[w+"5"],C[_][6]=C[w+"6"],C[_][7]=C[w+"7"],C[_][8]=C[w+"8"],C[_][9]=C[w+"9"],C[_][10]=C[w+"10"],C[_][11]=C[w+"11"],C[_][12]=C[w+"12"],C[_][13]=C[w+"13"],C[_][14]=C[w+"0"],C[_][15]=C[w+"0"]}function nr(w){return w==m5||w==p5||w==p1||w==g5}function Oi(){this.eb=[],this.size=this.A=this.fb=0}function be(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Oi,this.f.kb=new be,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function It(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function qt(w,_){var D=w.T,W=_.ba.f.RGBA,Z=W.eb,re=W.fb+w.ka*W.A,ne=Ri[_.ba.S],ae=w.y,ie=w.O,fe=w.f,ke=w.N,Pe=w.ea,Oe=w.W,je=_.cc,Ye=_.dc,Ue=_.Mc,Ne=_.Nc,Se=w.ka,qe=w.ka+w.T,Ze=w.U,Ke=Ze+1>>1;for(Se==0?ne(ae,ie,null,null,fe,ke,Pe,Oe,fe,ke,Pe,Oe,Z,re,null,null,Ze):(ne(_.ec,_.fc,ae,ie,je,Ye,Ue,Ne,fe,ke,Pe,Oe,Z,re-W.A,Z,re,Ze),++D);Se+2<qe;Se+=2)je=fe,Ye=ke,Ue=Pe,Ne=Oe,ke+=w.Rc,Oe+=w.Rc,re+=2*W.A,ne(ae,(ie+=2*w.fa)-w.fa,ae,ie,je,Ye,Ue,Ne,fe,ke,Pe,Oe,Z,re-W.A,Z,re,Ze);return ie+=w.fa,w.j+qe<w.o?(n(_.ec,_.fc,ae,ie,Ze),n(_.cc,_.dc,fe,ke,Ke),n(_.Mc,_.Nc,Pe,Oe,Ke),D--):1&qe||ne(ae,ie,null,null,fe,ke,Pe,Oe,fe,ke,Pe,Oe,Z,re+W.A,null,null,Ze),D}function ra(w,_,D){var W=w.F,Z=[w.J];if(W!=null){var re=w.U,ne=_.ba.S,ae=ne==m1||ne==p1;_=_.ba.f.RGBA;var ie=[0],fe=w.ka;ie[0]=w.T,w.Kb&&(fe==0?--ie[0]:(--fe,Z[0]-=w.width),w.j+w.ka+w.T==w.o&&(ie[0]=w.o-w.j-fe));var ke=_.eb;fe=_.fb+fe*_.A,w=Rr(W,Z[0],w.width,re,ie,ke,fe+(ae?0:3),_.A),t(D==ie),w&&nr(ne)&&Ii(ke,fe,ae,re,ie,_.A)}return 0}function Ge(w){var _=w.ma,D=_.ba.S,W=11>D,Z=D==f1||D==h1||D==m1||D==h5||D==12||nr(D);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!gm(_.Oa,w,Z?11:12))return 0;if(Z&&nr(D)&&Qe(),w.da)alert("todo:use_scaling");else{if(W){if(_.Ib=jt,w.Kb){if(D=w.U+1>>1,_.memory=s(w.U+2*D),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+w.U,_.Mc=_.cc,_.Nc=_.dc+D,_.Ib=qt,Qe()}}else alert("todo:EmitYUV");Z&&(_.Jb=ra,W&&_e())}if(W&&!RE){for(w=0;256>w;++w)tK[w]=89858*(w-128)+x1>>g1,aK[w]=-22014*(w-128)+x1,nK[w]=-45773*(w-128),rK[w]=113618*(w-128)+x1>>g1;for(w=jm;w<y5;++w)_=76283*(w-16)+x1>>g1,sK[w-jm]=oi(_,255),iK[w-jm]=oi(_+8>>4,15);RE=1}return 1}function xr(w){var _=w.ma,D=w.U,W=w.T;return t(!(1&w.ka)),0>=D||0>=W?0:(D=_.Ib(w,_),_.Jb!=null&&_.Jb(w,_,D),_.Dc+=D,1)}function xs(w){w.ma.memory=null}function Pt(w,_,D,W){return Q(w,8)!=47?0:(_[0]=Q(w,14)+1,D[0]=Q(w,14)+1,W[0]=Q(w,1),Q(w,3)!=0?0:!w.h)}function vs(w,_){if(4>w)return w+1;var D=w-2>>1;return(2+(1&w)<<D)+Q(_,D)+1}function jn(w,_){return 120<_?_-120:1<=(D=((D=UG[_-1])>>4)*w+(8-(15&D)))?D:1;var D}function pa(w,_,D){var W=R(D),Z=w[_+=255&W].g-8;return 0<Z&&(I(D,D.u+8),W=R(D),_+=w[_].value,_+=W&(1<<Z)-1),I(D,D.u+w[_].g),w[_].value}function Wr(w,_,D){return D.g+=w.g,D.value+=w.value<<_>>>0,t(8>=D.g),w.g}function vr(w,_,D){var W=w.xc;return t((_=W==0?0:w.vc[w.md*(D>>W)+(_>>W)])<w.Wb),w.Ya[_]}function te(w,_,D,W){var Z=w.ab,re=w.c*_,ne=w.C;_=ne+_;var ae=D,ie=W;for(W=w.Ta,D=w.Ua;0<Z--;){var fe=w.gc[Z],ke=ne,Pe=_,Oe=ae,je=ie,Ye=(ie=W,ae=D,fe.Ea);switch(t(ke<Pe),t(Pe<=fe.nc),fe.hc){case 2:s1(Oe,je,(Pe-ke)*Ye,ie,ae);break;case 0:var Ue=ke,Ne=Pe,Se=ie,qe=ae,Ze=(ft=fe).Ea;Ue==0&&(d5(Oe,je,null,null,1,Se,qe),St(Oe,je+1,0,0,Ze-1,Se,qe+1),je+=Ze,qe+=Ze,++Ue);for(var Ke=1<<ft.b,gt=Ke-1,dt=Je(Ze,ft.b),Lt=ft.K,ft=ft.w+(Ue>>ft.b)*dt;Ue<Ne;){var mr=Lt,wr=ft,or=1;for(ym(Oe,je,Se,qe-Ze,1,Se,qe);or<Ze;){var tr=(or&~gt)+Ke;tr>Ze&&(tr=Ze),(0,$c[mr[wr++]>>8&15])(Oe,je+ +or,Se,qe+or-Ze,tr-or,Se,qe+or),or=tr}je+=Ze,qe+=Ze,++Ue&gt||(ft+=dt)}Pe!=fe.nc&&n(ie,ae-Ye,ie,ae+(Pe-ke-1)*Ye,Ye);break;case 1:for(Ye=Oe,Ne=je,Ze=(Oe=fe.Ea)-(qe=Oe&~(Se=(je=1<<fe.b)-1)),Ue=Je(Oe,fe.b),Ke=fe.K,fe=fe.w+(ke>>fe.b)*Ue;ke<Pe;){for(gt=Ke,dt=fe,Lt=new ge,ft=Ne+qe,mr=Ne+Oe;Ne<ft;)Ft(gt[dt++],Lt),hd(Lt,Ye,Ne,je,ie,ae),Ne+=je,ae+=je;Ne<mr&&(Ft(gt[dt++],Lt),hd(Lt,Ye,Ne,Ze,ie,ae),Ne+=Ze,ae+=Ze),++ke&Se||(fe+=Ue)}break;case 3:if(Oe==ie&&je==ae&&0<fe.b){for(Ne=ie,Oe=Ye=ae+(Pe-ke)*Ye-(qe=(Pe-ke)*Je(fe.Ea,fe.b)),je=ie,Se=ae,Ue=[],qe=(Ze=qe)-1;0<=qe;--qe)Ue[qe]=je[Se+qe];for(qe=Ze-1;0<=qe;--qe)Ne[Oe+qe]=Ue[qe];Li(fe,ke,Pe,ie,Ye,ie,ae)}else Li(fe,ke,Pe,Oe,je,ie,ae)}ae=W,ie=D}ie!=D&&n(W,D,ae,ie,re)}function he(w,_){var D=w.V,W=w.Ba+w.c*w.C,Z=_-w.C;if(t(_<=w.l.o),t(16>=Z),0<Z){var re=w.l,ne=w.Ta,ae=w.Ua,ie=re.width;if(te(w,Z,D,W),Z=ae=[ae],t((D=w.C)<(W=_)),t(re.v<re.va),W>re.o&&(W=re.o),D<re.j){var fe=re.j-D;D=re.j,Z[0]+=fe*ie}if(D>=W?D=0:(Z[0]+=4*re.v,re.ka=D-re.j,re.U=re.va-re.v,re.T=W-D,D=1),D){if(ae=ae[0],11>(D=w.ca).S){var ke=D.f.RGBA,Pe=(W=D.S,Z=re.U,re=re.T,fe=ke.eb,ke.A),Oe=re;for(ke=ke.fb+w.Ma*ke.A;0<Oe--;){var je=ne,Ye=ae,Ue=Z,Ne=fe,Se=ke;switch(W){case d1:Bs(je,Ye,Ue,Ne,Se);break;case f1:ys(je,Ye,Ue,Ne,Se);break;case m5:ys(je,Ye,Ue,Ne,Se),Ii(Ne,Se,0,Ue,1,0);break;case CE:Ul(je,Ye,Ue,Ne,Se);break;case h1:gr(je,Ye,Ue,Ne,Se,1);break;case p5:gr(je,Ye,Ue,Ne,Se,1),Ii(Ne,Se,0,Ue,1,0);break;case m1:gr(je,Ye,Ue,Ne,Se,0);break;case p1:gr(je,Ye,Ue,Ne,Se,0),Ii(Ne,Se,1,Ue,1,0);break;case h5:Wc(je,Ye,Ue,Ne,Se);break;case g5:Wc(je,Ye,Ue,Ne,Se),Mr(Ne,Se,Ue,1,0);break;case TE:zl(je,Ye,Ue,Ne,Se);break;default:t(0)}ae+=ie,ke+=Pe}w.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=D.height)}}w.C=_,t(w.C<=w.i)}function oe(w){var _;if(0<w.ua)return 0;for(_=0;_<w.Wb;++_){var D=w.Ya[_].G,W=w.Ya[_].H;if(0<D[1][W[1]+0].g||0<D[2][W[2]+0].g||0<D[3][W[3]+0].g)return 0}return 1}function ce(w,_,D,W,Z,re){if(w.Z!=0){var ne=w.qd,ae=w.rd;for(t(Gc[w.Z]!=null);_<D;++_)Gc[w.Z](ne,ae,W,Z,W,Z,re),ne=W,ae=Z,Z+=re;w.qd=ne,w.rd=ae}}function me(w,_){var D=w.l.ma,W=D.Z==0||D.Z==1?w.l.j:w.C;if(W=w.C<W?W:w.C,t(_<=w.l.o),_>W){var Z=w.l.width,re=D.ca,ne=D.tb+Z*W,ae=w.V,ie=w.Ba+w.c*W,fe=w.gc;t(w.ab==1),t(fe[0].hc==3),i1(fe[0],W,_,ae,ie,re,ne),ce(D,W,_,re,ne,Z)}w.C=w.Ma=_}function pe(w,_,D,W,Z,re,ne){var ae=w.$/W,ie=w.$%W,fe=w.m,ke=w.s,Pe=D+w.$,Oe=Pe;Z=D+W*Z;var je=D+W*re,Ye=280+ke.ua,Ue=w.Pb?ae:16777216,Ne=0<ke.ua?ke.Wa:null,Se=ke.wc,qe=Pe<je?vr(ke,ie,ae):null;t(w.C<re),t(je<=Z);var Ze=!1;e:for(;;){for(;Ze||Pe<je;){var Ke=0;if(ae>=Ue){var gt=Pe-D;t((Ue=w).Pb),Ue.wd=Ue.m,Ue.xd=gt,0<Ue.s.ua&&Ae(Ue.s.Wa,Ue.s.vb),Ue=ae+WG}if(ie&Se||(qe=vr(ke,ie,ae)),t(qe!=null),qe.Qb&&(_[Pe]=qe.qb,Ze=!0),!Ze)if(X(fe),qe.jc){Ke=fe,gt=_;var dt=Pe,Lt=qe.pd[R(Ke)&Oa-1];t(qe.jc),256>Lt.g?(I(Ke,Ke.u+Lt.g),gt[dt]=Lt.value,Ke=0):(I(Ke,Ke.u+Lt.g-256),t(256<=Lt.value),Ke=Lt.value),Ke==0&&(Ze=!0)}else Ke=pa(qe.G[0],qe.H[0],fe);if(fe.h)break;if(Ze||256>Ke){if(!Ze)if(qe.nd)_[Pe]=(qe.qb|Ke<<8)>>>0;else{if(X(fe),Ze=pa(qe.G[1],qe.H[1],fe),X(fe),gt=pa(qe.G[2],qe.H[2],fe),dt=pa(qe.G[3],qe.H[3],fe),fe.h)break;_[Pe]=(dt<<24|Ze<<16|Ke<<8|gt)>>>0}if(Ze=!1,++Pe,++ie>=W&&(ie=0,++ae,ne!=null&&ae<=re&&!(ae%16)&&ne(w,ae),Ne!=null))for(;Oe<Pe;)Ke=_[Oe++],Ne.X[(506832829*Ke&4294967295)>>>Ne.Mb]=Ke}else if(280>Ke){if(Ke=vs(Ke-256,fe),gt=pa(qe.G[4],qe.H[4],fe),X(fe),gt=jn(W,gt=vs(gt,fe)),fe.h)break;if(Pe-D<gt||Z-Pe<Ke)break e;for(dt=0;dt<Ke;++dt)_[Pe+dt]=_[Pe+dt-gt];for(Pe+=Ke,ie+=Ke;ie>=W;)ie-=W,++ae,ne!=null&&ae<=re&&!(ae%16)&&ne(w,ae);if(t(Pe<=Z),ie&Se&&(qe=vr(ke,ie,ae)),Ne!=null)for(;Oe<Pe;)Ke=_[Oe++],Ne.X[(506832829*Ke&4294967295)>>>Ne.Mb]=Ke}else{if(!(Ke<Ye))break e;for(Ze=Ke-280,t(Ne!=null);Oe<Pe;)Ke=_[Oe++],Ne.X[(506832829*Ke&4294967295)>>>Ne.Mb]=Ke;Ke=Pe,t(!(Ze>>>(gt=Ne).Xa)),_[Ke]=gt.X[Ze],Ze=!0}Ze||t(fe.h==U(fe))}if(w.Pb&&fe.h&&Pe<Z)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Ae(w.s.vb,w.s.Wa);else{if(fe.h)break e;ne!=null&&ne(w,ae>re?re:ae),w.a=0,w.$=Pe-D}return 1}return w.a=3,0}function Ce(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var _=w.Wa;_!=null&&(_.X=null),w.vb=null,t(w!=null)}function Be(){var w=new u5;return w==null?null:(w.a=0,w.xb=LE,Is("Predictor","VP8LPredictors"),Is("Predictor","VP8LPredictors_C"),Is("PredictorAdd","VP8LPredictorsAdd"),Is("PredictorAdd","VP8LPredictorsAdd_C"),s1=At,hd=xt,Bs=rt,ys=ar,Wc=_t,zl=$r,Ul=rr,C.VP8LMapColor32b=Z0,C.VP8LMapColor8b=o1,w)}function Te(w,_,D,W,Z){var re=1,ne=[w],ae=[_],ie=W.m,fe=W.s,ke=null,Pe=0;e:for(;;){if(D)for(;re&&Q(ie,1);){var Oe=ne,je=ae,Ye=W,Ue=1,Ne=Ye.m,Se=Ye.gc[Ye.ab],qe=Q(Ne,2);if(Ye.Oc&1<<qe)re=0;else{switch(Ye.Oc|=1<<qe,Se.hc=qe,Se.Ea=Oe[0],Se.nc=je[0],Se.K=[null],++Ye.ab,t(4>=Ye.ab),qe){case 0:case 1:Se.b=Q(Ne,3)+2,Ue=Te(Je(Se.Ea,Se.b),Je(Se.nc,Se.b),0,Ye,Se.K),Se.K=Se.K[0];break;case 3:var Ze,Ke=Q(Ne,8)+1,gt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(Oe[0]=Je(Se.Ea,gt),Se.b=gt,Ze=Ue=Te(Ke,1,0,Ye,Se.K)){var dt,Lt=Ke,ft=Se,mr=1<<(8>>ft.b),wr=s(mr);if(wr==null)Ze=0;else{var or=ft.K[0],tr=ft.w;for(wr[0]=ft.K[0][0],dt=1;dt<1*Lt;++dt)wr[dt]=Ve(or[tr+dt],wr[dt-1]);for(;dt<4*mr;++dt)wr[dt]=0;ft.K[0]=null,ft.K[0]=wr,Ze=1}}Ue=Ze;break;case 2:break;default:t(0)}re=Ue}}if(ne=ne[0],ae=ae[0],re&&Q(ie,1)&&!(re=1<=(Pe=Q(ie,4))&&11>=Pe)){W.a=3;break e}var Lr;if(Lr=re)t:{var Tr,Kt,Wn,zs=W,Hn=ne,Us=ae,kr=Pe,ci=D,ui=zs.m,xa=zs.s,La=[null],ws=1,Bi=0,tl=$G[kr];r:for(;;){if(ci&&Q(ui,1)){var va=Q(ui,3)+2,Vl=Je(Hn,va),vd=Je(Us,va),rf=Vl*vd;if(!Te(Vl,vd,0,zs,La))break r;for(La=La[0],xa.xc=va,Tr=0;Tr<rf;++Tr){var Kc=La[Tr]>>8&65535;La[Tr]=Kc,Kc>=ws&&(ws=Kc+1)}}if(ui.h)break r;for(Kt=0;5>Kt;++Kt){var pn=PE[Kt];!Kt&&0<kr&&(pn+=1<<kr),Bi<pn&&(Bi=pn)}var b5=i(ws*tl,T),UE=ws,$E=i(UE,K);if($E==null)var y1=null;else t(65536>=UE),y1=$E;var Am=s(Bi);if(y1==null||Am==null||b5==null){zs.a=1;break r}var b1=b5;for(Tr=Wn=0;Tr<ws;++Tr){var ko=y1[Tr],nf=ko.G,af=ko.H,WE=0,w1=1,HE=0;for(Kt=0;5>Kt;++Kt){pn=PE[Kt],nf[Kt]=b1,af[Kt]=Wn,!Kt&&0<kr&&(pn+=1<<kr);a:{var k1,w5=pn,N1=zs,_m=Am,cK=b1,uK=Wn,k5=0,Yc=N1.m,dK=Q(Yc,1);if(a(_m,0,0,w5),dK){var fK=Q(Yc,1)+1,hK=Q(Yc,1),VE=Q(Yc,hK==0?1:8);_m[VE]=1,fK==2&&(_m[VE=Q(Yc,8)]=1);var S1=1}else{var qE=s(19),GE=Q(Yc,4)+4;if(19<GE){N1.a=3;var j1=0;break a}for(k1=0;k1<GE;++k1)qE[zG[k1]]=Q(Yc,3);var N5=void 0,Em=void 0,KE=N1,mK=qE,A1=w5,YE=_m,S5=0,Xc=KE.m,XE=8,ZE=i(128,T);n:for(;O(ZE,0,7,mK,19);){if(Q(Xc,1)){var pK=2+2*Q(Xc,3);if((N5=2+Q(Xc,pK))>A1)break n}else N5=A1;for(Em=0;Em<A1&&N5--;){X(Xc);var JE=ZE[0+(127&R(Xc))];I(Xc,Xc.u+JE.g);var sf=JE.value;if(16>sf)YE[Em++]=sf,sf!=0&&(XE=sf);else{var gK=sf==16,QE=sf-16,xK=RG[QE],eC=Q(Xc,MG[QE])+xK;if(Em+eC>A1)break n;for(var vK=gK?XE:0;0<eC--;)YE[Em++]=vK}}S5=1;break n}S5||(KE.a=3),S1=S5}(S1=S1&&!Yc.h)&&(k5=O(cK,uK,8,_m,w5)),S1&&k5!=0?j1=k5:(N1.a=3,j1=0)}if(j1==0)break r;if(w1&&BG[Kt]==1&&(w1=b1[Wn].g==0),WE+=b1[Wn].g,Wn+=j1,3>=Kt){var Cm,j5=Am[0];for(Cm=1;Cm<pn;++Cm)Am[Cm]>j5&&(j5=Am[Cm]);HE+=j5}}if(ko.nd=w1,ko.Qb=0,w1&&(ko.qb=(nf[3][af[3]+0].value<<24|nf[1][af[1]+0].value<<16|nf[2][af[2]+0].value)>>>0,WE==0&&256>nf[0][af[0]+0].value&&(ko.Qb=1,ko.qb+=nf[0][af[0]+0].value<<8)),ko.jc=!ko.Qb&&6>HE,ko.jc){var _1,ql=ko;for(_1=0;_1<Oa;++_1){var Zc=_1,Jc=ql.pd[Zc],E1=ql.G[0][ql.H[0]+Zc];256<=E1.value?(Jc.g=E1.g+256,Jc.value=E1.value):(Jc.g=0,Jc.value=0,Zc>>=Wr(E1,8,Jc),Zc>>=Wr(ql.G[1][ql.H[1]+Zc],16,Jc),Zc>>=Wr(ql.G[2][ql.H[2]+Zc],0,Jc),Wr(ql.G[3][ql.H[3]+Zc],24,Jc))}}}xa.vc=La,xa.Wb=ws,xa.Ya=y1,xa.yc=b5,Lr=1;break t}Lr=0}if(!(re=Lr)){W.a=3;break e}if(0<Pe){if(fe.ua=1<<Pe,!He(fe.Wa,Pe)){W.a=1,re=0;break e}}else fe.ua=0;var A5=W,tC=ne,yK=ae,_5=A5.s,E5=_5.xc;if(A5.c=tC,A5.i=yK,_5.md=Je(tC,E5),_5.wc=E5==0?-1:(1<<E5)-1,D){W.xb=XG;break e}if((ke=s(ne*ae))==null){W.a=1,re=0;break e}re=(re=pe(W,ke,0,ne,ae,ae,null))&&!ie.h;break e}return re?(Z!=null?Z[0]=ke:(t(ke==null),t(D)),W.$=0,D||Ce(fe)):Ce(fe),re}function Le(w,_){var D=w.c*w.i,W=D+_+16*_;return t(w.c<=_),w.V=s(W),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+D+_,1)}function Ie(w,_){var D=w.C,W=_-D,Z=w.V,re=w.Ba+w.c*D;for(t(_<=w.l.o);0<W;){var ne=16<W?16:W,ae=w.l.ma,ie=w.l.width,fe=ie*ne,ke=ae.ca,Pe=ae.tb+ie*D,Oe=w.Ta,je=w.Ua;te(w,ne,Z,re),En(Oe,je,ke,Pe,fe),ce(ae,D,D+ne,ke,Pe,ie),W-=ne,Z+=ne*w.c,D+=ne}t(D==_),w.C=w.Ma=_}function et(){this.ub=this.yd=this.td=this.Rb=0}function ot(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function at(){this.Yb=function(){var w=[];return function _(D,W,Z){for(var re=Z[W],ne=0;ne<re&&(D.push(Z.length>W+1?[]:0),!(Z.length<W+1));ne++)_(D[ne],W+1,Z)}(w,0,[3,11]),w}()}function ht(){this.jb=s(3),this.Wc=o([4,8],at),this.Xc=o([4,17],at)}function $t(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function yr(){this.ld=this.La=this.dd=this.tc=0}function Cr(){this.Na=this.la=0}function Un(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function go(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ml(){this.uc=this.M=this.Nb=0,this.wa=Array(new yr),this.Y=0,this.ya=Array(new go),this.aa=0,this.l=new Zo}function Xo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function xo(){this.cb=this.a=0,this.sc="",this.m=new de,this.Od=new et,this.Kc=new ot,this.ed=new $t,this.Qa=new mt,this.Ic=this.$c=this.Aa=0,this.D=new Ml,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,de),this.ia=0,this.pb=i(4,Un),this.Pa=new ht,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xo),this.Hd=0,this.rb=Array(new Cr),this.sb=0,this.wa=Array(new yr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new go),this.L=this.aa=0,this.gd=o([4,2],yr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ii(){var w=new xo;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Sm||(Sm=Hx)),w}function An(w,_,D){return w.a==0&&(w.a=_,w.sc=D,w.cb=0),0}function $x(w,_,D){return 3<=D&&w[_+0]==157&&w[_+1]==1&&w[_+2]==42}function Wx(w,_){if(w==null)return 0;if(w.a=0,w.sc="OK",_==null)return An(w,2,"null VP8Io passed to VP8GetHeaders()");var D=_.data,W=_.w,Z=_.ha;if(4>Z)return An(w,7,"Truncated header.");var re=D[W+0]|D[W+1]<<8|D[W+2]<<16,ne=w.Od;if(ne.Rb=!(1&re),ne.td=re>>1&7,ne.yd=re>>4&1,ne.ub=re>>5,3<ne.td)return An(w,3,"Incorrect keyframe parameters.");if(!ne.yd)return An(w,4,"Frame not displayable.");W+=3,Z-=3;var ae=w.Kc;if(ne.Rb){if(7>Z)return An(w,7,"cannot parse picture header");if(!$x(D,W,Z))return An(w,3,"Bad code word");ae.c=16383&(D[W+4]<<8|D[W+3]),ae.Td=D[W+4]>>6,ae.i=16383&(D[W+6]<<8|D[W+5]),ae.Ud=D[W+6]>>6,W+=7,Z-=7,w.za=ae.c+15>>4,w.Ub=ae.i+15>>4,_.width=ae.c,_.height=ae.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((re=w.Pa).jb,0,255,re.jb.length),t((re=w.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,a(re.Zb,0,0,re.Zb.length),a(re.Lb,0,0,re.Lb)}if(ne.ub>Z)return An(w,7,"bad partition length");se(re=w.m,D,W,ne.ub),W+=ne.ub,Z-=ne.ub,ne.Rb&&(ae.Ld=ee(re),ae.Kd=ee(re)),ae=w.Qa;var ie,fe=w.Pa;if(t(re!=null),t(ae!=null),ae.Cb=ee(re),ae.Cb){if(ae.Bb=ee(re),ee(re)){for(ae.Fb=ee(re),ie=0;4>ie;++ie)ae.Zb[ie]=ee(re)?B(re,7):0;for(ie=0;4>ie;++ie)ae.Lb[ie]=ee(re)?B(re,6):0}if(ae.Bb)for(ie=0;3>ie;++ie)fe.jb[ie]=ee(re)?M(re,8):255}else ae.Bb=0;if(re.Ka)return An(w,3,"cannot parse segment header");if((ae=w.ed).zd=ee(re),ae.Tb=M(re,6),ae.wb=M(re,3),ae.Pc=ee(re),ae.Pc&&ee(re)){for(fe=0;4>fe;++fe)ee(re)&&(ae.vd[fe]=B(re,6));for(fe=0;4>fe;++fe)ee(re)&&(ae.od[fe]=B(re,6))}if(w.L=ae.Tb==0?0:ae.zd?1:2,re.Ka)return An(w,3,"cannot parse filter header");var ke=Z;if(Z=ie=W,W=ie+ke,ae=ke,w.Xb=(1<<M(w.m,2))-1,ke<3*(fe=w.Xb))D=7;else{for(ie+=3*fe,ae-=3*fe,ke=0;ke<fe;++ke){var Pe=D[Z+0]|D[Z+1]<<8|D[Z+2]<<16;Pe>ae&&(Pe=ae),se(w.Jc[+ke],D,ie,Pe),ie+=Pe,ae-=Pe,Z+=3}se(w.Jc[+fe],D,ie,ae),D=ie<W?0:5}if(D!=0)return An(w,D,"cannot parse partitions");for(D=M(ie=w.m,7),Z=ee(ie)?B(ie,4):0,W=ee(ie)?B(ie,4):0,ae=ee(ie)?B(ie,4):0,fe=ee(ie)?B(ie,4):0,ie=ee(ie)?B(ie,4):0,ke=w.Qa,Pe=0;4>Pe;++Pe){if(ke.Cb){var Oe=ke.Zb[Pe];ke.Fb||(Oe+=D)}else{if(0<Pe){w.pb[Pe]=w.pb[0];continue}Oe=D}var je=w.pb[Pe];je.Sc[0]=x5[oi(Oe+Z,127)],je.Sc[1]=v5[oi(Oe+0,127)],je.Eb[0]=2*x5[oi(Oe+W,127)],je.Eb[1]=101581*v5[oi(Oe+ae,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=x5[oi(Oe+fe,117)],je.Qc[1]=v5[oi(Oe+ie,127)],je.lc=Oe+ie}if(!ne.Rb)return An(w,4,"Not a key frame.");for(ee(re),ne=w.Pa,D=0;4>D;++D){for(Z=0;8>Z;++Z)for(W=0;3>W;++W)for(ae=0;11>ae;++ae)fe=G(re,KG[D][Z][W][ae])?M(re,8):qG[D][Z][W][ae],ne.Wc[D][Z].Yb[W][ae]=fe;for(Z=0;17>Z;++Z)ne.Xc[D][Z]=ne.Wc[D][YG[Z]]}return w.kc=ee(re),w.kc&&(w.Bd=M(re,8)),w.cb=1}function Hx(w,_,D,W,Z,re,ne){var ae=_[Z].Yb[D];for(D=0;16>Z;++Z){if(!G(w,ae[D+0]))return Z;for(;!G(w,ae[D+1]);)if(ae=_[++Z].Yb[0],D=0,Z==16)return 16;var ie=_[Z+1].Yb;if(G(w,ae[D+2])){var fe=w,ke=0;if(G(fe,(Oe=ae)[(Pe=D)+3]))if(G(fe,Oe[Pe+6])){for(ae=0,Pe=2*(ke=G(fe,Oe[Pe+8]))+(Oe=G(fe,Oe[Pe+9+ke])),ke=0,Oe=HG[Pe];Oe[ae];++ae)ke+=ke+G(fe,Oe[ae]);ke+=3+(8<<Pe)}else G(fe,Oe[Pe+7])?(ke=7+2*G(fe,165),ke+=G(fe,145)):ke=5+G(fe,159);else ke=G(fe,Oe[Pe+4])?3+G(fe,Oe[Pe+5]):2;ae=ie[2]}else ke=1,ae=ie[1];ie=ne+VG[Z],0>(fe=w).b&&V(fe);var Pe,Oe=fe.b,je=(Pe=fe.Ca>>1)-(fe.I>>Oe)>>31;--fe.b,fe.Ca+=je,fe.Ca|=1,fe.I-=(Pe+1&je)<<Oe,re[ie]=((ke^je)-je)*W[(0<Z)+0]}return 16}function tm(w){var _=w.rb[w.sb-1];_.la=0,_.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function Gw(w,_){if(w==null)return 0;if(_==null)return An(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!Wx(w,_))return 0;if(t(w.cb),_.ac==null||_.ac(_)){_.ob&&(w.L=0);var D=v1[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=_.v-D>>4,w.zb=_.j-D>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=_.o+15+D>>4,w.Hb=_.va+15+D>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var W=w.ed;for(D=0;4>D;++D){var Z;if(w.Qa.Cb){var re=w.Qa.Lb[D];w.Qa.Fb||(re+=W.Tb)}else re=W.Tb;for(Z=0;1>=Z;++Z){var ne=w.gd[D][Z],ae=re;if(W.Pc&&(ae+=W.vd[0],Z&&(ae+=W.od[0])),0<(ae=0>ae?0:63<ae?63:ae)){var ie=ae;0<W.wb&&(ie=4<W.wb?ie>>2:ie>>1)>9-W.wb&&(ie=9-W.wb),1>ie&&(ie=1),ne.dd=ie,ne.tc=2*ae+ie,ne.ld=40<=ae?2:15<=ae?1:0}else ne.tc=0;ne.La=Z}}}D=0}else An(w,6,"Frame setup failed"),D=w.a;if(D=D==0){if(D){w.$c=0,0<w.Aa||(w.Ic=lK);e:{D=w.Ic,W=4*(ie=w.za);var fe=32*ie,ke=ie+1,Pe=0<w.L?ie*(0<w.Aa?2:1):0,Oe=(w.Aa==2?2:1)*ie;if((ne=W+832+(Z=3*(16*D+v1[w.L])/2*fe)+(re=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ne)D=0;else{if(ne>w.Vb){if(w.Vb=0,w.Ec=s(ne),w.Fc=0,w.Ec==null){D=An(w,1,"no memory during frame initialization.");break e}w.Vb=ne}ne=w.Ec,ae=w.Fc,w.Ac=ne,w.Bc=ae,ae+=W,w.Gd=i(fe,Xo),w.Hd=0,w.rb=i(ke+1,Cr),w.sb=1,w.wa=Pe?i(Pe,yr):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=ie),t(!0),w.oc=ne,w.pc=ae,ae+=832,w.ya=i(Oe,go),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=ie),w.R=16*ie,w.B=8*ie,ie=(fe=v1[w.L])*w.R,fe=fe/2*w.B,w.sa=ne,w.ta=ae+ie,w.qa=w.sa,w.ra=w.ta+16*D*w.R+fe,w.Ha=w.qa,w.Ia=w.ra+8*D*w.B+fe,w.$c=0,ae+=Z,w.mb=re?ne:null,w.nb=re?ae:null,t(ae+re<=w.Fc+w.Vb),tm(w),a(w.Ac,w.Bc,0,W),D=1}}if(D){if(_.ka=0,_.y=w.sa,_.O=w.ta,_.f=w.qa,_.N=w.ra,_.ea=w.Ha,_.Vd=w.Ia,_.fa=w.R,_.Rc=w.B,_.F=null,_.J=0,!c1){for(D=-255;255>=D;++D)na[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)Wl[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)Nm[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)tf[255+D]=0>D?0:255<D?255:D;c1=1}J0=Xw,$l=Kw,bm=qx,bs=Yw,Fi=Gx,_n=Vx,Q0=om,l1=dd,wm=c5,md=lm,pd=l5,Hc=W0,gd=cm,ef=r1,xd=t1,Vc=Qo,km=Bl,Di=o5,wo[0]=Jo,wo[1]=Zw,wo[2]=t5,wo[3]=r5,wo[4]=Xx,wo[5]=U0,wo[6]=Zx,wo[7]=am,wo[8]=a5,wo[9]=n5,qc[0]=Kx,qc[1]=Qw,qc[2]=Rl,qc[3]=B0,qc[4]=Ha,qc[5]=e5,qc[6]=Yx,Hl[0]=Bc,Hl[1]=Jw,Hl[2]=s5,Hl[3]=sm,Hl[4]=ud,Hl[5]=i5,Hl[6]=im,D=1}else D=0}D&&(D=function(je,Ye){for(je.M=0;je.M<je.Va;++je.M){var Ue,Ne=je.Jc[je.M&je.Xb],Se=je.m,qe=je;for(Ue=0;Ue<qe.za;++Ue){var Ze=Se,Ke=qe,gt=Ke.Ac,dt=Ke.Bc+4*Ue,Lt=Ke.zc,ft=Ke.ya[Ke.aa+Ue];if(Ke.Qa.Bb?ft.$b=G(Ze,Ke.Pa.jb[0])?2+G(Ze,Ke.Pa.jb[2]):G(Ze,Ke.Pa.jb[1]):ft.$b=0,Ke.kc&&(ft.Ad=G(Ze,Ke.Bd)),ft.Za=!G(Ze,145)+0,ft.Za){var mr=ft.Ob,wr=0;for(Ke=0;4>Ke;++Ke){var or,tr=Lt[0+Ke];for(or=0;4>or;++or){tr=GG[gt[dt+or]][tr];for(var Lr=OE[G(Ze,tr[0])];0<Lr;)Lr=OE[2*Lr+G(Ze,tr[Lr])];tr=-Lr,gt[dt+or]=tr}n(mr,wr,gt,dt,4),wr+=4,Lt[0+Ke]=tr}}else tr=G(Ze,156)?G(Ze,128)?1:3:G(Ze,163)?2:0,ft.Ob[0]=tr,a(gt,dt,tr,4),a(Lt,0,tr,4);ft.Dd=G(Ze,142)?G(Ze,114)?G(Ze,183)?1:3:2:0}if(qe.m.Ka)return An(je,7,"Premature end-of-partition0 encountered.");for(;je.ja<je.za;++je.ja){if(qe=Ne,Ze=(Se=je).rb[Se.sb-1],gt=Se.rb[Se.sb+Se.ja],Ue=Se.ya[Se.aa+Se.ja],dt=Se.kc?Ue.Ad:0)Ze.la=gt.la=0,Ue.Za||(Ze.Na=gt.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var Tr,Kt;if(Ze=gt,gt=qe,dt=Se.Pa.Xc,Lt=Se.ya[Se.aa+Se.ja],ft=Se.pb[Lt.$b],Ke=Lt.ad,mr=0,wr=Se.rb[Se.sb-1],tr=or=0,a(Ke,mr,0,384),Lt.Za)var Wn=0,zs=dt[3];else{Lr=s(16);var Hn=Ze.Na+wr.Na;if(Hn=Sm(gt,dt[1],Hn,ft.Eb,0,Lr,0),Ze.Na=wr.Na=(0<Hn)+0,1<Hn)J0(Lr,0,Ke,mr);else{var Us=Lr[0]+3>>3;for(Lr=0;256>Lr;Lr+=16)Ke[mr+Lr]=Us}Wn=1,zs=dt[0]}var kr=15&Ze.la,ci=15&wr.la;for(Lr=0;4>Lr;++Lr){var ui=1&ci;for(Us=Kt=0;4>Us;++Us)kr=kr>>1|(ui=(Hn=Sm(gt,zs,Hn=ui+(1&kr),ft.Sc,Wn,Ke,mr))>Wn)<<7,Kt=Kt<<2|(3<Hn?3:1<Hn?2:Ke[mr+0]!=0),mr+=16;kr>>=4,ci=ci>>1|ui<<7,or=(or<<8|Kt)>>>0}for(zs=kr,Wn=ci>>4,Tr=0;4>Tr;Tr+=2){for(Kt=0,kr=Ze.la>>4+Tr,ci=wr.la>>4+Tr,Lr=0;2>Lr;++Lr){for(ui=1&ci,Us=0;2>Us;++Us)Hn=ui+(1&kr),kr=kr>>1|(ui=0<(Hn=Sm(gt,dt[2],Hn,ft.Qc,0,Ke,mr)))<<3,Kt=Kt<<2|(3<Hn?3:1<Hn?2:Ke[mr+0]!=0),mr+=16;kr>>=2,ci=ci>>1|ui<<5}tr|=Kt<<4*Tr,zs|=kr<<4<<Tr,Wn|=(240&ci)<<Tr}Ze.la=zs,wr.la=Wn,Lt.Hc=or,Lt.Gc=tr,Lt.ia=43690&tr?0:ft.ia,dt=!(or|tr)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[Ue.$b][Ue.Za],Se.wa[Se.Y+Se.ja].La|=!dt),qe.Ka)return An(je,7,"Premature end-of-file encountered.")}if(tm(je),Se=Ye,qe=1,Ue=(Ne=je).D,Ze=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(Ue.M=Ne.M,Ue.uc=Ze,pm(Ne,Ue),qe=1,Ue=(Kt=Ne.D).Nb,Ze=(tr=v1[Ne.L])*Ne.R,gt=tr/2*Ne.B,Lr=16*Ue*Ne.R,Us=8*Ue*Ne.B,dt=Ne.sa,Lt=Ne.ta-Ze+Lr,ft=Ne.qa,Ke=Ne.ra-gt+Us,mr=Ne.Ha,wr=Ne.Ia-gt+Us,ci=(kr=Kt.M)==0,or=kr>=Ne.Va-1,Ne.Aa==2&&pm(Ne,Kt),Kt.uc)for(ui=(Hn=Ne).D.M,t(Hn.D.uc),Kt=Hn.yb;Kt<Hn.Hb;++Kt){Wn=Kt,zs=ui;var xa=(La=(pn=Hn).D).Nb;Tr=pn.R;var La=La.wa[La.Y+Wn],ws=pn.sa,Bi=pn.ta+16*xa*Tr+16*Wn,tl=La.dd,va=La.tc;if(va!=0)if(t(3<=va),pn.L==1)0<Wn&&Vc(ws,Bi,Tr,va+4),La.La&&Di(ws,Bi,Tr,va),0<zs&&xd(ws,Bi,Tr,va+4),La.La&&km(ws,Bi,Tr,va);else{var Vl=pn.B,vd=pn.qa,rf=pn.ra+8*xa*Vl+8*Wn,Kc=pn.Ha,pn=pn.Ia+8*xa*Vl+8*Wn;xa=La.ld,0<Wn&&(l1(ws,Bi,Tr,va+4,tl,xa),md(vd,rf,Kc,pn,Vl,va+4,tl,xa)),La.La&&(Hc(ws,Bi,Tr,va,tl,xa),ef(vd,rf,Kc,pn,Vl,va,tl,xa)),0<zs&&(Q0(ws,Bi,Tr,va+4,tl,xa),wm(vd,rf,Kc,pn,Vl,va+4,tl,xa)),La.La&&(pd(ws,Bi,Tr,va,tl,xa),gd(vd,rf,Kc,pn,Vl,va,tl,xa))}}if(Ne.ia&&alert("todo:DitherRow"),Se.put!=null){if(Kt=16*kr,kr=16*(kr+1),ci?(Se.y=Ne.sa,Se.O=Ne.ta+Lr,Se.f=Ne.qa,Se.N=Ne.ra+Us,Se.ea=Ne.Ha,Se.W=Ne.Ia+Us):(Kt-=tr,Se.y=dt,Se.O=Lt,Se.f=ft,Se.N=Ke,Se.ea=mr,Se.W=wr),or||(kr-=tr),kr>Se.o&&(kr=Se.o),Se.F=null,Se.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Kt<kr&&(Se.J=hm(Ne,Se,Kt,kr-Kt),Se.F=Ne.mb,Se.F==null&&Se.F.length==0)){qe=An(Ne,3,"Could not decode alpha data.");break e}Kt<Se.j&&(tr=Se.j-Kt,Kt=Se.j,t(!(1&tr)),Se.O+=Ne.R*tr,Se.N+=Ne.B*(tr>>1),Se.W+=Ne.B*(tr>>1),Se.F!=null&&(Se.J+=Se.width*tr)),Kt<kr&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=Kt-Se.j,Se.U=Se.va-Se.v,Se.T=kr-Kt,qe=Se.put(Se))}Ue+1!=Ne.Ic||or||(n(Ne.sa,Ne.ta-Ze,dt,Lt+16*Ne.R,Ze),n(Ne.qa,Ne.ra-gt,ft,Ke+8*Ne.B,gt),n(Ne.Ha,Ne.Ia-gt,mr,wr+8*Ne.B,gt))}if(!qe)return An(je,6,"Output aborted.")}return 1}(w,_)),_.bc!=null&&_.bc(_),D&=1}return D?(w.cb=0,D):0}function vo(w,_,D,W,Z){Z=w[_+D+32*W]+(Z>>3),w[_+D+32*W]=-256&Z?0>Z?0:255:Z}function R0(w,_,D,W,Z,re){vo(w,_,0,D,W+Z),vo(w,_,1,D,W+re),vo(w,_,2,D,W-re),vo(w,_,3,D,W-Z)}function Ms(w){return(20091*w>>16)+w}function rm(w,_,D,W){var Z,re=0,ne=s(16);for(Z=0;4>Z;++Z){var ae=w[_+0]+w[_+8],ie=w[_+0]-w[_+8],fe=(35468*w[_+4]>>16)-Ms(w[_+12]),ke=Ms(w[_+4])+(35468*w[_+12]>>16);ne[re+0]=ae+ke,ne[re+1]=ie+fe,ne[re+2]=ie-fe,ne[re+3]=ae-ke,re+=4,_++}for(Z=re=0;4>Z;++Z)ae=(w=ne[re+0]+4)+ne[re+8],ie=w-ne[re+8],fe=(35468*ne[re+4]>>16)-Ms(ne[re+12]),vo(D,W,0,0,ae+(ke=Ms(ne[re+4])+(35468*ne[re+12]>>16))),vo(D,W,1,0,ie+fe),vo(D,W,2,0,ie-fe),vo(D,W,3,0,ae-ke),re++,W+=32}function Vx(w,_,D,W){var Z=w[_+0]+4,re=35468*w[_+4]>>16,ne=Ms(w[_+4]),ae=35468*w[_+1]>>16;R0(D,W,0,Z+ne,w=Ms(w[_+1]),ae),R0(D,W,1,Z+re,w,ae),R0(D,W,2,Z-re,w,ae),R0(D,W,3,Z-ne,w,ae)}function Kw(w,_,D,W,Z){rm(w,_,D,W),Z&&rm(w,_+16,D,W+4)}function qx(w,_,D,W){$l(w,_+0,D,W,1),$l(w,_+32,D,W+128,1)}function Yw(w,_,D,W){var Z;for(w=w[_+0]+4,Z=0;4>Z;++Z)for(_=0;4>_;++_)vo(D,W,_,Z,w)}function Gx(w,_,D,W){w[_+0]&&bs(w,_+0,D,W),w[_+16]&&bs(w,_+16,D,W+4),w[_+32]&&bs(w,_+32,D,W+128),w[_+48]&&bs(w,_+48,D,W+128+4)}function Xw(w,_,D,W){var Z,re=s(16);for(Z=0;4>Z;++Z){var ne=w[_+0+Z]+w[_+12+Z],ae=w[_+4+Z]+w[_+8+Z],ie=w[_+4+Z]-w[_+8+Z],fe=w[_+0+Z]-w[_+12+Z];re[0+Z]=ne+ae,re[8+Z]=ne-ae,re[4+Z]=fe+ie,re[12+Z]=fe-ie}for(Z=0;4>Z;++Z)ne=(w=re[0+4*Z]+3)+re[3+4*Z],ae=re[1+4*Z]+re[2+4*Z],ie=re[1+4*Z]-re[2+4*Z],fe=w-re[3+4*Z],D[W+0]=ne+ae>>3,D[W+16]=fe+ie>>3,D[W+32]=ne-ae>>3,D[W+48]=fe-ie>>3,W+=64}function nm(w,_,D){var W,Z=_-32,re=li,ne=255-w[Z-1];for(W=0;W<D;++W){var ae,ie=re,fe=ne+w[_-1];for(ae=0;ae<D;++ae)w[_+ae]=ie[fe+w[Z+ae]];_+=32}}function Zw(w,_){nm(w,_,4)}function Jw(w,_){nm(w,_,8)}function Qw(w,_){nm(w,_,16)}function Rl(w,_){var D;for(D=0;16>D;++D)n(w,_+32*D,w,_-32,16)}function B0(w,_){var D;for(D=16;0<D;--D)a(w,_,w[_-1],16),_+=32}function z0(w,_,D){var W;for(W=0;16>W;++W)a(_,D+32*W,w,16)}function Kx(w,_){var D,W=16;for(D=0;16>D;++D)W+=w[_-1+32*D]+w[_+D-32];z0(W>>5,w,_)}function Ha(w,_){var D,W=8;for(D=0;16>D;++D)W+=w[_-1+32*D];z0(W>>4,w,_)}function e5(w,_){var D,W=8;for(D=0;16>D;++D)W+=w[_+D-32];z0(W>>4,w,_)}function Yx(w,_){z0(128,w,_)}function Wt(w,_,D){return w+2*_+D+2>>2}function t5(w,_){var D,W=_-32;for(W=new Uint8Array([Wt(w[W-1],w[W+0],w[W+1]),Wt(w[W+0],w[W+1],w[W+2]),Wt(w[W+1],w[W+2],w[W+3]),Wt(w[W+2],w[W+3],w[W+4])]),D=0;4>D;++D)n(w,_+32*D,W,0,W.length)}function r5(w,_){var D=w[_-1],W=w[_-1+32],Z=w[_-1+64],re=w[_-1+96];ue(w,_+0,16843009*Wt(w[_-1-32],D,W)),ue(w,_+32,16843009*Wt(D,W,Z)),ue(w,_+64,16843009*Wt(W,Z,re)),ue(w,_+96,16843009*Wt(Z,re,re))}function Jo(w,_){var D,W=4;for(D=0;4>D;++D)W+=w[_+D-32]+w[_-1+32*D];for(W>>=3,D=0;4>D;++D)a(w,_+32*D,W,4)}function Xx(w,_){var D=w[_-1+0],W=w[_-1+32],Z=w[_-1+64],re=w[_-1-32],ne=w[_+0-32],ae=w[_+1-32],ie=w[_+2-32],fe=w[_+3-32];w[_+0+96]=Wt(W,Z,w[_-1+96]),w[_+1+96]=w[_+0+64]=Wt(D,W,Z),w[_+2+96]=w[_+1+64]=w[_+0+32]=Wt(re,D,W),w[_+3+96]=w[_+2+64]=w[_+1+32]=w[_+0+0]=Wt(ne,re,D),w[_+3+64]=w[_+2+32]=w[_+1+0]=Wt(ae,ne,re),w[_+3+32]=w[_+2+0]=Wt(ie,ae,ne),w[_+3+0]=Wt(fe,ie,ae)}function Zx(w,_){var D=w[_+1-32],W=w[_+2-32],Z=w[_+3-32],re=w[_+4-32],ne=w[_+5-32],ae=w[_+6-32],ie=w[_+7-32];w[_+0+0]=Wt(w[_+0-32],D,W),w[_+1+0]=w[_+0+32]=Wt(D,W,Z),w[_+2+0]=w[_+1+32]=w[_+0+64]=Wt(W,Z,re),w[_+3+0]=w[_+2+32]=w[_+1+64]=w[_+0+96]=Wt(Z,re,ne),w[_+3+32]=w[_+2+64]=w[_+1+96]=Wt(re,ne,ae),w[_+3+64]=w[_+2+96]=Wt(ne,ae,ie),w[_+3+96]=Wt(ae,ie,ie)}function U0(w,_){var D=w[_-1+0],W=w[_-1+32],Z=w[_-1+64],re=w[_-1-32],ne=w[_+0-32],ae=w[_+1-32],ie=w[_+2-32],fe=w[_+3-32];w[_+0+0]=w[_+1+64]=re+ne+1>>1,w[_+1+0]=w[_+2+64]=ne+ae+1>>1,w[_+2+0]=w[_+3+64]=ae+ie+1>>1,w[_+3+0]=ie+fe+1>>1,w[_+0+96]=Wt(Z,W,D),w[_+0+64]=Wt(W,D,re),w[_+0+32]=w[_+1+96]=Wt(D,re,ne),w[_+1+32]=w[_+2+96]=Wt(re,ne,ae),w[_+2+32]=w[_+3+96]=Wt(ne,ae,ie),w[_+3+32]=Wt(ae,ie,fe)}function am(w,_){var D=w[_+0-32],W=w[_+1-32],Z=w[_+2-32],re=w[_+3-32],ne=w[_+4-32],ae=w[_+5-32],ie=w[_+6-32],fe=w[_+7-32];w[_+0+0]=D+W+1>>1,w[_+1+0]=w[_+0+64]=W+Z+1>>1,w[_+2+0]=w[_+1+64]=Z+re+1>>1,w[_+3+0]=w[_+2+64]=re+ne+1>>1,w[_+0+32]=Wt(D,W,Z),w[_+1+32]=w[_+0+96]=Wt(W,Z,re),w[_+2+32]=w[_+1+96]=Wt(Z,re,ne),w[_+3+32]=w[_+2+96]=Wt(re,ne,ae),w[_+3+64]=Wt(ne,ae,ie),w[_+3+96]=Wt(ae,ie,fe)}function n5(w,_){var D=w[_-1+0],W=w[_-1+32],Z=w[_-1+64],re=w[_-1+96];w[_+0+0]=D+W+1>>1,w[_+2+0]=w[_+0+32]=W+Z+1>>1,w[_+2+32]=w[_+0+64]=Z+re+1>>1,w[_+1+0]=Wt(D,W,Z),w[_+3+0]=w[_+1+32]=Wt(W,Z,re),w[_+3+32]=w[_+1+64]=Wt(Z,re,re),w[_+3+64]=w[_+2+64]=w[_+0+96]=w[_+1+96]=w[_+2+96]=w[_+3+96]=re}function a5(w,_){var D=w[_-1+0],W=w[_-1+32],Z=w[_-1+64],re=w[_-1+96],ne=w[_-1-32],ae=w[_+0-32],ie=w[_+1-32],fe=w[_+2-32];w[_+0+0]=w[_+2+32]=D+ne+1>>1,w[_+0+32]=w[_+2+64]=W+D+1>>1,w[_+0+64]=w[_+2+96]=Z+W+1>>1,w[_+0+96]=re+Z+1>>1,w[_+3+0]=Wt(ae,ie,fe),w[_+2+0]=Wt(ne,ae,ie),w[_+1+0]=w[_+3+32]=Wt(D,ne,ae),w[_+1+32]=w[_+3+64]=Wt(W,D,ne),w[_+1+64]=w[_+3+96]=Wt(Z,W,D),w[_+1+96]=Wt(re,Z,W)}function s5(w,_){var D;for(D=0;8>D;++D)n(w,_+32*D,w,_-32,8)}function sm(w,_){var D;for(D=0;8>D;++D)a(w,_,w[_-1],8),_+=32}function cd(w,_,D){var W;for(W=0;8>W;++W)a(_,D+32*W,w,8)}function Bc(w,_){var D,W=8;for(D=0;8>D;++D)W+=w[_+D-32]+w[_-1+32*D];cd(W>>4,w,_)}function i5(w,_){var D,W=4;for(D=0;8>D;++D)W+=w[_+D-32];cd(W>>3,w,_)}function ud(w,_){var D,W=4;for(D=0;8>D;++D)W+=w[_-1+32*D];cd(W>>3,w,_)}function im(w,_){cd(128,w,_)}function $0(w,_,D){var W=w[_-D],Z=w[_+0],re=3*(Z-W)+f5[1020+w[_-2*D]-w[_+D]],ne=u1[112+(re+4>>3)];w[_-D]=li[255+W+u1[112+(re+3>>3)]],w[_+0]=li[255+Z-ne]}function Jx(w,_,D,W){var Z=w[_+0],re=w[_+D];return Mi[255+w[_-2*D]-w[_-D]]>W||Mi[255+re-Z]>W}function Qx(w,_,D,W){return 4*Mi[255+w[_-D]-w[_+0]]+Mi[255+w[_-2*D]-w[_+D]]<=W}function e1(w,_,D,W,Z){var re=w[_-3*D],ne=w[_-2*D],ae=w[_-D],ie=w[_+0],fe=w[_+D],ke=w[_+2*D],Pe=w[_+3*D];return 4*Mi[255+ae-ie]+Mi[255+ne-fe]>W?0:Mi[255+w[_-4*D]-re]<=Z&&Mi[255+re-ne]<=Z&&Mi[255+ne-ae]<=Z&&Mi[255+Pe-ke]<=Z&&Mi[255+ke-fe]<=Z&&Mi[255+fe-ie]<=Z}function t1(w,_,D,W){var Z=2*W+1;for(W=0;16>W;++W)Qx(w,_+W,D,Z)&&$0(w,_+W,D)}function Qo(w,_,D,W){var Z=2*W+1;for(W=0;16>W;++W)Qx(w,_+W*D,1,Z)&&$0(w,_+W*D,1)}function Bl(w,_,D,W){var Z;for(Z=3;0<Z;--Z)t1(w,_+=4*D,D,W)}function o5(w,_,D,W){var Z;for(Z=3;0<Z;--Z)Qo(w,_+=4,D,W)}function zc(w,_,D,W,Z,re,ne,ae){for(re=2*re+1;0<Z--;){if(e1(w,_,D,re,ne))if(Jx(w,_,D,ae))$0(w,_,D);else{var ie=w,fe=_,ke=D,Pe=ie[fe-2*ke],Oe=ie[fe-ke],je=ie[fe+0],Ye=ie[fe+ke],Ue=ie[fe+2*ke],Ne=27*(qe=f5[1020+3*(je-Oe)+f5[1020+Pe-Ye]])+63>>7,Se=18*qe+63>>7,qe=9*qe+63>>7;ie[fe-3*ke]=li[255+ie[fe-3*ke]+qe],ie[fe-2*ke]=li[255+Pe+Se],ie[fe-ke]=li[255+Oe+Ne],ie[fe+0]=li[255+je-Ne],ie[fe+ke]=li[255+Ye-Se],ie[fe+2*ke]=li[255+Ue-qe]}_+=W}}function yo(w,_,D,W,Z,re,ne,ae){for(re=2*re+1;0<Z--;){if(e1(w,_,D,re,ne))if(Jx(w,_,D,ae))$0(w,_,D);else{var ie=w,fe=_,ke=D,Pe=ie[fe-ke],Oe=ie[fe+0],je=ie[fe+ke],Ye=u1[112+((Ue=3*(Oe-Pe))+4>>3)],Ue=u1[112+(Ue+3>>3)],Ne=Ye+1>>1;ie[fe-2*ke]=li[255+ie[fe-2*ke]+Ne],ie[fe-ke]=li[255+Pe+Ue],ie[fe+0]=li[255+Oe-Ye],ie[fe+ke]=li[255+je-Ne]}_+=W}}function om(w,_,D,W,Z,re){zc(w,_,D,1,16,W,Z,re)}function dd(w,_,D,W,Z,re){zc(w,_,1,D,16,W,Z,re)}function l5(w,_,D,W,Z,re){var ne;for(ne=3;0<ne;--ne)yo(w,_+=4*D,D,1,16,W,Z,re)}function W0(w,_,D,W,Z,re){var ne;for(ne=3;0<ne;--ne)yo(w,_+=4,1,D,16,W,Z,re)}function c5(w,_,D,W,Z,re,ne,ae){zc(w,_,Z,1,8,re,ne,ae),zc(D,W,Z,1,8,re,ne,ae)}function lm(w,_,D,W,Z,re,ne,ae){zc(w,_,1,Z,8,re,ne,ae),zc(D,W,1,Z,8,re,ne,ae)}function cm(w,_,D,W,Z,re,ne,ae){yo(w,_+4*Z,Z,1,8,re,ne,ae),yo(D,W+4*Z,Z,1,8,re,ne,ae)}function r1(w,_,D,W,Z,re,ne,ae){yo(w,_+4,1,Z,8,re,ne,ae),yo(D,W+4,1,Z,8,re,ne,ae)}function H0(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new It,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function um(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dm(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function n1(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new T}function u5(){this.xb=this.a=0,this.l=new Zo,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new n1,this.ab=0,this.gc=i(4,dm),this.Oc=0}function V0(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fd(w,_,D,W,Z,re,ne){for(w=w==null?0:w[_+0],_=0;_<ne;++_)Z[re+_]=w+D[W+_]&255,w=Z[re+_]}function fm(w,_,D,W,Z,re,ne){var ae;if(w==null)fd(null,null,D,W,Z,re,ne);else for(ae=0;ae<ne;++ae)Z[re+ae]=w[_+ae]+D[W+ae]&255}function Uc(w,_,D,W,Z,re,ne){if(w==null)fd(null,null,D,W,Z,re,ne);else{var ae,ie=w[_+0],fe=ie,ke=ie;for(ae=0;ae<ne;++ae)fe=ke+(ie=w[_+ae])-fe,ke=D[W+ae]+(-256&fe?0>fe?0:255:fe)&255,fe=ie,Z[re+ae]=ke}}function hm(w,_,D,W){var Z=_.width,re=_.o;if(t(w!=null&&_!=null),0>D||0>=W||D+W>re)return null;if(!w.Cc){if(w.ga==null){var ne;if(w.ga=new V0,(ne=w.ga==null)||(ne=_.width*_.o,t(w.Gb.length==0),w.Gb=s(ne),w.Uc=0,w.Gb==null?ne=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ne=1),ne=!ne),!ne){ne=w.ga;var ae=w.Fa,ie=w.P,fe=w.qc,ke=w.mb,Pe=w.nb,Oe=ie+1,je=fe-1,Ye=ne.l;if(t(ae!=null&&ke!=null&&_!=null),Gc[0]=null,Gc[1]=fd,Gc[2]=fm,Gc[3]=Uc,ne.ca=ke,ne.tb=Pe,ne.c=_.width,ne.i=_.height,t(0<ne.c&&0<ne.i),1>=fe)_=0;else if(ne.$a=ae[ie+0]>>0&3,ne.Z=ae[ie+0]>>2&3,ne.Lc=ae[ie+0]>>4&3,ie=ae[ie+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||ie)_=0;else if(Ye.put=xr,Ye.ac=Ge,Ye.bc=xs,Ye.ma=ne,Ye.width=_.width,Ye.height=_.height,Ye.Da=_.Da,Ye.v=_.v,Ye.va=_.va,Ye.j=_.j,Ye.o=_.o,ne.$a)e:{t(ne.$a==1),_=Be();t:for(;;){if(_==null){_=0;break e}if(t(ne!=null),ne.mc=_,_.c=ne.c,_.i=ne.i,_.l=ne.l,_.l.ma=ne,_.l.width=ne.c,_.l.height=ne.i,_.a=0,Y(_.m,ae,Oe,je),!Te(ne.c,ne.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&oe(_.s)?(ne.ic=1,ae=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(ae),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ne.ic=0,_=Le(_,ne.c)),!_))break t;_=1;break e}ne.mc=null,_=0}else _=je>=ne.c*ne.i;ne=!_}if(ne)return null;w.ga.Lc!=1?w.Ga=0:W=re-D}t(w.ga!=null),t(D+W<=re);e:{if(_=(ae=w.ga).c,re=ae.l.o,ae.$a==0){if(Oe=w.rc,je=w.Vc,Ye=w.Fa,ie=w.P+1+D*_,fe=w.mb,ke=w.nb+D*_,t(ie<=w.P+w.qc),ae.Z!=0)for(t(Gc[ae.Z]!=null),ne=0;ne<W;++ne)Gc[ae.Z](Oe,je,Ye,ie,fe,ke,_),Oe=fe,je=ke,ke+=_,ie+=_;else for(ne=0;ne<W;++ne)n(fe,ke,Ye,ie,_),Oe=fe,je=ke,ke+=_,ie+=_;w.rc=Oe,w.Vc=je}else{if(t(ae.mc!=null),_=D+W,t((ne=ae.mc)!=null),t(_<=ne.i),ne.C>=_)_=1;else if(ae.ic||_e(),ae.ic){ae=ne.V,Oe=ne.Ba,je=ne.c;var Ue=ne.i,Ne=(Ye=1,ie=ne.$/je,fe=ne.$%je,ke=ne.m,Pe=ne.s,ne.$),Se=je*Ue,qe=je*_,Ze=Pe.wc,Ke=Ne<qe?vr(Pe,fe,ie):null;t(Ne<=Se),t(_<=Ue),t(oe(Pe));t:for(;;){for(;!ke.h&&Ne<qe;){if(fe&Ze||(Ke=vr(Pe,fe,ie)),t(Ke!=null),X(ke),256>(Ue=pa(Ke.G[0],Ke.H[0],ke)))ae[Oe+Ne]=Ue,++Ne,++fe>=je&&(fe=0,++ie<=_&&!(ie%16)&&me(ne,ie));else{if(!(280>Ue)){Ye=0;break t}Ue=vs(Ue-256,ke);var gt,dt=pa(Ke.G[4],Ke.H[4],ke);if(X(ke),!(Ne>=(dt=jn(je,dt=vs(dt,ke)))&&Se-Ne>=Ue)){Ye=0;break t}for(gt=0;gt<Ue;++gt)ae[Oe+Ne+gt]=ae[Oe+Ne+gt-dt];for(Ne+=Ue,fe+=Ue;fe>=je;)fe-=je,++ie<=_&&!(ie%16)&&me(ne,ie);Ne<qe&&fe&Ze&&(Ke=vr(Pe,fe,ie))}t(ke.h==U(ke))}me(ne,ie>_?_:ie);break t}!Ye||ke.h&&Ne<Se?(Ye=0,ne.a=ke.h?5:3):ne.$=Ne,_=Ye}else _=pe(ne,ne.V,ne.Ba,ne.c,ne.i,_,Ie);if(!_){W=0;break e}}D+W>=re&&(w.Cc=1),W=1}if(!W)return null;if(w.Cc&&((W=w.ga)!=null&&(W.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+D*Z}function P(w,_,D,W,Z,re){for(;0<Z--;){var ne,ae=w,ie=_+(D?1:0),fe=w,ke=_+(D?0:3);for(ne=0;ne<W;++ne){var Pe=fe[ke+4*ne];Pe!=255&&(Pe*=32897,ae[ie+4*ne+0]=ae[ie+4*ne+0]*Pe>>23,ae[ie+4*ne+1]=ae[ie+4*ne+1]*Pe>>23,ae[ie+4*ne+2]=ae[ie+4*ne+2]*Pe>>23)}_+=re}}function J(w,_,D,W,Z){for(;0<W--;){var re;for(re=0;re<D;++re){var ne=w[_+2*re+0],ae=15&(fe=w[_+2*re+1]),ie=4369*ae,fe=(240&fe|fe>>4)*ie>>16;w[_+2*re+0]=(240&ne|ne>>4)*ie>>16&240|(15&ne|ne<<4)*ie>>16>>4&15,w[_+2*re+1]=240&fe|ae}_+=Z}}function xe(w,_,D,W,Z,re,ne,ae){var ie,fe,ke=255;for(fe=0;fe<Z;++fe){for(ie=0;ie<W;++ie){var Pe=w[_+ie];re[ne+4*ie]=Pe,ke&=Pe}_+=D,ne+=ae}return ke!=255}function we(w,_,D,W,Z){var re;for(re=0;re<Z;++re)D[W+re]=w[_+re]>>8}function _e(){Ii=P,Mr=J,Rr=xe,En=we}function $e(w,_,D){C[w]=function(W,Z,re,ne,ae,ie,fe,ke,Pe,Oe,je,Ye,Ue,Ne,Se,qe,Ze){var Ke,gt=Ze-1>>1,dt=ae[ie+0]|fe[ke+0]<<16,Lt=Pe[Oe+0]|je[Ye+0]<<16;t(W!=null);var ft=3*dt+Lt+131074>>2;for(_(W[Z+0],255&ft,ft>>16,Ue,Ne),re!=null&&(ft=3*Lt+dt+131074>>2,_(re[ne+0],255&ft,ft>>16,Se,qe)),Ke=1;Ke<=gt;++Ke){var mr=ae[ie+Ke]|fe[ke+Ke]<<16,wr=Pe[Oe+Ke]|je[Ye+Ke]<<16,or=dt+mr+Lt+wr+524296,tr=or+2*(mr+Lt)>>3;ft=tr+dt>>1,dt=(or=or+2*(dt+wr)>>3)+mr>>1,_(W[Z+2*Ke-1],255&ft,ft>>16,Ue,Ne+(2*Ke-1)*D),_(W[Z+2*Ke-0],255&dt,dt>>16,Ue,Ne+(2*Ke-0)*D),re!=null&&(ft=or+Lt>>1,dt=tr+wr>>1,_(re[ne+2*Ke-1],255&ft,ft>>16,Se,qe+(2*Ke-1)*D),_(re[ne+2*Ke+0],255&dt,dt>>16,Se,qe+(2*Ke+0)*D)),dt=mr,Lt=wr}1&Ze||(ft=3*dt+Lt+131074>>2,_(W[Z+Ze-1],255&ft,ft>>16,Ue,Ne+(Ze-1)*D),re!=null&&(ft=3*Lt+dt+131074>>2,_(re[ne+Ze-1],255&ft,ft>>16,Se,qe+(Ze-1)*D)))}}function Qe(){Ri[d1]=ZG,Ri[f1]=FE,Ri[CE]=JG,Ri[h1]=DE,Ri[m1]=IE,Ri[h5]=ME,Ri[TE]=QG,Ri[m5]=FE,Ri[p5]=DE,Ri[p1]=IE,Ri[g5]=ME}function pt(w){return w&-16384?0>w?0:255:w>>eK}function Ct(w,_){return pt((19077*w>>8)+(26149*_>>8)-14234)}function Gt(w,_,D){return pt((19077*w>>8)-(6419*_>>8)-(13320*D>>8)+8708)}function Ht(w,_){return pt((19077*w>>8)+(33050*_>>8)-17685)}function sr(w,_,D,W,Z){W[Z+0]=Ct(w,D),W[Z+1]=Gt(w,_,D),W[Z+2]=Ht(w,_)}function an(w,_,D,W,Z){W[Z+0]=Ht(w,_),W[Z+1]=Gt(w,_,D),W[Z+2]=Ct(w,D)}function mn(w,_,D,W,Z){var re=Gt(w,_,D);_=re<<3&224|Ht(w,_)>>3,W[Z+0]=248&Ct(w,D)|re>>5,W[Z+1]=_}function $n(w,_,D,W,Z){var re=240&Ht(w,_)|15;W[Z+0]=240&Ct(w,D)|Gt(w,_,D)>>4,W[Z+1]=re}function Va(w,_,D,W,Z){W[Z+0]=255,sr(w,_,D,W,Z+1)}function ga(w,_,D,W,Z){an(w,_,D,W,Z),W[Z+3]=255}function bo(w,_,D,W,Z){sr(w,_,D,W,Z),W[Z+3]=255}function oi(w,_){return 0>w?0:w>_?_:w}function el(w,_,D){C[w]=function(W,Z,re,ne,ae,ie,fe,ke,Pe){for(var Oe=ke+(-2&Pe)*D;ke!=Oe;)_(W[Z+0],re[ne+0],ae[ie+0],fe,ke),_(W[Z+1],re[ne+0],ae[ie+0],fe,ke+D),Z+=2,++ne,++ie,ke+=2*D;1&Pe&&_(W[Z+0],re[ne+0],ae[ie+0],fe,ke)}}function a1(w,_,D){return D==0?w==0?_==0?6:5:_==0?4:0:D}function mm(w,_,D,W,Z){switch(w>>>30){case 3:$l(_,D,W,Z,0);break;case 2:_n(_,D,W,Z);break;case 1:bs(_,D,W,Z)}}function pm(w,_){var D,W,Z=_.M,re=_.Nb,ne=w.oc,ae=w.pc+40,ie=w.oc,fe=w.pc+584,ke=w.oc,Pe=w.pc+600;for(D=0;16>D;++D)ne[ae+32*D-1]=129;for(D=0;8>D;++D)ie[fe+32*D-1]=129,ke[Pe+32*D-1]=129;for(0<Z?ne[ae-1-32]=ie[fe-1-32]=ke[Pe-1-32]=129:(a(ne,ae-32-1,127,21),a(ie,fe-32-1,127,9),a(ke,Pe-32-1,127,9)),W=0;W<w.za;++W){var Oe=_.ya[_.aa+W];if(0<W){for(D=-1;16>D;++D)n(ne,ae+32*D-4,ne,ae+32*D+12,4);for(D=-1;8>D;++D)n(ie,fe+32*D-4,ie,fe+32*D+4,4),n(ke,Pe+32*D-4,ke,Pe+32*D+4,4)}var je=w.Gd,Ye=w.Hd+W,Ue=Oe.ad,Ne=Oe.Hc;if(0<Z&&(n(ne,ae-32,je[Ye].y,0,16),n(ie,fe-32,je[Ye].f,0,8),n(ke,Pe-32,je[Ye].ea,0,8)),Oe.Za){var Se=ne,qe=ae-32+16;for(0<Z&&(W>=w.za-1?a(Se,qe,je[Ye].y[15],4):n(Se,qe,je[Ye+1].y,0,4)),D=0;4>D;D++)Se[qe+128+D]=Se[qe+256+D]=Se[qe+384+D]=Se[qe+0+D];for(D=0;16>D;++D,Ne<<=2)Se=ne,qe=ae+BE[D],wo[Oe.Ob[D]](Se,qe),mm(Ne,Ue,16*+D,Se,qe)}else if(Se=a1(W,Z,Oe.Ob[0]),qc[Se](ne,ae),Ne!=0)for(D=0;16>D;++D,Ne<<=2)mm(Ne,Ue,16*+D,ne,ae+BE[D]);for(D=Oe.Gc,Se=a1(W,Z,Oe.Dd),Hl[Se](ie,fe),Hl[Se](ke,Pe),Ne=Ue,Se=ie,qe=fe,255&(Oe=D>>0)&&(170&Oe?bm(Ne,256,Se,qe):Fi(Ne,256,Se,qe)),Oe=ke,Ne=Pe,255&(D>>=8)&&(170&D?bm(Ue,320,Oe,Ne):Fi(Ue,320,Oe,Ne)),Z<w.Ub-1&&(n(je[Ye].y,0,ne,ae+480,16),n(je[Ye].f,0,ie,fe+224,8),n(je[Ye].ea,0,ke,Pe+224,8)),D=8*re*w.B,je=w.sa,Ye=w.ta+16*W+16*re*w.R,Ue=w.qa,Oe=w.ra+8*W+D,Ne=w.Ha,Se=w.Ia+8*W+D,D=0;16>D;++D)n(je,Ye+D*w.R,ne,ae+32*D,16);for(D=0;8>D;++D)n(Ue,Oe+D*w.B,ie,fe+32*D,8),n(Ne,Se+D*w.B,ke,Pe+32*D,8)}}function q0(w,_,D,W,Z,re,ne,ae,ie){var fe=[0],ke=[0],Pe=0,Oe=ie!=null?ie.kd:0,je=ie??new um;if(w==null||12>D)return 7;je.data=w,je.w=_,je.ha=D,_=[_],D=[D],je.gb=[je.gb];e:{var Ye=_,Ue=D,Ne=je.gb;if(t(w!=null),t(Ue!=null),t(Ne!=null),Ne[0]=0,12<=Ue[0]&&!r(w,Ye[0],"RIFF")){if(r(w,Ye[0]+8,"WEBP")){Ne=3;break e}var Se=Me(w,Ye[0]+4);if(12>Se||4294967286<Se){Ne=3;break e}if(Oe&&Se>Ue[0]-8){Ne=7;break e}Ne[0]=Se,Ye[0]+=12,Ue[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Se=0<je.gb[0],D=D[0];;){e:{var qe=w;Ue=_,Ne=D;var Ze=fe,Ke=ke,gt=Ye=[0];if((ft=Pe=[Pe])[0]=0,8>Ne[0])Ne=7;else{if(!r(qe,Ue[0],"VP8X")){if(Me(qe,Ue[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var dt=Me(qe,Ue[0]+8),Lt=1+q(qe,Ue[0]+12);if(2147483648<=Lt*(qe=1+q(qe,Ue[0]+15))){Ne=3;break e}gt!=null&&(gt[0]=dt),Ze!=null&&(Ze[0]=Lt),Ke!=null&&(Ke[0]=qe),Ue[0]+=18,Ne[0]-=18,ft[0]=1}Ne=0}}if(Pe=Pe[0],Ye=Ye[0],Ne!=0)return Ne;if(Ue=!!(2&Ye),!Se&&Pe)return 3;if(re!=null&&(re[0]=!!(16&Ye)),ne!=null&&(ne[0]=Ue),ae!=null&&(ae[0]=0),ne=fe[0],Ye=ke[0],Pe&&Ue&&ie==null){Ne=0;break}if(4>D){Ne=7;break}if(Se&&Pe||!Se&&!Pe&&!r(w,_[0],"ALPH")){D=[D],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{dt=w,Ne=_,Se=D;var ft=je.gb;Ze=je.na,Ke=je.P,gt=je.Sa,Lt=22,t(dt!=null),t(Se!=null),qe=Ne[0];var mr=Se[0];for(t(Ze!=null),t(gt!=null),Ze[0]=null,Ke[0]=null,gt[0]=0;;){if(Ne[0]=qe,Se[0]=mr,8>mr){Ne=7;break e}var wr=Me(dt,qe+4);if(4294967286<wr){Ne=3;break e}var or=8+wr+1&-2;if(Lt+=or,0<ft&&Lt>ft){Ne=3;break e}if(!r(dt,qe,"VP8 ")||!r(dt,qe,"VP8L")){Ne=0;break e}if(mr[0]<or){Ne=7;break e}r(dt,qe,"ALPH")||(Ze[0]=dt,Ke[0]=qe+8,gt[0]=wr),qe+=or,mr-=or}}if(D=D[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Ne!=0)break}D=[D],je.Ja=[je.Ja],je.xa=[je.xa];e:if(ft=w,Ne=_,Se=D,Ze=je.gb[0],Ke=je.Ja,gt=je.xa,dt=Ne[0],qe=!r(ft,dt,"VP8 "),Lt=!r(ft,dt,"VP8L"),t(ft!=null),t(Se!=null),t(Ke!=null),t(gt!=null),8>Se[0])Ne=7;else{if(qe||Lt){if(ft=Me(ft,dt+4),12<=Ze&&ft>Ze-12){Ne=3;break e}if(Oe&&ft>Se[0]-8){Ne=7;break e}Ke[0]=ft,Ne[0]+=8,Se[0]-=8,gt[0]=Lt}else gt[0]=5<=Se[0]&&ft[dt+0]==47&&!(ft[dt+4]>>5),Ke[0]=Se[0];Ne=0}if(D=D[0],je.Ja=je.Ja[0],je.xa=je.xa[0],_=_[0],Ne!=0)break;if(4294967286<je.Ja)return 3;if(ae==null||Ue||(ae[0]=je.xa?2:1),ne=[ne],Ye=[Ye],je.xa){if(5>D){Ne=7;break}ae=ne,Oe=Ye,Ue=re,w==null||5>D?w=0:5<=D&&w[_+0]==47&&!(w[_+4]>>5)?(Se=[0],ft=[0],Ze=[0],Y(Ke=new L,w,_,D),Pt(Ke,Se,ft,Ze)?(ae!=null&&(ae[0]=Se[0]),Oe!=null&&(Oe[0]=ft[0]),Ue!=null&&(Ue[0]=Ze[0]),w=1):w=0):w=0}else{if(10>D){Ne=7;break}ae=Ye,w==null||10>D||!$x(w,_+3,D-3)?w=0:(Oe=w[_+0]|w[_+1]<<8|w[_+2]<<16,Ue=16383&(w[_+7]<<8|w[_+6]),w=16383&(w[_+9]<<8|w[_+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=je.Ja||!Ue||!w?w=0:(ne&&(ne[0]=Ue),ae&&(ae[0]=w),w=1))}if(!w||(ne=ne[0],Ye=Ye[0],Pe&&(fe[0]!=ne||ke[0]!=Ye)))return 3;ie!=null&&(ie[0]=je,ie.offset=_-ie.w,t(4294967286>_-ie.w),t(ie.offset==ie.ha-D));break}return Ne==0||Ne==7&&Pe&&ie==null?(re!=null&&(re[0]|=je.na!=null&&0<je.na.length),W!=null&&(W[0]=ne),Z!=null&&(Z[0]=Ye),0):Ne}function gm(w,_,D){var W=_.width,Z=_.height,re=0,ne=0,ae=W,ie=Z;if(_.Da=w!=null&&0<w.Da,_.Da&&(ae=w.cd,ie=w.bd,re=w.v,ne=w.j,11>D||(re&=-2,ne&=-2),0>re||0>ne||0>=ae||0>=ie||re+ae>W||ne+ie>Z))return 0;if(_.v=re,_.j=ne,_.va=re+ae,_.o=ne+ie,_.U=ae,_.T=ie,_.da=w!=null&&0<w.da,_.da){if(!De(ae,ie,D=[w.ib],re=[w.hb]))return 0;_.ib=D[0],_.hb=re[0]}return _.ob=w!=null&&w.ob,_.Kb=w==null||!w.Sd,_.da&&(_.ob=_.ib<3*W/4&&_.hb<3*Z/4,_.Kb=0),1}function xm(w){if(w==null)return 2;if(11>w.S){var _=w.f.RGBA;_.fb+=(w.height-1)*_.A,_.A=-_.A}else _=w.f.kb,w=w.height,_.O+=(w-1)*_.fa,_.fa=-_.fa,_.N+=(w-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(w-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(w-1)*_.lb,_.lb=-_.lb);return 0}function G0(w,_,D,W){if(W==null||0>=w||0>=_)return 2;if(D!=null){if(D.Da){var Z=D.cd,re=D.bd,ne=-2&D.v,ae=-2&D.j;if(0>ne||0>ae||0>=Z||0>=re||ne+Z>w||ae+re>_)return 2;w=Z,_=re}if(D.da){if(!De(w,_,Z=[D.ib],re=[D.hb]))return 2;w=Z[0],_=re[0]}}W.width=w,W.height=_;e:{var ie=W.width,fe=W.height;if(w=W.S,0>=ie||0>=fe||!(w>=d1&&13>w))w=2;else{if(0>=W.Rd&&W.sd==null){ne=re=Z=_=0;var ke=(ae=ie*zE[w])*fe;if(11>w||(re=(fe+1)/2*(_=(ie+1)/2),w==12&&(ne=(Z=ie)*fe)),(fe=s(ke+2*re+ne))==null){w=1;break e}W.sd=fe,11>w?((ie=W.f.RGBA).eb=fe,ie.fb=0,ie.A=ae,ie.size=ke):((ie=W.f.kb).y=fe,ie.O=0,ie.fa=ae,ie.Fd=ke,ie.f=fe,ie.N=0+ke,ie.Ab=_,ie.Cd=re,ie.ea=fe,ie.W=0+ke+re,ie.Db=_,ie.Ed=re,w==12&&(ie.F=fe,ie.J=0+ke+2*re),ie.Tc=ne,ie.lb=Z)}if(_=1,Z=W.S,re=W.width,ne=W.height,Z>=d1&&13>Z)if(11>Z)w=W.f.RGBA,_&=(ae=Math.abs(w.A))*(ne-1)+re<=w.size,_&=ae>=re*zE[Z],_&=w.eb!=null;else{w=W.f.kb,ae=(re+1)/2,ke=(ne+1)/2,ie=Math.abs(w.fa),fe=Math.abs(w.Ab);var Pe=Math.abs(w.Db),Oe=Math.abs(w.lb),je=Oe*(ne-1)+re;_&=ie*(ne-1)+re<=w.Fd,_&=fe*(ke-1)+ae<=w.Cd,_=(_&=Pe*(ke-1)+ae<=w.Ed)&ie>=re&fe>=ae&Pe>=ae,_&=w.y!=null,_&=w.f!=null,_&=w.ea!=null,Z==12&&(_&=Oe>=re,_&=je<=w.Tc,_&=w.F!=null)}else _=0;w=_?0:2}}return w!=0||D!=null&&D.fd&&(w=xm(W)),w}var Oa=64,K0=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Y0=24,X0=32,vm=8,Rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ye("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(w){return w},C.Predictor2=function(w,_,D){return _[D+0]},C.Predictor3=function(w,_,D){return _[D+1]},C.Predictor4=function(w,_,D){return _[D-1]},C.Predictor5=function(w,_,D){return ze(ze(w,_[D+1]),_[D+0])},C.Predictor6=function(w,_,D){return ze(w,_[D-1])},C.Predictor7=function(w,_,D){return ze(w,_[D+0])},C.Predictor8=function(w,_,D){return ze(_[D-1],_[D+0])},C.Predictor9=function(w,_,D){return ze(_[D+0],_[D+1])},C.Predictor10=function(w,_,D){return ze(ze(w,_[D-1]),ze(_[D+0],_[D+1]))},C.Predictor11=function(w,_,D){var W=_[D+0];return 0>=bt(W>>24&255,w>>24&255,(_=_[D-1])>>24&255)+bt(W>>16&255,w>>16&255,_>>16&255)+bt(W>>8&255,w>>8&255,_>>8&255)+bt(255&W,255&w,255&_)?W:w},C.Predictor12=function(w,_,D){var W=_[D+0];return(tt((w>>24&255)+(W>>24&255)-((_=_[D-1])>>24&255))<<24|tt((w>>16&255)+(W>>16&255)-(_>>16&255))<<16|tt((w>>8&255)+(W>>8&255)-(_>>8&255))<<8|tt((255&w)+(255&W)-(255&_)))>>>0},C.Predictor13=function(w,_,D){var W=_[D-1];return(ut((w=ze(w,_[D+0]))>>24&255,W>>24&255)<<24|ut(w>>16&255,W>>16&255)<<16|ut(w>>8&255,W>>8&255)<<8|ut(w>>0&255,W>>0&255))>>>0};var d5=C.PredictorAdd0;C.PredictorAdd1=St,ye("Predictor2","PredictorAdd2"),ye("Predictor3","PredictorAdd3"),ye("Predictor4","PredictorAdd4"),ye("Predictor5","PredictorAdd5"),ye("Predictor6","PredictorAdd6"),ye("Predictor7","PredictorAdd7"),ye("Predictor8","PredictorAdd8"),ye("Predictor9","PredictorAdd9"),ye("Predictor10","PredictorAdd10"),ye("Predictor11","PredictorAdd11"),ye("Predictor12","PredictorAdd12"),ye("Predictor13","PredictorAdd13");var ym=C.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var s1,Li=C.ColorIndexInverseTransform,Z0=C.MapARGB,i1=C.VP8LColorIndexInverseTransformAlpha,o1=C.MapAlpha,$c=C.VP8LPredictorsAdd=[];$c.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var hd,Bs,ys,Wc,zl,Ul,J0,$l,_n,bm,bs,Fi,Q0,l1,wm,md,pd,Hc,gd,ef,xd,Vc,km,Di,Ii,Mr,Rr,En,na=s(511),Wl=s(2041),Nm=s(225),tf=s(767),c1=0,f5=Wl,u1=Nm,li=tf,Mi=na,d1=0,f1=1,CE=2,h1=3,m1=4,h5=5,TE=6,m5=7,p5=8,p1=9,g5=10,MG=[2,3,7],RG=[3,3,11],PE=[280,256,256,256,40],BG=[0,1,1,1,0],zG=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],UG=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$G=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],WG=8,x5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],v5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Sm=null,HG=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VG=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],OE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qG=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],GG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],KG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],YG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qc=[],wo=[],Hl=[],XG=1,LE=2,Gc=[],Ri=[];$e("UpsampleRgbLinePair",sr,3),$e("UpsampleBgrLinePair",an,3),$e("UpsampleRgbaLinePair",bo,4),$e("UpsampleBgraLinePair",ga,4),$e("UpsampleArgbLinePair",Va,4),$e("UpsampleRgba4444LinePair",$n,2),$e("UpsampleRgb565LinePair",mn,2);var ZG=C.UpsampleRgbLinePair,JG=C.UpsampleBgrLinePair,FE=C.UpsampleRgbaLinePair,DE=C.UpsampleBgraLinePair,IE=C.UpsampleArgbLinePair,ME=C.UpsampleRgba4444LinePair,QG=C.UpsampleRgb565LinePair,g1=16,x1=1<<g1-1,jm=-227,y5=482,eK=6,RE=0,tK=s(256),rK=s(256),nK=s(256),aK=s(256),sK=s(y5-jm),iK=s(y5-jm);el("YuvToRgbRow",sr,3),el("YuvToBgrRow",an,3),el("YuvToRgbaRow",bo,4),el("YuvToBgraRow",ga,4),el("YuvToArgbRow",Va,4),el("YuvToRgba4444Row",$n,2),el("YuvToRgb565Row",mn,2);var BE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],v1=[0,2,8],oK=[8,7,6,4,4,2,2,2,1,1,1,1],lK=1;this.WebPDecodeRGBA=function(w,_,D,W,Z){var re=f1,ne=new H0,ae=new Dt;ne.ba=ae,ae.S=re,ae.width=[ae.width],ae.height=[ae.height];var ie=ae.width,fe=ae.height,ke=new Ot;if(ke==null||w==null)var Pe=2;else t(ke!=null),Pe=q0(w,_,D,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Pe!=0?ie=0:(ie!=null&&(ie[0]=ke.width[0]),fe!=null&&(fe[0]=ke.height[0]),ie=1),ie){ae.width=ae.width[0],ae.height=ae.height[0],W!=null&&(W[0]=ae.width),Z!=null&&(Z[0]=ae.height);e:{if(W=new Zo,(Z=new um).data=w,Z.w=_,Z.ha=D,Z.kd=1,_=[0],t(Z!=null),((w=q0(Z.data,Z.w,Z.ha,null,null,null,_,null,Z))==0||w==7)&&_[0]&&(w=4),(_=w)==0){if(t(ne!=null),W.data=Z.data,W.w=Z.w+Z.offset,W.ha=Z.ha-Z.offset,W.put=xr,W.ac=Ge,W.bc=xs,W.ma=ne,Z.xa){if((w=Be())==null){ne=1;break e}if(function(Oe,je){var Ye=[0],Ue=[0],Ne=[0];t:for(;;){if(Oe==null)return 0;if(je==null)return Oe.a=2,0;if(Oe.l=je,Oe.a=0,Y(Oe.m,je.data,je.w,je.ha),!Pt(Oe.m,Ye,Ue,Ne)){Oe.a=3;break t}if(Oe.xb=LE,je.width=Ye[0],je.height=Ue[0],!Te(Ye[0],Ue[0],1,Oe,null))break t;return 1}return t(Oe.a!=0),0}(w,W)){if(W=(_=G0(W.width,W.height,ne.Oa,ne.ba))==0){t:{W=w;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((D=W.l)!=null),t((Z=D.ma)!=null),W.xb!=0){if(W.ca=Z.ba,W.tb=Z.tb,t(W.ca!=null),!gm(Z.Oa,D,h1)){W.a=2;break r}if(!Le(W,D.width)||D.da)break r;if((D.da||nr(W.ca.S))&&_e(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&_e()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!He(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!pe(W,W.V,W.Ba,W.c,W.i,D.o,he))break r;Z.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(_=w.a)}else _=w.a}else{if((w=new ii)==null){ne=1;break e}if(w.Fa=Z.na,w.P=Z.P,w.qc=Z.Sa,Wx(w,W)){if((_=G0(W.width,W.height,ne.Oa,ne.ba))==0){if(w.Aa=0,D=ne.Oa,t((Z=w)!=null),D!=null){if(0<(ie=0>(ie=D.Md)?0:100<ie?255:255*ie/100)){for(fe=ke=0;4>fe;++fe)12>(Pe=Z.pb[fe]).lc&&(Pe.ia=ie*oK[0>Pe.lc?0:Pe.lc]>>3),ke|=Pe.ia;ke&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=D.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}Gw(w,W)||(_=w.a)}}else _=w.a}_==0&&ne.Oa!=null&&ne.Oa.fd&&(_=xm(ne.ba))}ne=_}re=ne!=0?null:11>re?ae.f.RGBA.eb:ae.f.kb.y}else re=null;return re};var zE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,E){for(var F="",O=0;O<4;O++)F+=String.fromCharCode(C[E++]);return F}function d(C,E){return(C[E+0]<<0|C[E+1]<<8|C[E+2]<<16)>>>0}function f(C,E){return(C[E+0]<<0|C[E+1]<<8|C[E+2]<<16|C[E+3]<<24)>>>0}new c;var h=[0],m=[0],p=[],g=new c,x=e,v=function(C,E){var F={},O=0,T=!1,H=0,K=0;if(F.frames=[],!function(R,U,I,X){for(var V=0;V<X;V++)if(R[U+V]!=I.charCodeAt(V))return!0;return!1}(C,E,"RIFF",4)){var se,M;for(f(C,E+=4),E+=8;E<C.length;){var B=u(C,E),Y=f(C,E+=4);E+=4;var z=Y+(1&Y);switch(B){case"VP8 ":case"VP8L":F.frames[O]===void 0&&(F.frames[O]={}),(L=F.frames[O]).src_off=T?K:E-8,L.src_size=H+Y+8,O++,T&&(T=!1,H=0,K=0);break;case"VP8X":(L=F.header={}).feature_flags=C[E];var Q=E+4;L.canvas_width=1+d(C,Q),Q+=3,L.canvas_height=1+d(C,Q),Q+=3;break;case"ALPH":T=!0,H=z+8,K=E-8;break;case"ANIM":(L=F.header).bgcolor=f(C,E),Q=E+4,L.loop_count=(se=C)[(M=Q)+0]<<0|se[M+1]<<8,Q+=2;break;case"ANMF":var de,L;(L=F.frames[O]={}).offset_x=2*d(C,E),E+=3,L.offset_y=2*d(C,E),E+=3,L.width=1+d(C,E),E+=3,L.height=1+d(C,E),E+=3,L.duration=d(C,E),E+=3,de=C[E++],L.dispose=1&de,L.blend=de>>1&1}B!="ANMF"&&(E+=z)}return F}}(x,0);v.response=x,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],m=[y.canvas_width];for(var N=0;N<b.length&&b[N].blend!=0;N++);}var S=b[0],A=g.WebPDecodeRGBA(x,S.src_off,S.src_size,m,h);S.rgba=A,S.imgwidth=m[0],S.imgheight=h[0];for(var j=0;j<m[0]*h[0]*4;j++)p[j]=A[j];return this.width=m,this.height=h,this.data=p,this}(function(e){var t=function(){return typeof WN=="function"},r=function(h,m,p,g){var x=4,v=i;switch(g){case e.image_compression.FAST:x=1,v=s;break;case e.image_compression.MEDIUM:x=6,v=o;break;case e.image_compression.SLOW:x=9,v=c}h=n(h,m,p,v);var y=WN(h,{level:x});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,m,p,g){for(var x,v,y,b=h.length/m,N=new Uint8Array(h.length+b),S=d(),A=0;A<b;A+=1){if(y=A*m,x=h.subarray(y,y+m),g)N.set(g(x,p,v),y+A);else{for(var j,C=S.length,E=[];j<C;j+=1)E[j]=S[j](x,p,v);var F=f(E.concat());N.set(E[F],y+A)}v=x}return N},a=function(h){var m=Array.apply([],h);return m.unshift(0),m},s=function(h,m){var p,g=[],x=h.length;g[0]=1;for(var v=0;v<x;v+=1)p=h[v-m]||0,g[v+1]=h[v]-p+256&255;return g},i=function(h,m,p){var g,x=[],v=h.length;x[0]=2;for(var y=0;y<v;y+=1)g=p&&p[y]||0,x[y+1]=h[y]-g+256&255;return x},o=function(h,m,p){var g,x,v=[],y=h.length;v[0]=3;for(var b=0;b<y;b+=1)g=h[b-m]||0,x=p&&p[b]||0,v[b+1]=h[b]+256-(g+x>>>1)&255;return v},c=function(h,m,p){var g,x,v,y,b=[],N=h.length;b[0]=4;for(var S=0;S<N;S+=1)g=h[S-m]||0,x=p&&p[S]||0,v=p&&p[S-m]||0,y=u(g,x,v),b[S+1]=h[S]-y+256&255;return b},u=function(h,m,p){if(h===m&&m===p)return h;var g=Math.abs(m-p),x=Math.abs(h-p),v=Math.abs(h+m-p-p);return g<=x&&g<=v?h:x<=v?m:p},d=function(){return[a,s,i,o,c]},f=function(h){var m=h.map(function(p){return p.reduce(function(g,x){return g+Math.abs(x)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(h,m,p,g){var x,v,y,b,N,S,A,j,C,E,F,O,T,H,K,se=this.decode.FLATE_DECODE,M="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new ufe(h)).imgData,v=y.bits,x=y.colorSpace,N=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){C=(j=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,F=new Uint8Array(C*y.colors),E=new Uint8Array(C);var B,Y=y.pixelBitlength-y.bits;for(H=0,K=0;H<C;H++){for(T=j[H],B=0;B<Y;)F[K++]=T>>>B&255,B+=y.bits;E[H]=T>>>B&255}}if(y.bits===16){C=(j=new Uint32Array(y.decodePixels().buffer)).length,F=new Uint8Array(C*(32/y.pixelBitlength)*y.colors),E=new Uint8Array(C*(32/y.pixelBitlength)),O=y.colors>1,H=0,K=0;for(var z=0;H<C;)T=j[H++],F[K++]=T>>>0&255,O&&(F[K++]=T>>>16&255,T=j[H++],F[K++]=T>>>0&255),E[z++]=T>>>16&255;v=8}g!==e.image_compression.NONE&&t()?(h=r(F,y.width*y.colors,y.colors,g),A=r(E,y.width,1,g)):(h=F,A=E,se=void 0)}if(y.colorType===3&&(x=this.color_spaces.INDEXED,S=y.palette,y.transparency.indexed)){var Q=y.transparency.indexed,de=0;for(H=0,C=Q.length;H<C;++H)de+=Q[H];if((de/=255)===C-1&&Q.indexOf(0)!==-1)b=[Q.indexOf(0)];else if(de!==C){for(j=y.decodePixels(),E=new Uint8Array(j.length),H=0,C=j.length;H<C;H++)E[H]=Q[j[H]];A=r(E,y.width,1)}}var L=function(R){var U;switch(R){case e.image_compression.FAST:U=11;break;case e.image_compression.MEDIUM:U=13;break;case e.image_compression.SLOW:U=14;break;default:U=12}return U}(g);return se===this.decode.FLATE_DECODE&&(M="/Predictor "+L+" "),M+="/Colors "+N+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:p,data:h,index:m,filter:se,decodeParameters:M,transparency:b,palette:S,sMask:A,predictor:L,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:x}}}})(Et.API),function(e){e.processGIF89A=function(t,r,n,a){var s=new dfe(t),i=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:o},d=new Tk(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Et.API),Ao.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ao.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Fr.log("bit decode error:"+r)}},Ao.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[i+4*o]=c.blue,this.data[i+4*o+1]=c.green,this.data[i+4*o+2]=c.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ao.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,o=s>>4,c=15&s,u=this.palette[o];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},Ao.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ao.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=u}this.pos+=e}},Ao.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,c=(i>>5&r)/r*255|0,u=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Ao.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},Ao.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=i}},Ao.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new Ao(t,!1),i=s.width,o=s.height,c={data:s.getData(),width:i,height:o},u=new Tk(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Et.API),g8.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new g8(t),i=s.width,o=s.height,c={data:s.getData(),width:i,height:o},u=new Tk(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Et.API),Et.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];s[o++]=d,s[o++]=f,s[o++]=h,i[c++]=m}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Et.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ff=Et.API,ov=ff.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,p=0,g=o[0]||c,x=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(h=f&&_r(u[n])==="object"&&!isNaN(parseInt(u[n][p],10))?u[n][p]/d:0,x.push((o[n]||g)/c+h)),p=n;return x},f8=ff.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return ff.processArabic&&(e=ff.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:ov.apply(this,arguments).reduce(function(s,i){return s+i},0)},h8=function(e,t,r,n){for(var a=[],s=0,i=e.length,o=0;s!==i&&o+t[s]<r;)o+=t[s],s++;a.push(e.slice(0,s));var c=s;for(o=0;s!==i;)o+t[s]>n&&(a.push(e.slice(c,s)),o=0,c=s),o+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},m8=function(e,t,r){r||(r={});var n,a,s,i,o,c,u,d=[],f=[d],h=r.textIndent||0,m=0,p=0,g=e.split(" "),x=ov.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),y=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?y=y.concat(N.map(function(S,A){return(A&&S.length?`
`:"")+S})):y.push(N[0])}),g=y,c=f8.apply(this,[v,r])}for(s=0,i=g.length;s<i;s++){var b=0;if(n=g[s],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+m+(p=(a=ov.apply(this,[n,r])).reduce(function(N,S){return N+S},0))>t||b){if(p>t){for(o=h8.apply(this,[n,a,t-(h+m),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);p=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(N,S){return N+S},0)}else d=[n];f.push(d),h=p+c,m=x}else d.push(n),h+=m+p,m=x}return u=c?function(N,S){return(S?v:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(u)},ff.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(m8.apply(this,[n[o],i,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},i=e.__fontmetrics__.compress=function(f){var h,m,p,g,x=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?m="'"+v+"'":(v=parseInt(v,10),m=(m=s(v).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof h=="number")h<0?(p=s(h).slice(3),g="-"):(p=s(h).slice(2),g=""),p=g+p.slice(0,-1)+n[p.slice(-1)];else{if(_r(h)!=="object")throw new Error("Don't know what to do with value type "+_r(h)+".");p=i(h)}x.push(m+p)}return x.push("}"),x.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,p,g,x={},v=1,y=x,b=[],N="",S="",A=f.length-1,j=1;j<A;j+=1)(g=f[j])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(b.push([y,p]),y={},p=void 0):g=="}"?((m=b.pop())[0][m[1]]=y,p=void 0,y=m[0]):g=="-"?v=-1:p===void 0?r.hasOwnProperty(g)?(N+=r[g],p=parseInt(N,16)*v,v=1,N=""):N+=g:r.hasOwnProperty(g)?(S+=r[g],y[p]=parseInt(S,16)*v,v=1,p=void 0,S=""):S+=g;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])}(Et.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(jp(o)),i.metadata=e.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(Et),function(e){function t(){return(Rt.canvg?Promise.resolve(Rt.canvg):qy(()=>import("./index.es-DegNFDot.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Et.API.addSvgAsImage=function(r,n,a,s,i,o,c,u){if(isNaN(n)||isNaN(a))throw Fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw Fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=i;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(p){return p.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,s,i,c,u)})}}(),Et.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Et.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),c=[],u=0,d=0,f=0;function h(p,g){var x,v=!1;for(x=0;x<p.length;x+=1)p[x]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(f=0;f<m;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(_r(e)==="object"){for(a in e)if(s=e[a],h(o,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&h(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?g.push("/"+p+" /"+r[p].value):g.push("/"+p+" "+r[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Et.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,i){for(var o,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=s.length;f<h;++f){if(o=i.metadata.characterToGlyph(s.charCodeAt(f)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=s.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(s){var i,o,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(o=Object.keys(s).sort(function(m,p){return m-p})).length;f<h;f++)i=o[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(i){var o=i.font,c=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var g=u();d({data:m,addLength1:!0,objectId:g}),c("endobj");var x=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+vf(o.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+vf(o.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+vf(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(i){var o=i.font,c=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var p=u();d({data:h,addLength1:!0,objectId:p}),c("endobj");var g=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+p+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+vf(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+vf(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,o=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},h=f.pdfEscape,m=f.activeFontKey,p=f.fonts,g=m,x="",v=0,y="",b=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:f};for(y=o,g=m,Array.isArray(o)&&(y=o[0]),v=0;v<y.length;v+=1)p[g].metadata.hasOwnProperty("cmap")&&(i=p[g].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),i||y[v].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?x+=y[v]:x+="";var N="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?N=h(x,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(N=r(x,p[g])),f.isHex=!0,{text:N,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var i=s.text||"",o=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?o.push([a(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):o.push(a(Object.assign({},c,{text:i[u]})).text);s.text=o}else s.text=a(Object.assign({},c,{text:i})).text}])}(Et),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Et.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,i,o,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var N=function(O){var T=O.charCodeAt(),H=T>>8,K=g[H];return K!==void 0?f[256*K+(255&T)]:H===252||H===253?"AL":v.test(H)?"L":H===8?"R":"N"},S=function(O){for(var T,H=0;H<O.length;H++){if((T=N(O.charAt(H)))==="L")return!1;if(T==="R")return!0}return!1},A=function(O,T,H,K){var se,M,B,Y,z=T[K];switch(z){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(z="AN");break;case"AL":y=!0,z="R";break;case"WS":z="N";break;case"CS":K<1||K+1>=T.length||(se=H[K-1])!=="EN"&&se!=="AN"||(M=T[K+1])!=="EN"&&M!=="AN"?z="N":y&&(M="AN"),z=M===se?M:"N";break;case"ES":z=(se=K>0?H[K-1]:"B")==="EN"&&K+1<T.length&&T[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&H[K-1]==="EN"){z="EN";break}if(y){z="N";break}for(B=K+1,Y=T.length;B<Y&&T[B]==="ET";)B++;z=B<Y&&T[B]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(Y=T.length,B=K+1;B<Y&&T[B]==="NSM";)B++;if(B<Y){var Q=O[K],de=Q>=1425&&Q<=2303||Q===64286;if(se=T[B],de&&(se==="R"||se==="AL")){z="R";break}}}z=K<1||(se=T[K-1])==="B"?"N":H[K-1];break;case"B":y=!1,a=!0,z=b;break;case"S":s=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":z="N"}return z},j=function(O,T,H){var K=O.split("");return H&&C(K,H,{hiLevel:b}),K.reverse(),T&&T.reverse(),K.join("")},C=function(O,T,H){var K,se,M,B,Y,z=-1,Q=O.length,de=0,L=[],R=b?m:h,U=[];for(y=!1,a=!1,s=!1,se=0;se<Q;se++)U[se]=N(O[se]);for(M=0;M<Q;M++){if(Y=de,L[M]=A(O,U,L,M),K=240&(de=R[Y][p[L[M]]]),de&=15,T[M]=B=R[de][5],K>0)if(K===16){for(se=z;se<M;se++)T[se]=1;z=-1}else z=-1;if(R[de][6])z===-1&&(z=M);else if(z>-1){for(se=z;se<M;se++)T[se]=B;z=-1}U[M]==="B"&&(T[M]=0),H.hiLevel|=B}s&&function(I,X,V){for(var ee=0;ee<V;ee++)if(I[ee]==="S"){X[ee]=b;for(var G=ee-1;G>=0&&I[G]==="WS";G--)X[G]=b}}(U,T,Q)},E=function(O,T,H,K,se){if(!(se.hiLevel<O)){if(O===1&&b===1&&!a)return T.reverse(),void(H&&H.reverse());for(var M,B,Y,z,Q=T.length,de=0;de<Q;){if(K[de]>=O){for(Y=de+1;Y<Q&&K[Y]>=O;)Y++;for(z=de,B=Y-1;z<B;z++,B--)M=T[z],T[z]=T[B],T[B]=M,H&&(M=H[z],H[z]=H[B],H[B]=M);de=Y}de++}}},F=function(O,T,H){var K=O.split(""),se={hiLevel:b};return H||(H=[]),C(K,H,se),function(M,B,Y){if(Y.hiLevel!==0&&d)for(var z,Q=0;Q<M.length;Q++)B[Q]===1&&(z=x.indexOf(M[Q]))>=0&&(M[Q]=x[z+1])}(K,H,se),E(2,K,T,H,se),E(1,K,T,H,se),K.join("")};return this.__bidiEngine__.doBidiReorder=function(O,T,H){if(function(se,M){if(M)for(var B=0;B<se.length;B++)M[B]=B;o===void 0&&(o=S(se)),u===void 0&&(u=S(se))}(O,T),i||!c||u)if(i&&c&&o^u)b=o?1:0,O=j(O,T,H);else if(!i&&c&&u)b=o?1:0,O=F(O,T,H),O=j(O,T);else if(!i||o||c||u){if(i&&!c&&o^u)O=j(O,T),o?(b=0,O=F(O,T,H)):(b=1,O=F(O,T,H),O=j(O,T));else if(i&&o&&!c&&u)b=1,O=F(O,T,H),O=j(O,T);else if(!i&&!c&&o^u){var K=d;o?(b=1,O=F(O,T,H),b=0,d=!1,O=F(O,T,H),d=K):(b=0,O=F(O,T,H),O=j(O,T),b=1,d=!1,O=F(O,T,H),d=K,O=j(O,T))}}else b=0,O=F(O,T,H);else b=o?1:0,O=F(O,T,H);return O},this.__bidiEngine__.setOptions=function(O){O&&(i=O.isInputVisual,c=O.isOutputVisual,o=O.isInputRtl,u=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),i=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(i=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?i.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):i.push([r.doBidiReorder(a[o])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Uu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Afe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ffe(this.contents),this.head=new mfe(this),this.name=new yfe(this),this.cmap=new YB(this),this.toUnicode={},this.hhea=new pfe(this),this.maxp=new bfe(this),this.hmtx=new wfe(this),this.post=new xfe(this),this.os2=new gfe(this),this.loca=new jfe(this),this.glyf=new kfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,c,u;for(u=[],i=0,o=(c=this.bbox).length;i<o;i++)t=c[i],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,i,o;for(i=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)a=t.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ko,Uu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,i,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*i+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),ffe=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,i,o,c,u,d,f,h,m,p,g;for(g in m=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),i=Math.floor(f/c),d=16*m-f,(a=new Uu).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(i),a.writeShort(d),s=16*m,u=a.pos+s,o=null,p=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),p=p.concat(h),g==="head"&&(o=u),u+=h.length;u%4;)p.push(0),u++;return a.write(p),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,i;for(r=XB.call(r);r.length%4;)r.push(0);for(s=new Uu(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),hfe={}.hasOwnProperty,Dl=function(e,t){for(var r in t)hfe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ko=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var mfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Uu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),x8=function(){function e(t,r){var n,a,s,i,o,c,u,d,f,h,m,p,g,x,v,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,s=function(){var N,S;for(S=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)S.push(t.readUInt16());return S}(),t.pos+=2,g=function(){var N,S;for(S=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)S.push(t.readUInt16());return S}(),u=function(){var N,S;for(S=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)S.push(t.readUInt16());return S}(),d=function(){var N,S;for(S=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)S.push(t.readUInt16());return S}(),a=(this.length-t.pos+this.offset)/2,o=function(){var N,S;for(S=[],c=N=0;0<=a?N<a:N>a;c=0<=a?++N:--N)S.push(t.readUInt16());return S}(),c=v=0,b=s.length;v<b;c=++v)for(x=s[c],n=y=p=g[c];p<=x?y<=x:y>=x;n=p<=x?++y:--y)d[c]===0?i=n+u[c]:(i=o[d[c]/2+(n-p)-(h-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}t.pos=f}return e.encode=function(t,r){var n,a,s,i,o,c,u,d,f,h,m,p,g,x,v,y,b,N,S,A,j,C,E,F,O,T,H,K,se,M,B,Y,z,Q,de,L,R,U,I,X,V,ee,G,ue,ve,q;switch(K=new Uu,i=Object.keys(t).sort(function(Me,He){return Me-He}),r){case"macroman":for(g=0,x=function(){var Me=[];for(p=0;p<256;++p)Me.push(0);return Me}(),y={0:0},s={},se=0,z=i.length;se<z;se++)y[G=t[a=i[se]]]==null&&(y[G]=++g),s[a]={old:t[a],new:y[t[a]]},x[a]=y[t[a]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(x),{charMap:s,subtable:K.data,maxGlyphID:g+1};case"unicode":for(T=[],f=[],b=0,y={},n={},v=u=null,M=0,Q=i.length;M<Q;M++)y[S=t[a=i[M]]]==null&&(y[S]=++b),n[a]={old:S,new:y[S]},o=y[S]-a,v!=null&&o===u||(v&&f.push(v),T.push(a),u=o),v=a;for(v&&f.push(v),f.push(65535),T.push(65535),F=2*(E=T.length),C=2*Math.pow(Math.log(E)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,j=2*E-C,c=[],A=[],m=[],p=B=0,de=T.length;B<de;p=++B){if(O=T[p],d=f[p],O===65535){c.push(0),A.push(0);break}if(O-(H=n[O].new)>=32768)for(c.push(0),A.push(2*(m.length+E-p)),a=Y=O;O<=d?Y<=d:Y>=d;a=O<=d?++Y:--Y)m.push(n[a].new);else c.push(H-O),A.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*E+2*m.length),K.writeUInt16(0),K.writeUInt16(F),K.writeUInt16(C),K.writeUInt16(h),K.writeUInt16(j),V=0,L=f.length;V<L;V++)a=f[V],K.writeUInt16(a);for(K.writeUInt16(0),ee=0,R=T.length;ee<R;ee++)a=T[ee],K.writeUInt16(a);for(ue=0,U=c.length;ue<U;ue++)o=c[ue],K.writeUInt16(o);for(ve=0,I=A.length;ve<I;ve++)N=A[ve],K.writeUInt16(N);for(q=0,X=m.length;q<X;q++)g=m[q],K.writeUInt16(g);return{charMap:n,subtable:K.data,maxGlyphID:b+1}}},e}(),YB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new x8(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=x8.encode(r,n),(s=new Uu).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),pfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),gfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),xfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],i=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;i=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),vfe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},yfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,i,o,c,u,d,f,h,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},i=f=0,h=a.length;f<h;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),o=new vfe(d,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),bfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),wfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,i,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)i=h[d],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),XB=[].slice,kfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,i,o,c,u,d,f,h;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new Uu(n.read(s))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=o===-1?new Sfe(c,d,h,u,f):new Nfe(c,o,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,i,o,c,u;for(o=[],i=[],c=0,u=n.length;c<u;c++)s=r[n[c]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},t}(),Nfe=function(){function e(t,r,n,a,s,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Sfe=function(){function e(t,r,n,a,s){var i,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Uu(XB.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),jfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Ko),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<n.length&&n[i]==o){++i,a[o]=s;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(s+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),Afe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,i,o,c;for(a={},i=0,o=t.length;i<o;i++)a[s=t[i]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,i,o,c,u,d,f,h,m,p,g,x,v;for(a in n=YB.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),m={0:0},v=n.charMap)m[(c=v[a]).old]=c.new;for(p in h=n.maxGlyphID,i)p in m||(m[p]=h++);return d=function(y){var b,N;for(b in N={},y)N[y[b]]=b;return N}(m),f=Object.keys(d).sort(function(y,b){return y-b}),g=function(){var y,b,N;for(N=[],y=0,b=f.length;y<b;y++)o=f[y],N.push(d[o]);return N}(),s=this.font.glyf.encode(i,g,m),u=this.font.loca.encode(s.offsets,g),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Et.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,i;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)i=r[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join(`
`)}return""+r},t}();const _fe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:afe,AcroFormAppearance:wt,AcroFormButton:sa,AcroFormCheckBox:Ep,AcroFormChoiceField:Kd,AcroFormComboBox:Xd,AcroFormEditBox:Ap,AcroFormListBox:Yd,AcroFormPasswordField:Cp,AcroFormPushButton:_p,AcroFormRadioButton:Zd,AcroFormTextField:Tu,GState:bg,ShadingPattern:uu,TilingPattern:Ld,default:Et,jsPDF:Et},Symbol.toStringTag,{value:"Module"}));var ZB={exports:{}};const Efe=NK(_fe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return Efe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof T5<"u"?T5:typeof window<"u"?window:typeof self<"u"?self:T5,function(r){return function(){var n={172:function(o,c){var u=this&&this.__extends||function(){var h=function(m,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(g[v]=x[v])},h(m,p)};return function(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(m,p);function g(){this.constructor=m}m.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(m,p,g){this.table=p,this.pageNumber=p.pageNumber,this.pageCount=this.pageNumber,this.settings=p.settings,this.cursor=g,this.doc=m.getDocument()}return h}();c.HookData=d;var f=function(h){u(m,h);function m(p,g,x,v,y,b){var N=h.call(this,p,g,b)||this;return N.cell=x,N.row=v,N.column=y,N.section=v.section,N}return m}(d);c.CellHookData=f},340:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),m=u(776),p=u(664),g=u(972);function x(v){v.API.autoTable=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var N;y.length===1?N=y[0]:(console.error("Use of deprecated autoTable initiation"),N=y[2]||{},N.columns=y[0],N.body=y[1]);var S=(0,m.parseInput)(this,N),A=(0,g.createTable)(this,S);return(0,p.drawTable)(this,A),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(y,b,N,S){(0,f.default)(y,b,N,S,this)},v.API.autoTableSetDefaults=function(y){return h.DocHandler.setDefaults(y,this),this},v.autoTableSetDefaults=function(y,b){h.DocHandler.setDefaults(y,b)},v.API.autoTableHtmlToJson=function(y,b){var N;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var S=new h.DocHandler(this),A=(0,d.parseHtml)(S,y,window,b,!1),j=A.head,C=A.body,E=((N=j[0])===null||N===void 0?void 0:N.map(function(F){return F.content}))||[];return{columns:E,rows:C,data:C}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},v.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=y,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=x},136:function(o,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,f,h,m,p){m=m||{};var g=1.15,x=p.internal.scaleFactor,v=p.internal.getFontSize()/x,y=p.getLineHeightFactor?p.getLineHeightFactor():g,b=v*y,N=/\r\n|\r|\n/g,S="",A=1;if((m.valign==="middle"||m.valign==="bottom"||m.halign==="center"||m.halign==="right")&&(S=typeof d=="string"?d.split(N):d,A=S.length||1),h+=v*(2-g),m.valign==="middle"?h-=A/2*b:m.valign==="bottom"&&(h-=A*b),m.halign==="center"||m.halign==="right"){var j=v;if(m.halign==="center"&&(j*=.5),S&&A>=1){for(var C=0;C<S.length;C++)p.text(S[C],f-p.getStringUnitWidth(S[C])*j,h),h+=b;return p}f-=p.getStringUnitWidth(d)*j}return m.halign==="justify"?p.text(d,f,h,{maxWidth:m.maxWidth||100,align:"justify"}):p.text(d,f,h),p}c.default=u},420:function(o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(p,g,x){x.applyStyles(g,!0);var v=Array.isArray(p)?p:[p],y=v.map(function(b){return x.getTextWidth(b)}).reduce(function(b,N){return Math.max(b,N)},0);return y}c.getStringWidth=u;function d(p,g,x,v){var y=g.settings.tableLineWidth,b=g.settings.tableLineColor;p.applyStyles({lineWidth:y,lineColor:b});var N=f(y,!1);N&&p.rect(x.x,x.y,g.getWidth(p.pageSize().width),v.y-x.y,N)}c.addTableBorder=d;function f(p,g){var x=p>0,v=g||g===0;return x&&v?"DF":x?"S":v?"F":null}c.getFillStyle=f;function h(p,g){var x,v,y,b;if(p=p||g,Array.isArray(p)){if(p.length>=4)return{top:p[0],right:p[1],bottom:p[2],left:p[3]};if(p.length===3)return{top:p[0],right:p[1],bottom:p[2],left:p[1]};if(p.length===2)return{top:p[0],right:p[1],bottom:p[0],left:p[1]};p.length===1?p=p[0]:p=g}return typeof p=="object"?(typeof p.vertical=="number"&&(p.top=p.vertical,p.bottom=p.vertical),typeof p.horizontal=="number"&&(p.right=p.horizontal,p.left=p.horizontal),{left:(x=p.left)!==null&&x!==void 0?x:g,top:(v=p.top)!==null&&v!==void 0?v:g,right:(y=p.right)!==null&&y!==void 0?y:g,bottom:(b=p.bottom)!==null&&b!==void 0?b:g}):(typeof p!="number"&&(p=g),{top:p,right:p,bottom:p,left:p})}c.parseSpacing=h;function m(p,g){var x=h(g.settings.margin,0);return p.pageSize().width-(x.left+x.right)}c.getPageAvailableWidth=m},796:function(o,c){var u=this&&this.__extends||function(){var m=function(p,g){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(x[y]=v[y])},m(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");m(p,g);function x(){this.constructor=p}p.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(m){u(p,m);function p(g){var x=m.call(this)||this;return x._element=g,x}return p}(Array);c.HtmlRowInput=d;function f(m){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/m,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function h(m){var p={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return p[m]}c.getTheme=h},903:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function f(x,v,y,b,N){var S={},A=1.3333333333333333,j=m(v,function(z){return N.getComputedStyle(z).backgroundColor});j!=null&&(S.fillColor=j);var C=m(v,function(z){return N.getComputedStyle(z).color});C!=null&&(S.textColor=C);var E=g(b,y);E&&(S.cellPadding=E);var F="borderTopColor",O=A*y,T=b.borderTopWidth;if(b.borderBottomWidth===T&&b.borderRightWidth===T&&b.borderLeftWidth===T){var H=(parseFloat(T)||0)/O;H&&(S.lineWidth=H)}else S.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/O,right:(parseFloat(b.borderRightWidth)||0)/O,bottom:(parseFloat(b.borderBottomWidth)||0)/O,left:(parseFloat(b.borderLeftWidth)||0)/O},S.lineWidth.top||(S.lineWidth.right?F="borderRightColor":S.lineWidth.bottom?F="borderBottomColor":S.lineWidth.left&&(F="borderLeftColor"));var K=m(v,function(z){return N.getComputedStyle(z)[F]});K!=null&&(S.lineColor=K);var se=["left","right","center","justify"];se.indexOf(b.textAlign)!==-1&&(S.halign=b.textAlign),se=["middle","bottom","top"],se.indexOf(b.verticalAlign)!==-1&&(S.valign=b.verticalAlign);var M=parseInt(b.fontSize||"");isNaN(M)||(S.fontSize=M/A);var B=h(b);B&&(S.fontStyle=B);var Y=(b.fontFamily||"").toLowerCase();return x.indexOf(Y)!==-1&&(S.font=Y),S}c.parseCss=f;function h(x){var v="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(v="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(v+="italic"),v}function m(x,v){var y=p(x,v);if(!y)return null;var b=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var N=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],S=parseInt(b[4]);return S===0||isNaN(N[0])||isNaN(N[1])||isNaN(N[2])?null:N}function p(x,v){var y=v(x);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?x.parentElement==null?null:p(x.parentElement,v):y}function g(x,v){var y=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],b=96/(72/v),N=(parseInt(x.lineHeight)-parseInt(x.fontSize))/v/2,S=y.map(function(j){return parseInt(j||"0")/b}),A=(0,d.parseSpacing)(S,0);return N>A.top&&(A.top=N),N>A.bottom&&(A.bottom=N),A}},744:function(o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,m){m===void 0&&(m=null),m?m.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,m){var p,g,x;m===void 0&&(m=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var v=this.jsPDFDocument.internal.getFont(),y=v.fontStyle,b=v.fontName;if(h.font&&(b=h.font),h.fontStyle){y=h.fontStyle;var N=this.getFontList()[b];N&&N.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(N[0]),y=N[0])}if(this.jsPDFDocument.setFont(b,y),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!m){var S=f.unifyColor(h.fillColor);S&&(p=this.jsPDFDocument).setFillColor.apply(p,S),S=f.unifyColor(h.textColor),S&&(g=this.jsPDFDocument).setTextColor.apply(g,S),S=f.unifyColor(h.lineColor),S&&(x=this.jsPDFDocument).setDrawColor.apply(x,S),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,m,p){return this.jsPDFDocument.splitTextToSize(h,m,p)},f.prototype.rect=function(h,m,p,g,x){return this.jsPDFDocument.rect(h,m,p,g,x)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=d},4:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),f=u(796);function h(g,x,v,y,b){var N,S;y===void 0&&(y=!1),b===void 0&&(b=!1);var A;typeof x=="string"?A=v.document.querySelector(x):A=x;var j=Object.keys(g.getFontList()),C=g.scaleFactor(),E=[],F=[],O=[];if(!A)return console.error("Html table could not be found with input: ",x),{head:E,body:F,foot:O};for(var T=0;T<A.rows.length;T++){var H=A.rows[T],K=(S=(N=H==null?void 0:H.parentElement)===null||N===void 0?void 0:N.tagName)===null||S===void 0?void 0:S.toLowerCase(),se=m(j,C,v,H,y,b);se&&(K==="thead"?E.push(se):K==="tfoot"?O.push(se):F.push(se))}return{head:E,body:F,foot:O}}c.parseHtml=h;function m(g,x,v,y,b,N){for(var S=new f.HtmlRowInput(y),A=0;A<y.cells.length;A++){var j=y.cells[A],C=v.getComputedStyle(j);if(b||C.display!=="none"){var E=void 0;N&&(E=(0,d.parseCss)(g,j,x,C,v)),S.push({rowSpan:j.rowSpan,colSpan:j.colSpan,styles:E,_element:j,content:p(j)})}}var F=v.getComputedStyle(y);if(S.length>0&&(b||F.display!=="none"))return S}function p(g){var x=g.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),f=u(356),h=u(420),m=u(744),p=u(792);function g(A,j){var C=new m.DocHandler(A),E=C.getDocumentOptions(),F=C.getGlobalOptions();(0,p.default)(C,F,E,j);var O=(0,f.assign)({},F,E,j),T;typeof window<"u"&&(T=window);var H=x(F,E,j),K=v(F,E,j),se=y(C,O),M=N(C,O,T);return{id:j.tableId,content:M,hooks:K,styles:H,settings:se}}c.parseInput=g;function x(A,j,C){for(var E={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},F=function(K){if(K==="columnStyles"){var se=A[K],M=j[K],B=C[K];E.columnStyles=(0,f.assign)({},se,M,B)}else{var Y=[A,j,C],z=Y.map(function(Q){return Q[K]||{}});E[K]=(0,f.assign)({},z[0],z[1],z[2])}},O=0,T=Object.keys(E);O<T.length;O++){var H=T[O];F(H)}return E}function v(A,j,C){for(var E=[A,j,C],F={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,T=E;O<T.length;O++){var H=T[O];H.didParseCell&&F.didParseCell.push(H.didParseCell),H.willDrawCell&&F.willDrawCell.push(H.willDrawCell),H.didDrawCell&&F.didDrawCell.push(H.didDrawCell),H.willDrawPage&&F.willDrawPage.push(H.willDrawPage),H.didDrawPage&&F.didDrawPage.push(H.didDrawPage)}return F}function y(A,j){var C,E,F,O,T,H,K,se,M,B,Y,z,Q=(0,h.parseSpacing)(j.margin,40/A.scaleFactor()),de=(C=b(A,j.startY))!==null&&C!==void 0?C:Q.top,L;j.showFoot===!0?L="everyPage":j.showFoot===!1?L="never":L=(E=j.showFoot)!==null&&E!==void 0?E:"everyPage";var R;j.showHead===!0?R="everyPage":j.showHead===!1?R="never":R=(F=j.showHead)!==null&&F!==void 0?F:"everyPage";var U=(O=j.useCss)!==null&&O!==void 0?O:!1,I=j.theme||(U?"plain":"striped"),X=!!j.horizontalPageBreak,V=(T=j.horizontalPageBreakRepeat)!==null&&T!==void 0?T:null;return{includeHiddenHtml:(H=j.includeHiddenHtml)!==null&&H!==void 0?H:!1,useCss:U,theme:I,startY:de,margin:Q,pageBreak:(K=j.pageBreak)!==null&&K!==void 0?K:"auto",rowPageBreak:(se=j.rowPageBreak)!==null&&se!==void 0?se:"auto",tableWidth:(M=j.tableWidth)!==null&&M!==void 0?M:"auto",showHead:R,showFoot:L,tableLineWidth:(B=j.tableLineWidth)!==null&&B!==void 0?B:0,tableLineColor:(Y=j.tableLineColor)!==null&&Y!==void 0?Y:200,horizontalPageBreak:X,horizontalPageBreakRepeat:V,horizontalPageBreakBehaviour:(z=j.horizontalPageBreakBehaviour)!==null&&z!==void 0?z:"afterAllRows"}}function b(A,j){var C=A.getLastAutoTable(),E=A.scaleFactor(),F=A.pageNumber(),O=!1;if(C&&C.startPageNumber){var T=C.startPageNumber+C.pageNumber-1;O=T===F}return typeof j=="number"?j:(j==null||j===!1)&&O&&(C==null?void 0:C.finalY)!=null?C.finalY+20/E:null}function N(A,j,C){var E=j.head||[],F=j.body||[],O=j.foot||[];if(j.html){var T=j.includeHiddenHtml;if(C){var H=(0,d.parseHtml)(A,j.html,C,T,j.useCss)||{};E=H.head||E,F=H.body||E,O=H.foot||E}else console.error("Cannot parse html in non browser environment")}var K=j.columns||S(E,F,O);return{columns:K,head:E,body:F,foot:O}}function S(A,j,C){var E=A[0]||j[0]||C[0]||[],F=[];return Object.keys(E).filter(function(O){return O!=="_element"}).forEach(function(O){var T=1,H;Array.isArray(E)?H=E[parseInt(O)]:H=E[O],typeof H=="object"&&!Array.isArray(H)&&(T=(H==null?void 0:H.colSpan)||1);for(var K=0;K<T;K++){var se=void 0;Array.isArray(E)?se=F.length:se=O+(K>0?"_".concat(K):"");var M={dataKey:se};F.push(M)}}),F}},792:function(o,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,h,m,p){for(var g=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(O){f.applyStyles(f.userStyles),b.beforePageContent&&b.beforePageContent(O),f.applyStyles(f.userStyles),b.afterPageContent&&b.afterPageContent(O),f.applyStyles(f.userStyles),b.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){b[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var T=O[0],H=O[1];b[H]&&(console.error("Use of deprecated option ".concat(H,". Use ").concat(T," instead")),b[T]=b[H])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var T=typeof O=="string"?O:O[0],H=typeof O=="string"?O:O[1];typeof b[T]<"u"&&(typeof b.styles[H]>"u"&&(b.styles[H]=b[T]),console.error("Use of deprecated option: "+T+", use the style "+H+" instead."))});for(var N=0,S=["styles","bodyStyles","headStyles","footStyles"];N<S.length;N++){var A=S[N];d(b[A]||{})}for(var j=b.columnStyles||{},C=0,E=Object.keys(j);C<E.length;C++){var F=E[C];d(j[F]||{})}},x=0,v=[h,m,p];x<v.length;x++){var y=v[x];g(y)}}c.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),f=u(172),h=u(420),m=function(){function v(y,b){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return v.prototype.getHeadHeight=function(y){return this.head.reduce(function(b,N){return b+N.getMaxCellHeight(y)},0)},v.prototype.getFootHeight=function(y){return this.foot.reduce(function(b,N){return b+N.getMaxCellHeight(y)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(y,b,N,S,A,j){for(var C=0,E=b;C<E.length;C++){var F=E[C],O=new f.CellHookData(y,this,N,S,A,j),T=F(O)===!1;if(N.text=Array.isArray(N.text)?N.text:[N.text],T)return!1}return!0},v.prototype.callEndPageHooks=function(y,b){y.applyStyles(y.userStyles);for(var N=0,S=this.hooks.didDrawPage;N<S.length;N++){var A=S[N];A(new f.HookData(y,this,b))}},v.prototype.callWillDrawPageHooks=function(y,b){for(var N=0,S=this.hooks.willDrawPage;N<S.length;N++){var A=S[N];A(new f.HookData(y,this,b))}},v.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(S,A){return S+A.wrappedWidth},0);return b}else{var N=this.settings.margin;return y-N.left-N.right}},v}();c.Table=m;var p=function(){function v(y,b,N,S,A){A===void 0&&(A=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=b,this.section=N,this.cells=S,this.spansMultiplePages=A}return v.prototype.getMaxCellHeight=function(y){var b=this;return y.reduce(function(N,S){var A;return Math.max(N,((A=b.cells[S.index])===null||A===void 0?void 0:A.height)||0)},0)},v.prototype.hasRowSpan=function(y){var b=this;return y.filter(function(N){var S=b.cells[N.index];return S?S.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(y,b){return this.getMaxCellHeight(b)<=y},v.prototype.getMinimumRowHeight=function(y,b){var N=this;return y.reduce(function(S,A){var j=N.cells[A.index];if(!j)return 0;var C=b.getLineHeight(j.styles.fontSize),E=j.padding("vertical"),F=E+C;return F>S?F:S},0)},v}();c.Row=p;var g=function(){function v(y,b,N){var S,A;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=N,this.raw=y;var j=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,j=(A=(S=y.content)!==null&&S!==void 0?S:y.title)!==null&&A!==void 0?A:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var C=j!=null?""+j:"",E=/\r\n|\r|\n/g;this.text=C.split(E)}return v.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");y=this.y+b/2+this.padding("top")}var N;if(this.styles.halign==="right")N=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var S=this.width-this.padding("horizontal");N=this.x+S/2+this.padding("left")}else N=this.x+this.padding("left");return{x:N,y}},v.prototype.getContentHeight=function(y,b){b===void 0&&(b=1.15);var N=Array.isArray(this.text)?this.text.length:1,S=this.styles.fontSize/y*b,A=N*S+this.padding("vertical");return Math.max(A,this.styles.minCellHeight)},v.prototype.padding=function(y){var b=(0,h.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?b.top+b.bottom:y==="horizontal"?b.left+b.right:b[y]},v}();c.Cell=g;var x=function(){function v(y,b,N){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=b,this.index=N}return v.prototype.getMaxCustomCellWidth=function(y){for(var b=0,N=0,S=y.allRows();N<S.length;N++){var A=S[N],j=A.cells[this.index];j&&typeof j.styles.cellWidth=="number"&&(b=Math.max(b,j.styles.cellWidth))}return b},v}();c.Column=x},356:function(o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,f,h,m,p){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(d),x=1;x<arguments.length;x++){var v=arguments[x];if(v!=null)for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g}c.assign=u},972:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),f=u(260),h=u(324),m=u(796),p=u(356);function g(A,j){var C=new d.DocHandler(A),E=x(j,C.scaleFactor()),F=new f.Table(j,E);return(0,h.calculateWidths)(C,F),C.applyStyles(C.userStyles),F}c.createTable=g;function x(A,j){var C=A.content,E=N(C.columns);if(C.head.length===0){var F=y(E,"head");F&&C.head.push(F)}if(C.foot.length===0){var F=y(E,"foot");F&&C.foot.push(F)}var O=A.settings.theme,T=A.styles;return{columns:E,head:v("head",C.head,E,T,O,j),body:v("body",C.body,E,T,O,j),foot:v("foot",C.foot,E,T,O,j)}}function v(A,j,C,E,F,O){var T={},H=j.map(function(K,se){for(var M=0,B={},Y=0,z=0,Q=0,de=C;Q<de.length;Q++){var L=de[Q];if(T[L.index]==null||T[L.index].left===0)if(z===0){var R=void 0;Array.isArray(K)?R=K[L.index-Y-M]:R=K[L.dataKey];var U={};typeof R=="object"&&!Array.isArray(R)&&(U=(R==null?void 0:R.styles)||{});var I=S(A,L,se,F,E,O,U),X=new f.Cell(R,I,A);B[L.dataKey]=X,B[L.index]=X,z=X.colSpan-1,T[L.index]={left:X.rowSpan-1,times:z}}else z--,Y++;else T[L.index].left--,z=T[L.index].times,M++}return new f.Row(K,se,A,B)});return H}function y(A,j){var C={};return A.forEach(function(E){if(E.raw!=null){var F=b(j,E.raw);F!=null&&(C[E.dataKey]=F)}}),Object.keys(C).length>0?C:null}function b(A,j){if(A==="head"){if(typeof j=="object")return j.header||j.title||null;if(typeof j=="string"||typeof j=="number")return j}else if(A==="foot"&&typeof j=="object")return j.footer;return null}function N(A){return A.map(function(j,C){var E,F,O;return typeof j=="object"?O=(F=(E=j.dataKey)!==null&&E!==void 0?E:j.key)!==null&&F!==void 0?F:C:O=C,new f.Column(O,j,C)})}function S(A,j,C,E,F,O,T){var H=(0,m.getTheme)(E),K;A==="head"?K=F.headStyles:A==="body"?K=F.bodyStyles:A==="foot"&&(K=F.footStyles);var se=(0,p.assign)({},H.table,H[A],F.styles,K),M=F.columnStyles[j.dataKey]||F.columnStyles[j.index]||{},B=A==="body"?M:{},Y=A==="body"&&C%2===0?(0,p.assign)({},H.alternateRow,F.alternateRowStyles):{},z=(0,m.defaultStyles)(O),Q=(0,p.assign)({},z,se,Y,B);return(0,p.assign)(Q,T)}},664:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),f=u(260),h=u(744),m=u(356),p=u(136),g=u(224);function x(M,B){var Y=B.settings,z=Y.startY,Q=Y.margin,de={x:Q.left,y:z},L=B.getHeadHeight(B.columns)+B.getFootHeight(B.columns),R=z+Q.bottom+L;if(Y.pageBreak==="avoid"){var U=B.body,I=U.reduce(function(ee,G){return ee+G.height},0);R+=I}var X=new h.DocHandler(M);(Y.pageBreak==="always"||Y.startY!=null&&R>X.pageSize().height)&&(se(X),de.y=Q.top),B.callWillDrawPageHooks(X,de);var V=(0,m.assign)({},de);B.startPageNumber=X.pageNumber(),Y.horizontalPageBreak?v(X,B,V,de):(X.applyStyles(X.userStyles),(Y.showHead==="firstPage"||Y.showHead==="everyPage")&&B.head.forEach(function(ee){return F(X,B,ee,de,B.columns)}),X.applyStyles(X.userStyles),B.body.forEach(function(ee,G){var ue=G===B.body.length-1;E(X,B,ee,ue,V,de,B.columns)}),X.applyStyles(X.userStyles),(Y.showFoot==="lastPage"||Y.showFoot==="everyPage")&&B.foot.forEach(function(ee){return F(X,B,ee,de,B.columns)})),(0,d.addTableBorder)(X,B,V,de),B.callEndPageHooks(X,de),B.finalY=de.y,M.lastAutoTable=B,M.previousAutoTable=B,M.autoTable&&(M.autoTable.previous=B),X.applyStyles(X.userStyles)}c.drawTable=x;function v(M,B,Y,z){var Q=(0,g.calculateAllColumnsCanFitInPage)(M,B),de=B.settings;if(de.horizontalPageBreakBehaviour==="afterAllRows")Q.forEach(function(I,X){M.applyStyles(M.userStyles),X>0?K(M,B,Y,z,I.columns,!0):y(M,B,z,I.columns),b(M,B,Y,z,I.columns),S(M,B,z,I.columns)});else for(var L=-1,R=Q[0],U=function(){var I=L;if(R){M.applyStyles(M.userStyles);var X=R.columns;L>=0?K(M,B,Y,z,X,!0):y(M,B,z,X),I=N(M,B,L+1,z,X),S(M,B,z,X)}var V=I-L;Q.slice(1).forEach(function(ee){M.applyStyles(M.userStyles),K(M,B,Y,z,ee.columns,!0),N(M,B,L+1,z,ee.columns,V),S(M,B,z,ee.columns)}),L=I};L<B.body.length-1;)U()}function y(M,B,Y,z){var Q=B.settings;M.applyStyles(M.userStyles),(Q.showHead==="firstPage"||Q.showHead==="everyPage")&&B.head.forEach(function(de){return F(M,B,de,Y,z)})}function b(M,B,Y,z,Q){M.applyStyles(M.userStyles),B.body.forEach(function(de,L){var R=L===B.body.length-1;E(M,B,de,R,Y,z,Q)})}function N(M,B,Y,z,Q,de){M.applyStyles(M.userStyles),de=de??B.body.length;var L=Math.min(Y+de,B.body.length),R=-1;return B.body.slice(Y,L).forEach(function(U,I){var X=Y+I===B.body.length-1,V=H(M,B,X,z);U.canEntireRowFit(V,Q)&&(F(M,B,U,z,Q),R=Y+I)}),R}function S(M,B,Y,z){var Q=B.settings;M.applyStyles(M.userStyles),(Q.showFoot==="lastPage"||Q.showFoot==="everyPage")&&B.foot.forEach(function(de){return F(M,B,de,Y,z)})}function A(M,B,Y){var z=Y.getLineHeight(M.styles.fontSize),Q=M.padding("vertical"),de=Math.floor((B-Q)/z);return Math.max(0,de)}function j(M,B,Y,z){var Q={};M.spansMultiplePages=!0,M.height=0;for(var de=0,L=0,R=Y.columns;L<R.length;L++){var U=R[L],I=M.cells[U.index];if(I){Array.isArray(I.text)||(I.text=[I.text]);var X=new f.Cell(I.raw,I.styles,I.section);X=(0,m.assign)(X,I),X.text=[];var V=A(I,B,z);I.text.length>V&&(X.text=I.text.splice(V,I.text.length));var ee=z.scaleFactor(),G=z.getLineHeightFactor();I.contentHeight=I.getContentHeight(ee,G),I.contentHeight>=B&&(I.contentHeight=B,X.styles.minCellHeight-=B),I.contentHeight>M.height&&(M.height=I.contentHeight),X.contentHeight=X.getContentHeight(ee,G),X.contentHeight>de&&(de=X.contentHeight),Q[U.index]=X}}var ue=new f.Row(M.raw,-1,M.section,Q,!0);ue.height=de;for(var ve=0,q=Y.columns;ve<q.length;ve++){var U=q[ve],X=ue.cells[U.index];X&&(X.height=ue.height);var I=M.cells[U.index];I&&(I.height=M.height)}return ue}function C(M,B,Y,z){var Q=M.pageSize().height,de=z.settings.margin,L=de.top+de.bottom,R=Q-L;B.section==="body"&&(R-=z.getHeadHeight(z.columns)+z.getFootHeight(z.columns));var U=B.getMinimumRowHeight(z.columns,M),I=U<Y;if(U>R)return console.error("Will not be able to print row ".concat(B.index," correctly since it's minimum height is larger than page height")),!0;if(!I)return!1;var X=B.hasRowSpan(z.columns),V=B.getMaxCellHeight(z.columns)>R;return V?(X&&console.error("The content of row ".concat(B.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(X||z.settings.rowPageBreak==="avoid")}function E(M,B,Y,z,Q,de,L){var R=H(M,B,z,de);if(Y.canEntireRowFit(R,L))F(M,B,Y,de,L);else if(C(M,Y,R,B)){var U=j(Y,R,B,M);F(M,B,Y,de,L),K(M,B,Q,de,L),E(M,B,U,z,Q,de,L)}else K(M,B,Q,de,L),E(M,B,Y,z,Q,de,L)}function F(M,B,Y,z,Q){z.x=B.settings.margin.left;for(var de=0,L=Q;de<L.length;de++){var R=L[de],U=Y.cells[R.index];if(!U){z.x+=R.width;continue}M.applyStyles(U.styles),U.x=z.x,U.y=z.y;var I=B.callCellHooks(M,B.hooks.willDrawCell,U,Y,R,z);if(I===!1){z.x+=R.width;continue}O(M,U,z);var X=U.getTextPos();(0,p.default)(U.text,X.x,X.y,{halign:U.styles.halign,valign:U.styles.valign,maxWidth:Math.ceil(U.width-U.padding("left")-U.padding("right"))},M.getDocument()),B.callCellHooks(M,B.hooks.didDrawCell,U,Y,R,z),z.x+=R.width}z.y+=Y.height}function O(M,B,Y){var z=B.styles;if(M.getDocument().setFillColor(M.getDocument().getFillColor()),typeof z.lineWidth=="number"){var Q=(0,d.getFillStyle)(z.lineWidth,z.fillColor);Q&&M.rect(B.x,Y.y,B.width,B.height,Q)}else typeof z.lineWidth=="object"&&(z.fillColor&&M.rect(B.x,Y.y,B.width,B.height,"F"),T(M,B,Y,z.lineWidth))}function T(M,B,Y,z){var Q,de,L,R;z.top&&(Q=Y.x,de=Y.y,L=Y.x+B.width,R=Y.y,z.right&&(L+=.5*z.right),z.left&&(Q-=.5*z.left),U(z.top,Q,de,L,R)),z.bottom&&(Q=Y.x,de=Y.y+B.height,L=Y.x+B.width,R=Y.y+B.height,z.right&&(L+=.5*z.right),z.left&&(Q-=.5*z.left),U(z.bottom,Q,de,L,R)),z.left&&(Q=Y.x,de=Y.y,L=Y.x,R=Y.y+B.height,z.top&&(de-=.5*z.top),z.bottom&&(R+=.5*z.bottom),U(z.left,Q,de,L,R)),z.right&&(Q=Y.x+B.width,de=Y.y,L=Y.x+B.width,R=Y.y+B.height,z.top&&(de-=.5*z.top),z.bottom&&(R+=.5*z.bottom),U(z.right,Q,de,L,R));function U(I,X,V,ee,G){M.getDocument().setLineWidth(I),M.getDocument().line(X,V,ee,G,"S")}}function H(M,B,Y,z){var Q=B.settings.margin.bottom,de=B.settings.showFoot;return(de==="everyPage"||de==="lastPage"&&Y)&&(Q+=B.getFootHeight(B.columns)),M.pageSize().height-z.y-Q}function K(M,B,Y,z,Q,de){Q===void 0&&(Q=[]),de===void 0&&(de=!1),M.applyStyles(M.userStyles),B.settings.showFoot==="everyPage"&&!de&&B.foot.forEach(function(R){return F(M,B,R,z,Q)}),B.callEndPageHooks(M,z);var L=B.settings.margin;(0,d.addTableBorder)(M,B,Y,z),se(M),B.pageNumber++,B.pageCount++,z.x=L.left,z.y=L.top,Y.y=L.top,B.callWillDrawPageHooks(M,z),B.settings.showHead==="everyPage"&&(B.head.forEach(function(R){return F(M,B,R,z,Q)}),M.applyStyles(M.userStyles))}c.addPage=K;function se(M){var B=M.pageNumber();M.setPage(B+1);var Y=M.pageNumber();return Y===B?(M.addPage(),!0):!1}},224:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(m,p,g){var x;g===void 0&&(g={});var v=(0,d.getPageAvailableWidth)(m,p),y=new Map,b=[],N=[],S=[];p.settings.horizontalPageBreakRepeat,Array.isArray(p.settings.horizontalPageBreakRepeat)?S=p.settings.horizontalPageBreakRepeat:(typeof p.settings.horizontalPageBreakRepeat=="string"||typeof p.settings.horizontalPageBreakRepeat=="number")&&(S=[p.settings.horizontalPageBreakRepeat]),S.forEach(function(E){var F=p.columns.find(function(O){return O.dataKey===E||O.index===E});F&&!y.has(F.index)&&(y.set(F.index,!0),b.push(F.index),N.push(p.columns[F.index]),v-=F.wrappedWidth)});for(var A=!0,j=(x=g==null?void 0:g.start)!==null&&x!==void 0?x:0;j<p.columns.length;){if(y.has(j)){j++;continue}var C=p.columns[j].wrappedWidth;if(A||v>=C)A=!1,b.push(j),N.push(p.columns[j]),v-=C;else break;j++}return{colIndexes:b,columns:N,lastIndex:j-1}}function h(m,p){for(var g=[],x=0;x<p.columns.length;x++){var v=f(m,p,{start:x});v.columns.length&&(g.push(v),x=v.lastIndex)}return g}c.calculateAllColumnsCanFitInPage=h},324:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function f(b,N){h(b,N);var S=[],A=0;N.columns.forEach(function(C){var E=C.getMaxCustomCellWidth(N);E?C.width=E:(C.width=C.wrappedWidth,S.push(C)),A+=C.width});var j=N.getWidth(b.pageSize().width)-A;j&&(j=m(S,j,function(C){return Math.max(C.minReadableWidth,C.minWidth)})),j&&(j=m(S,j,function(C){return C.minWidth})),j=Math.abs(j),!N.settings.horizontalPageBreak&&j>.1/b.scaleFactor()&&(j=j<1?j:Math.round(j),console.warn("Of the table content, ".concat(j," units width could not fit page"))),g(N),x(N,b),p(N)}c.calculateWidths=f;function h(b,N){var S=b.scaleFactor(),A=N.settings.horizontalPageBreak,j=(0,d.getPageAvailableWidth)(b,N);N.allRows().forEach(function(C){for(var E=0,F=N.columns;E<F.length;E++){var O=F[E],T=C.cells[O.index];if(T){var H=N.hooks.didParseCell;N.callCellHooks(b,H,T,C,O,null);var K=T.padding("horizontal");T.contentWidth=(0,d.getStringWidth)(T.text,T.styles,b)+K;var se=(0,d.getStringWidth)(T.text.join(" ").split(/[^\S\u00A0]+/),T.styles,b);if(T.minReadableWidth=se+T.padding("horizontal"),typeof T.styles.cellWidth=="number")T.minWidth=T.styles.cellWidth,T.wrappedWidth=T.styles.cellWidth;else if(T.styles.cellWidth==="wrap"||A===!0)T.contentWidth>j?(T.minWidth=j,T.wrappedWidth=j):(T.minWidth=T.contentWidth,T.wrappedWidth=T.contentWidth);else{var M=10/S;T.minWidth=T.styles.minCellWidth||M,T.wrappedWidth=T.contentWidth,T.minWidth>T.wrappedWidth&&(T.wrappedWidth=T.minWidth)}}}}),N.allRows().forEach(function(C){for(var E=0,F=N.columns;E<F.length;E++){var O=F[E],T=C.cells[O.index];if(T&&T.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,T.wrappedWidth),O.minWidth=Math.max(O.minWidth,T.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,T.minReadableWidth);else{var H=N.styles.columnStyles[O.dataKey]||N.styles.columnStyles[O.index]||{},K=H.cellWidth||H.minCellWidth;K&&typeof K=="number"&&(O.minWidth=K,O.wrappedWidth=K)}T&&(T.colSpan>1&&!O.minWidth&&(O.minWidth=T.minWidth),T.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=T.minWidth))}})}function m(b,N,S){for(var A=N,j=b.reduce(function(M,B){return M+B.wrappedWidth},0),C=0;C<b.length;C++){var E=b[C],F=E.wrappedWidth/j,O=A*F,T=E.width+O,H=S(E),K=T<H?H:T;N-=K-E.width,E.width=K}if(N=Math.round(N*1e10)/1e10,N){var se=b.filter(function(M){return N<0?M.width>S(M):!0});se.length&&(N=m(se,N,S))}return N}c.resizeColumns=m;function p(b){for(var N={},S=1,A=b.allRows(),j=0;j<A.length;j++)for(var C=A[j],E=0,F=b.columns;E<F.length;E++){var O=F[E],T=N[O.index];if(S>1)S--,delete C.cells[O.index];else if(T)T.cell.height+=C.height,S=T.cell.colSpan,delete C.cells[O.index],T.left--,T.left<=1&&delete N[O.index];else{var H=C.cells[O.index];if(!H)continue;if(H.height=C.height,H.rowSpan>1){var K=A.length-j,se=H.rowSpan>K?K:H.rowSpan;N[O.index]={cell:H,left:se,row:C}}}}}function g(b){for(var N=b.allRows(),S=0;S<N.length;S++)for(var A=N[S],j=null,C=0,E=0,F=0;F<b.columns.length;F++){var O=b.columns[F];if(E-=1,E>1&&b.columns[F+1])C+=O.width,delete A.cells[O.index];else if(j){var T=j;delete A.cells[O.index],j=null,T.width=O.width+C}else{var T=A.cells[O.index];if(!T)continue;if(E=T.colSpan,C=0,T.colSpan>1){j=T,C+=O.width;continue}T.width=O.width+C}}}function x(b,N){for(var S={count:0,height:0},A=0,j=b.allRows();A<j.length;A++){for(var C=j[A],E=0,F=b.columns;E<F.length;E++){var O=F[E],T=C.cells[O.index];if(T){N.applyStyles(T.styles,!0);var H=T.width-T.padding("horizontal");if(T.styles.overflow==="linebreak")T.text=N.splitTextToSize(T.text,H+1/N.scaleFactor(),{fontSize:T.styles.fontSize});else if(T.styles.overflow==="ellipsize")T.text=v(T.text,H,T.styles,N,"...");else if(T.styles.overflow==="hidden")T.text=v(T.text,H,T.styles,N,"");else if(typeof T.styles.overflow=="function"){var K=T.styles.overflow(T.text,H);typeof K=="string"?T.text=[K]:T.text=K}T.contentHeight=T.getContentHeight(N.scaleFactor(),N.getLineHeightFactor());var se=T.contentHeight/T.rowSpan;T.rowSpan>1&&S.count*S.height<se*T.rowSpan?S={height:se,count:T.rowSpan}:S&&S.count>0&&S.height>se&&(se=S.height),se>C.height&&(C.height=se)}}S.count--}}function v(b,N,S,A,j){return b.map(function(C){return y(C,N,S,A,j)})}c.ellipsize=v;function y(b,N,S,A,j){var C=1e4*A.scaleFactor();if(N=Math.ceil(N*C)/C,N>=(0,d.getStringWidth)(b,S,A))return b;for(;N<(0,d.getStringWidth)(b+j,S,A)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+j}},964:function(o){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}o.exports=r}},a={};function s(o){var c=a[o];if(c!==void 0)return c.exports;var u=a[o]={exports:{}};return n[o].call(u.exports,u,u.exports,s),u.exports}var i={};return function(){var o=i;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var c=s(340),u=s(776),d=s(664),f=s(972),h=s(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return h.Table}});var m=s(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return m.CellHookData}});var p=s(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return p.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return p.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return p.Row}});function g(N){(0,c.default)(N)}o.applyPlugin=g;function x(N,S){var A=(0,u.parseInput)(N,S),j=(0,f.createTable)(N,A);(0,d.drawTable)(N,j)}function v(N,S){var A=(0,u.parseInput)(N,S);return(0,f.createTable)(N,A)}o.__createTable=v;function y(N,S){(0,d.drawTable)(N,S)}o.__drawTable=y;try{var b=s(964);b.jsPDF&&(b=b.jsPDF),g(b)}catch{}o.default=x}(),i}()})})(ZB);var Cfe=ZB.exports;const C2=Tl(Cfe),JB=({data:e,columns:t,filename:r,disabled:n=!1})=>{const[a,s]=k.useState(!1),i=k.useRef(null);k.useEffect(()=>{const h=m=>{i.current&&!i.current.contains(m.target)&&s(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const o=()=>e.map(h=>{const m={};return t.forEach(p=>{const g=p.key.split(".");let x=h;for(const v of g)x=x==null?void 0:x[v];m[p.header]=x??""}),m}),c=()=>{if(e.length===0){alert("No data to export");return}const h=o(),m=t.map(x=>x.header),p=[m.join(","),...h.map(x=>m.map(v=>{const y=x[v];return typeof y=="string"&&(y.includes(",")||y.includes('"'))?`"${y.replace(/"/g,'""')}"`:y}).join(","))].join(`
`),g=new Blob([p],{type:"text/csv;charset=utf-8;"});f(g,`${r}.csv`),s(!1)},u=()=>{if(e.length===0){alert("No data to export");return}const h=o(),m=kn.json_to_sheet(h),p=kn.book_new();kn.book_append_sheet(p,m,"Data");const g=t.map(x=>x.header.length);h.forEach(x=>{t.forEach((v,y)=>{const b=String(x[v.header]||"");g[y]=Math.max(g[y],b.length)})}),m["!cols"]=g.map(x=>({wch:Math.min(x+2,50)})),O0(p,`${r}.xlsx`),s(!1)},d=()=>{if(e.length===0){alert("No data to export");return}const h=o(),m=new Et({orientation:"landscape"});m.setFontSize(16),m.text(r.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase()),14,15),m.setFontSize(10),m.text(`Exported on ${new Date().toLocaleDateString()}`,14,22),C2(m,{head:[t.map(p=>p.header)],body:h.map(p=>t.map(g=>p[g.header])),startY:28,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[245,245,245]}}),m.save(`${r}.pdf`),s(!1)},f=(h,m)=>{const p=document.createElement("a"),g=URL.createObjectURL(h);p.setAttribute("href",g),p.setAttribute("download",m),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)};return l.jsxs("div",{className:"relative",ref:i,children:[l.jsxs("button",{onClick:()=>s(!a),disabled:n||e.length===0,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${n||e.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:[l.jsx(Qs,{size:18}),l.jsxs("span",{children:["Export (",e.length,")"]}),l.jsx(Lj,{size:16,className:`transition-transform ${a?"rotate-180":""}`})]}),a&&l.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:[l.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-gray-700 hover:bg-gray-50 transition-colors",children:[l.jsx(Ps,{size:18,className:"text-green-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"CSV"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Comma-separated values"})]})]}),l.jsxs("button",{onClick:u,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-gray-700 hover:bg-gray-50 transition-colors border-t border-gray-100",children:[l.jsx(Oy,{size:18,className:"text-emerald-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Excel"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Microsoft Excel format"})]})]}),l.jsxs("button",{onClick:d,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-gray-700 hover:bg-gray-50 transition-colors border-t border-gray-100",children:[l.jsx(Ps,{size:18,className:"text-red-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"PDF"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Printable document"})]})]})]})]})},Tfe=()=>{const e=Ol(),{user:t}=Wa(),r=["SUPER_ADMIN","SECRETARY","BURSAR"].includes((t==null?void 0:t.role)||""),[n,a]=k.useState([]),[s,i]=k.useState(!0),[o,c]=k.useState(""),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[m,p]=k.useState([]),[g,x]=k.useState(null),[v,y]=k.useState([]),[b,N]=k.useState(null),[S,A]=k.useState([]),[j,C]=k.useState(!1),[E,F]=k.useState(1),[O]=k.useState(25),[T,H]=k.useState(""),[K,se]=k.useState(""),[M,B]=k.useState(""),[Y,z]=k.useState(!1),Q=Ou.useMemo(()=>{const ge=n.length,ze=n.filter(At=>At.status==="ACTIVE").length,tt=n.filter(At=>At.gender==="MALE").length,ut=n.filter(At=>At.gender==="FEMALE").length,bt=n.filter(At=>At.status==="TRANSFERRED").length,St=n.filter(At=>At.status==="GRADUATED").length;return{total:ge,active:ze,male:tt,female:ut,transferred:bt,graduated:St}},[n]),[de,L]=k.useState({firstName:"",lastName:"",admissionNumber:"",dateOfBirth:"",gender:"MALE",guardianName:"",guardianPhone:"",guardianEmail:"",address:"",classId:"",status:"ACTIVE"});k.useEffect(()=>{R(),U()},[]);const R=async()=>{try{const ge=await Ee.get("/students");a(ge.data)}catch(ge){console.error("Failed to fetch students",ge)}finally{i(!1)}},U=async()=>{try{const ge=await Ee.get("/classes");p(ge.data)}catch(ge){console.error("Failed to fetch classes",ge)}},I=async ge=>{ge.preventDefault();try{g?await Ee.put(`/students/${g.id}`,de):await Ee.post("/students",de),R(),d(!1),G()}catch(ze){console.error("Failed to save student",ze),alert("Failed to save student")}},X=async ge=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Ee.delete(`/students/${ge}`),R()}catch(ze){console.error("Failed to delete student",ze)}},V=ge=>{x(ge),L({firstName:ge.firstName,lastName:ge.lastName,admissionNumber:ge.admissionNumber,dateOfBirth:new Date(ge.dateOfBirth).toISOString().split("T")[0],gender:ge.gender,guardianName:ge.guardianName,guardianPhone:ge.guardianPhone,guardianEmail:ge.guardianEmail||"",address:ge.address||"",classId:ge.classId,status:ge.status}),d(!0)},ee=()=>{G(),d(!0)},G=()=>{L({firstName:"",lastName:"",admissionNumber:"",dateOfBirth:"",gender:"MALE",guardianName:"",guardianPhone:"",guardianEmail:"",address:"",classId:"",status:"ACTIVE"}),x(null)},ue=ge=>{y(ze=>ze.includes(ge)?ze.filter(tt=>tt!==ge):[...ze,ge])},ve=()=>{v.length===le.length?y([]):y(le.map(ge=>ge.id))},q=async()=>{if(window.confirm(`Are you sure you want to delete ${v.length} students? This action cannot be undone.`))try{await Ee.post("/students/bulk-delete",{ids:v}),y([]),R()}catch(ge){console.error("Failed to delete students",ge),alert("Failed to delete selected students")}},Me=ge=>{if(ge.target.files&&ge.target.files[0]){const ze=ge.target.files[0];N(ze);const tt=new FileReader;tt.onload=ut=>{var xt;const St=((xt=ut.target)==null?void 0:xt.result).split(`
`),At=St[0].split(",").map(st=>st.trim()),Ft=St.slice(1).filter(st=>st.trim()).map(st=>{const rt=st.split(","),ar={};return At.forEach((_t,$r)=>{var rr;ar[_t]=(rr=rt[$r])==null?void 0:rr.trim()}),ar});A(Ft)},tt.readAsText(ze)}},He=async()=>{var ge,ze,tt,ut;if(S.length){C(!0);try{const bt=S.map(St=>{var Ft;let At=St.classId;if(!At&&St.className){const xt=m.find(st=>st.name.toLowerCase()===St.className.toLowerCase());xt&&(At=xt.id)}return{...St,classId:At,gender:((Ft=St.gender)==null?void 0:Ft.toUpperCase())||"MALE"}});await Ee.post("/students/bulk",bt),h(!1),N(null),A([]),R(),alert("Students imported successfully")}catch(bt){console.error("Import failed",bt),alert("Import failed: "+(((ut=(tt=(ze=(ge=bt.response)==null?void 0:ge.data)==null?void 0:ze.error)==null?void 0:tt[0])==null?void 0:ut.message)||"Check your CSV format"))}finally{C(!1)}}},Ae=()=>{const ze="data:text/csv;charset=utf-8,"+["firstName","lastName","admissionNumber","dateOfBirth","gender","guardianName","guardianPhone","className","address"].join(","),tt=encodeURI(ze),ut=document.createElement("a");ut.setAttribute("href",tt),ut.setAttribute("download","student_import_template.csv"),document.body.appendChild(ut),ut.click(),document.body.removeChild(ut)},le=n.filter(ge=>{const ze=ge.firstName.toLowerCase().includes(o.toLowerCase())||ge.lastName.toLowerCase().includes(o.toLowerCase())||ge.admissionNumber.includes(o)||ge.guardianName.toLowerCase().includes(o.toLowerCase()),tt=!T||ge.classId===T,ut=!K||ge.status===K,bt=!M||ge.gender===M;return ze&&tt&&ut&&bt}),De=Math.ceil(le.length/O),Je=(E-1)*O,Ve=Je+O,ye=le.slice(Je,Ve);return k.useEffect(()=>{F(1)},[o,T,K,M]),l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Students"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage student records and admissions"})]}),l.jsx("div",{className:"flex space-x-2 w-full md:w-auto",children:r&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>h(!0),className:"flex-1 md:flex-none flex items-center justify-center space-x-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsx(Ni,{size:20}),l.jsx("span",{children:"Import"})]}),l.jsxs("button",{onClick:ee,className:"flex-1 md:flex-none flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:20}),l.jsx("span",{children:"Add Student"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-medium",children:"Total"}),l.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Q.total})]}),l.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:l.jsx(In,{className:"text-blue-600 dark:text-blue-400",size:20})})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm border-l-4 border-l-green-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 uppercase font-medium",children:"Active"}),l.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:Q.active})]}),l.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:l.jsx(yR,{className:"text-green-600 dark:text-green-400",size:20})})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-medium",children:"Male"}),l.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Q.male})]}),l.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[Q.total>0?Math.round(Q.male/Q.total*100):0,"%"]})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-medium",children:"Female"}),l.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Q.female})]}),l.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[Q.total>0?Math.round(Q.female/Q.total*100):0,"%"]})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase font-medium",children:"Graduated"}),l.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:Q.graduated})]}),l.jsx("div",{className:"w-10 h-10 bg-purple-50 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:l.jsx(jl,{className:"text-purple-600 dark:text-purple-400",size:20})})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 uppercase font-medium",children:"Transferred"}),l.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-400",children:Q.transferred})]}),l.jsx("div",{className:"w-10 h-10 bg-orange-50 dark:bg-orange-900/30 rounded-lg flex items-center justify-center",children:l.jsx(uee,{className:"text-orange-600 dark:text-orange-400",size:20})})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(ei,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search by name or admission number...",value:o,onChange:ge=>c(ge.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[v.length>0&&r&&l.jsxs("button",{onClick:q,className:"flex items-center space-x-2 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[l.jsx(Cs,{size:18}),l.jsxs("span",{className:"hidden sm:inline",children:["Delete (",v.length,")"]})]}),l.jsxs("button",{onClick:()=>z(!Y),className:`flex items-center justify-center space-x-2 px-3 py-2 border rounded-lg transition-colors ${T||K||M?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-slate-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[l.jsx(Fj,{size:18}),l.jsx("span",{children:"Filter"}),(T||K||M)&&l.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-600 text-white text-xs rounded-full",children:[T,K,M].filter(Boolean).length})]}),l.jsx(JB,{data:le.map(ge=>{var ze;return{admissionNumber:ge.admissionNumber,firstName:ge.firstName,lastName:ge.lastName,className:((ze=ge.class)==null?void 0:ze.name)||"Unassigned",gender:ge.gender,dateOfBirth:new Date(ge.dateOfBirth).toLocaleDateString(),guardianName:ge.guardianName,guardianPhone:ge.guardianPhone,status:ge.status}}),columns:[{key:"admissionNumber",header:"Admission #"},{key:"firstName",header:"First Name"},{key:"lastName",header:"Last Name"},{key:"className",header:"Class"},{key:"gender",header:"Gender"},{key:"dateOfBirth",header:"Date of Birth"},{key:"guardianName",header:"Guardian Name"},{key:"guardianPhone",header:"Guardian Phone"},{key:"status",header:"Status"}],filename:`students_export_${new Date().toISOString().split("T")[0]}`})]})]}),Y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Filter Students"}),l.jsx("button",{onClick:()=>z(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(ea,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class"}),l.jsxs("select",{value:T,onChange:ge=>H(ge.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"All Classes"}),m.map(ge=>l.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),l.jsxs("select",{value:K,onChange:ge=>se(ge.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"ACTIVE",children:"Active"}),l.jsx("option",{value:"TRANSFERRED",children:"Transferred"}),l.jsx("option",{value:"GRADUATED",children:"Graduated"}),l.jsx("option",{value:"DROPPED_OUT",children:"Dropped Out"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Gender"}),l.jsxs("select",{value:M,onChange:ge=>B(ge.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"All Genders"}),l.jsx("option",{value:"MALE",children:"Male"}),l.jsx("option",{value:"FEMALE",children:"Female"})]})]})]}),l.jsxs("div",{className:"flex justify-between mt-6",children:[l.jsx("button",{onClick:()=>{H(""),se(""),B("")},className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Clear All"}),l.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filters"})]})]})}),l.jsx("div",{className:"hidden md:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm text-gray-600",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 w-10",children:l.jsx("button",{onClick:ve,className:"text-gray-500 hover:text-gray-700",children:v.length===le.length&&le.length>0?l.jsx(rg,{size:20,className:"text-blue-600"}):l.jsx(zT,{size:20})})}),l.jsx("th",{className:"px-6 py-3",children:"Admission #"}),l.jsx("th",{className:"px-6 py-3",children:"Name"}),l.jsx("th",{className:"px-6 py-3",children:"Class"}),l.jsx("th",{className:"px-6 py-3",children:"Guardian"}),l.jsx("th",{className:"px-6 py-3",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:s?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Loading students..."})}):ye.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No students found"})}):ye.map(ge=>{var ze;return l.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors ${v.includes(ge.id)?"bg-blue-50 dark:bg-blue-900/30":""}`,children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("button",{onClick:()=>ue(ge.id),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:v.includes(ge.id)?l.jsx(rg,{size:20,className:"text-blue-600"}):l.jsx(zT,{size:20})})}),l.jsx("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:ge.admissionNumber}),l.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:[ge.lastName,", ",ge.firstName]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-slate-700 rounded text-xs font-medium text-gray-600 dark:text-gray-300",children:((ze=ge.class)==null?void 0:ze.name)||"Unassigned"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:ge.guardianName}),l.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:ge.guardianPhone})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ge.status==="ACTIVE"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:ge.status})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>e(`/students/${ge.id}`),className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 p-1",title:"View Profile",children:l.jsx(Py,{size:18})}),r&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>V(ge),className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit",children:l.jsx(Al,{size:18})}),l.jsx("button",{onClick:()=>X(ge.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete",children:l.jsx(Cs,{size:18})})]})]})})]},ge.id)})})]})}),l.jsx("div",{className:"md:hidden",children:s?l.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"Loading students..."}):ye.length===0?l.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"No students found"}):l.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:ye.map(ge=>{var ze;return l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[ge.lastName,", ",ge.firstName]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:ge.admissionNumber})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ge.status==="ACTIVE"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:ge.status})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600 dark:text-gray-300",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 block",children:"Class"}),((ze=ge.class)==null?void 0:ze.name)||"Unassigned"]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 block",children:"Guardian"}),ge.guardianName]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2 border-t border-gray-50 dark:border-slate-700",children:[l.jsxs("button",{onClick:()=>e(`/students/${ge.id}`),className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 text-sm",children:[l.jsx(Py,{size:16}),l.jsx("span",{children:"View"})]}),r&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>V(ge),className:"flex items-center space-x-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm",children:[l.jsx(Al,{size:16}),l.jsx("span",{children:"Edit"})]}),l.jsxs("button",{onClick:()=>X(ge.id),className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm",children:[l.jsx(Cs,{size:16}),l.jsx("span",{children:"Delete"})]})]})]})]},ge.id)})})}),l.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-slate-700 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{children:["Showing ",Je+1,"-",Math.min(Ve,le.length)," of ",le.length," students",(T||K||o)&&l.jsxs("span",{className:"text-gray-400",children:[" (filtered from ",n.length," total)"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>F(ge=>Math.max(1,ge-1)),disabled:E===1,className:"px-3 py-1 border border-gray-200 dark:border-slate-700 rounded hover:bg-gray-50 dark:hover:bg-slate-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),l.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,De)},(ge,ze)=>{let tt;return De<=5||E<=3?tt=ze+1:E>=De-2?tt=De-4+ze:tt=E-2+ze,l.jsx("button",{onClick:()=>F(tt),className:`px-3 py-1 border rounded transition-colors ${E===tt?"bg-blue-600 text-white border-blue-600":"border-gray-200 dark:border-slate-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:tt},tt)})}),l.jsx("button",{onClick:()=>F(ge=>Math.min(De,ge+1)),disabled:E===De,className:"px-3 py-1 border border-gray-200 dark:border-slate-700 rounded hover:bg-gray-50 dark:hover:bg-slate-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pb-safe",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto pb-safe",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Import Students"}),l.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx(ea,{size:24})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg border border-blue-100 dark:border-blue-800",children:[l.jsx("h3",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Instructions"}),l.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 dark:text-blue-400 space-y-1",children:[l.jsx("li",{children:"Upload a CSV file with student details."}),l.jsx("li",{children:"Required columns: firstName, lastName, dateOfBirth, gender, className (or classId)."}),l.jsx("li",{children:"Dates should be in YYYY-MM-DD format."}),l.jsx("li",{children:l.jsx("button",{onClick:Ae,className:"underline font-medium hover:text-blue-900",children:"Download Template CSV"})})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[l.jsx("p",{className:"text-xs font-semibold text-blue-800 mb-1",children:"Available Classes:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(ge=>l.jsx("span",{className:"text-xs bg-white px-2 py-1 rounded border border-blue-200 text-blue-600",children:ge.name},ge.id))})]})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-xl p-8 text-center hover:border-blue-500 transition-colors",children:[l.jsx("input",{type:"file",accept:".csv",onChange:Me,className:"hidden",id:"csv-upload"}),l.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center",children:[l.jsx(Ni,{size:48,className:"text-gray-400 dark:text-gray-500 mb-4"}),l.jsx("span",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:"Click to upload CSV"}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"or drag and drop here"})]}),b&&l.jsxs("div",{className:"mt-4 p-2 bg-gray-100 dark:bg-slate-700 rounded text-sm font-medium text-gray-700 dark:text-gray-200",children:["Selected: ",b.name]})]}),S.length>0&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-medium text-gray-800 dark:text-white mb-2",children:["Preview (",S.length," students)"]}),l.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg overflow-hidden max-h-60 overflow-y-auto",children:[l.jsxs("table",{className:"w-full text-left text-xs",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 font-medium text-gray-600 dark:text-gray-300",children:l.jsx("tr",{children:Object.keys(S[0]).slice(0,5).map(ge=>l.jsx("th",{className:"px-3 py-2",children:ge},ge))})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:S.slice(0,5).map((ge,ze)=>l.jsx("tr",{className:"text-gray-700 dark:text-gray-300",children:Object.values(ge).slice(0,5).map((tt,ut)=>l.jsx("td",{className:"px-3 py-2",children:tt},ut))},ze))})]}),S.length>5&&l.jsxs("div",{className:"p-2 text-center text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-slate-700 border-t border-gray-100 dark:border-slate-600",children:["...and ",S.length-5," more rows"]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 dark:border-slate-700",children:[l.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:He,disabled:!b||j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:j?l.jsx(l.Fragment,{children:l.jsx("span",{children:"Importing..."})}):l.jsxs(l.Fragment,{children:[l.jsx(Ni,{size:18}),l.jsx("span",{children:"Import Students"})]})})]})]})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50 overflow-y-auto pb-safe",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-t-xl md:rounded-xl p-6 w-full max-w-2xl md:my-8 h-[90vh] md:h-auto overflow-y-auto pb-safe",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold dark:text-white",children:g?"Edit Student":"Add New Student"}),l.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 md:hidden",children:"Close"})]}),l.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name"}),l.jsx("input",{type:"text",required:!0,value:de.firstName,onChange:ge=>L({...de,firstName:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name"}),l.jsx("input",{type:"text",required:!0,value:de.lastName,onChange:ge=>L({...de,lastName:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),g&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Admission Number"}),l.jsx("input",{type:"text",value:de.admissionNumber,readOnly:!0,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-100 dark:bg-slate-600 text-gray-500 dark:text-gray-400"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date of Birth"}),l.jsx("input",{type:"date",required:!0,value:de.dateOfBirth,onChange:ge=>L({...de,dateOfBirth:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Gender"}),l.jsxs("select",{value:de.gender,onChange:ge=>L({...de,gender:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"MALE",children:"Male"}),l.jsx("option",{value:"FEMALE",children:"Female"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class"}),l.jsxs("select",{required:!0,value:de.classId,onChange:ge=>L({...de,classId:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select a class"}),m.map(ge=>l.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Guardian Name"}),l.jsx("input",{type:"text",value:de.guardianName,onChange:ge=>L({...de,guardianName:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Guardian Phone"}),l.jsx("input",{type:"tel",value:de.guardianPhone,onChange:ge=>L({...de,guardianPhone:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Guardian Email"}),l.jsx("input",{type:"email",value:de.guardianEmail,onChange:ge=>L({...de,guardianEmail:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"Optional - creates parent account"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),l.jsx("textarea",{value:de.address,onChange:ge=>L({...de,address:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",rows:3})]}),g&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),l.jsxs("select",{value:de.status,onChange:ge=>L({...de,status:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"ACTIVE",children:"Active"}),l.jsx("option",{value:"TRANSFERRED",children:"Transferred"}),l.jsx("option",{value:"GRADUATED",children:"Graduated"}),l.jsx("option",{value:"DROPPED_OUT",children:"Dropped Out"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:g?"Update Student":"Create Student"})]})]})]})})]})},Pfe=()=>{var H,K,se;const{id:e}=jj(),t=Ol(),[r,n]=k.useState(null),[a,s]=k.useState(!0),[i,o]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,m]=k.useState([]),[p,g]=k.useState({amount:"",method:"CASH",notes:""}),[x,v]=k.useState(!1),y=async()=>{try{const M=await Ee.get(`/students/${e}`);n(M.data)}catch(M){console.error("Failed to fetch student details",M)}finally{s(!1)}},b=async()=>{try{const M=await Ee.get("/scholarships");m(M.data)}catch(M){console.error("Failed to fetch scholarships",M)}};k.useEffect(()=>{e&&(y(),b())},[e]);const N=async M=>{if(r)try{await Ee.put(`/students/${r.id}`,{scholarshipId:M}),f(!1),y()}catch(B){console.error("Failed to update scholarship",B),alert("Failed to update scholarship")}},S=async M=>{var B,Y;if(M.preventDefault(),!(!r||x)){v(!0);try{await Ee.post("/payments",{studentId:r.id,amount:Number(p.amount),method:p.method,notes:p.notes}),A(),y()}catch(z){console.error("Failed to record payment",z),alert(((Y=(B=z.response)==null?void 0:B.data)==null?void 0:Y.message)||"Failed to record payment")}finally{v(!1)}}},A=()=>{o(!1),g({amount:"",method:"CASH",notes:""})},j=async M=>{if(r)try{await Ee.put(`/students/${r.id}`,{status:M}),u(!1),y()}catch(B){console.error("Failed to update status",B),alert("Failed to update status")}},C=async()=>{if(r)try{const M=await Ee.get(`/fees/statement/${r.id}`),{school:B,student:Y,transactions:z}=M.data,Q=new Et;Q.setFillColor(30,41,59),Q.setFontSize(16),Q.setFont("times","bold");const de=Q.splitTextToSize(B.name,110),L=de.length*7,R=Math.max(45,15+L+15);Q.rect(0,0,210,R,"F"),Q.setTextColor(255,255,255),Q.text(de,14,18);const U=18+L-2;Q.setFontSize(10),Q.setFont("helvetica","normal"),Q.text(B.address||"",14,U),Q.text(`Email: ${B.email}`,14,U+6),Q.setFontSize(14),Q.setFont("helvetica","bold"),Q.text("STATEMENT OF ACCOUNT",196,18,{align:"right"}),Q.setFontSize(10),Q.setFont("helvetica","normal"),Q.text(`Date: ${new Date().toLocaleDateString()}`,196,26,{align:"right"});const I=R+15;Q.setTextColor(30,41,59),Q.setFontSize(11),Q.setFont("helvetica","bold"),Q.text(`Student: ${Y.name}`,14,I),Q.text(`Admission No: ${Y.admissionNumber}`,14,I+6),Q.text(`Class: ${Y.className}`,14,I+12),Q.text(`Guardian: ${Y.guardian||"N/A"}`,120,I);const X=z.reduce((q,Me)=>Me.type==="DEBIT"?q+Number(Me.amount):q,0),V=z.reduce((q,Me)=>Me.type==="CREDIT"?q+Number(Me.amount):q,0),ee=X-V;Q.setFillColor(248,250,252),Q.setDrawColor(226,232,240),Q.roundedRect(14,I+18,182,18,2,2,"FD"),Q.setFontSize(9),Q.setFont("helvetica","normal"),Q.setTextColor(100,116,139),Q.text("TOTAL BILLED",30,I+24),Q.text("TOTAL PAID",95,I+24),Q.text("BALANCE DUE",160,I+24),Q.setFontSize(11),Q.setFont("helvetica","bold"),Q.setTextColor(15,23,42),Q.text(`ZMW ${X.toLocaleString(void 0,{minimumFractionDigits:2})}`,30,I+31),Q.text(`ZMW ${V.toLocaleString(void 0,{minimumFractionDigits:2})}`,95,I+31),ee>0?Q.setTextColor(220,38,38):Q.setTextColor(22,163,74),Q.text(`ZMW ${ee.toLocaleString(void 0,{minimumFractionDigits:2})}`,160,I+31);let G=0;const ue=z.map(q=>(q.type==="DEBIT"?G+=q.amount:G-=q.amount,[new Date(q.date).toLocaleDateString(),q.description,q.ref,q.type==="DEBIT"?Number(q.amount).toFixed(2):"-",q.type==="CREDIT"?Number(q.amount).toFixed(2):"-",G.toFixed(2)]));C2(Q,{startY:I+45,head:[["Date","Description","Ref","Billed","Paid","Balance"]],body:ue,theme:"grid",headStyles:{fillColor:[71,85,105],textColor:255},columnStyles:{3:{halign:"right"},4:{halign:"right"},5:{halign:"right",fontStyle:"bold"}}});const ve=Q.lastAutoTable.finalY+10;Q.setFontSize(10),Q.text(`Closing Balance: ZMW ${G.toFixed(2)}`,196,ve,{align:"right"}),G>0?(Q.setTextColor(220,38,38),Q.text("Please ensure outstanding fees are cleared promptly.",14,ve)):(Q.setTextColor(22,163,74),Q.text("Account is in good standing.",14,ve)),Q.save(`${Y.name.replace(" ","_")}_Statement.pdf`)}catch(M){console.error("Failed to download statement",M),alert("Failed to download statement")}};if(a)return l.jsx("div",{className:"p-6 text-center",children:"Loading profile..."});if(!r)return l.jsx("div",{className:"p-6 text-center",children:"Student not found"});const E=r.feeStructures.reduce((M,B)=>M+Number(B.amountDue),0),F=r.payments.reduce((M,B)=>M+Number(B.amount),0),O=E-F,T=O<0;return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[l.jsxs("button",{onClick:()=>t("/students"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[l.jsx(Gf,{size:20,className:"mr-2"}),"Back to Students"]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-2xl font-bold",children:[r.firstName[0],r.lastName[0]]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.firstName," ",r.lastName]}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mt-1",children:[l.jsx("span",{className:"font-mono bg-gray-100 dark:bg-slate-700 px-2 py-0.5 rounded text-sm",children:r.admissionNumber}),l.jsx("span",{children:""}),l.jsx("span",{children:((H=r.class)==null?void 0:H.name)||"No Class"}),l.jsx("span",{children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${r.status==="ACTIVE"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:r.status}),l.jsx("button",{onClick:()=>u(!0),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700",title:"Change Status",children:l.jsx(Al,{size:14})})]})]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:C,className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 px-4 py-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors flex items-center gap-2",children:[l.jsx(Qs,{size:18}),"Statement"]}),l.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[l.jsx(hl,{size:18}),"Record Payment"]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(lo,{size:20,className:"text-gray-400"}),"Personal Details"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Guardian"}),l.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:r.guardianName}),r.guardianEmail&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.guardianEmail})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Contact"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(ex,{size:16,className:"text-gray-400"}),l.jsx("p",{className:"text-gray-900 dark:text-white",children:r.guardianPhone})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Address"}),l.jsxs("div",{className:"flex items-start gap-2 mt-1",children:[l.jsx(Dj,{size:16,className:"text-gray-400 mt-0.5"}),l.jsx("p",{className:"text-gray-900 dark:text-white",children:r.address||"No address recorded"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Date of Birth"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(hs,{size:16,className:"text-gray-400"}),l.jsx("p",{className:"text-gray-900 dark:text-white",children:new Date(r.dateOfBirth).toLocaleDateString()})]})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Scholarship"}),l.jsx("button",{onClick:()=>f(!0),className:"text-blue-600 hover:text-blue-700 text-xs font-medium",children:r.scholarship?"Change":"Add"})]}),r.scholarship?l.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-900/30 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-purple-700 dark:text-purple-400 font-medium mb-1",children:[l.jsx(jl,{size:16}),r.scholarship.name]}),l.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:[r.scholarship.percentage,"% Discount"]})]}):l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No scholarship assigned"})]})]})]})}),l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-2",children:[l.jsx(Ps,{size:18}),l.jsx("span",{className:"text-sm font-medium",children:"Total Billed"})]}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["ZMW ",E.toLocaleString()]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 mb-2",children:[l.jsx(SN,{size:18}),l.jsx("span",{className:"text-sm font-medium",children:"Total Paid"})]}),l.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:["ZMW ",F.toLocaleString()]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:`flex items-center gap-2 ${T?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} mb-2`,children:[l.jsx(Sl,{size:18}),l.jsx("span",{className:"text-sm font-medium",children:T?"Credit Balance":"Balance Due"})]}),l.jsxs("p",{className:`text-2xl font-bold ${T?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:["ZMW ",Math.abs(O).toLocaleString()]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex items-center gap-2",children:[l.jsx(Ps,{size:20,className:"text-gray-400"}),l.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Fee Breakdown"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-gray-300",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 font-medium",children:"Fee Name"}),l.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Amount Due"}),l.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Amount Paid"}),l.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Balance"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:r.feeStructures.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No fees assigned"})}):r.feeStructures.map(M=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white font-medium",children:M.feeTemplate.name}),l.jsxs("td",{className:"px-6 py-4 text-right text-gray-900 dark:text-white",children:["ZMW ",Number(M.amountDue).toLocaleString()]}),l.jsxs("td",{className:"px-6 py-4 text-right text-green-600 dark:text-green-400",children:["ZMW ",Number(M.amountPaid).toLocaleString()]}),l.jsxs("td",{className:"px-6 py-4 text-right font-bold text-gray-900 dark:text-white",children:["ZMW ",(Number(M.amountDue)-Number(M.amountPaid)).toLocaleString()]})]},M.id))})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Payment History"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-gray-300",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 font-medium",children:"Date"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Method"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Status"}),l.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Amount"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:r.payments.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No payments recorded"})}):r.payments.map(M=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:new Date(M.paymentDate).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400 capitalize",children:M.method.replace("_"," ").toLowerCase()}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.status==="COMPLETED"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-400"}`,children:M.status||"COMPLETED"})}),l.jsxs("td",{className:"px-6 py-4 text-right font-medium text-gray-900 dark:text-white",children:["ZMW ",Number(M.amount).toLocaleString()]})]},M.id))})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex items-center gap-2",children:[l.jsx(WQ,{size:20,className:"text-gray-400"}),l.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Class History"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-gray-300",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 font-medium",children:"Date"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"From"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"To"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Reason"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Changed By"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:((K=r.classMovements)==null?void 0:K.length)===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No class movements recorded"})}):(se=r.classMovements)==null?void 0:se.map(M=>{var B,Y;return l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:new Date(M.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:((B=M.fromClass)==null?void 0:B.name)||"-"}),l.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white font-medium",children:M.toClass.name}),l.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:M.reason||"-"}),l.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400 text-xs",children:((Y=M.changedBy)==null?void 0:Y.fullName)||"System"})]},M.id)})})]})})]})]})]}),c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-sm",children:[l.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4",children:"Update Status"}),l.jsx("div",{className:"space-y-2",children:["ACTIVE","TRANSFERRED","GRADUATED","DROPPED_OUT"].map(M=>l.jsx("button",{onClick:()=>j(M),className:`w-full text-left px-4 py-3 rounded-lg border transition-colors ${r.status===M?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-gray-300"}`,children:l.jsx("div",{className:"font-medium",children:M})},M))}),l.jsx("button",{onClick:()=>u(!1),className:"mt-4 w-full px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"})]})}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-sm",children:[l.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4",children:"Assign Scholarship"}),l.jsxs("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:[l.jsxs("button",{onClick:()=>N(null),className:`w-full text-left px-4 py-3 rounded-lg border transition-colors ${r.scholarshipId?"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-gray-300":"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}`,children:[l.jsx("div",{className:"font-medium",children:"None"}),l.jsx("div",{className:"text-xs opacity-75",children:"Remove scholarship"})]}),h.map(M=>l.jsxs("button",{onClick:()=>N(M.id),className:`w-full text-left px-4 py-3 rounded-lg border transition-colors ${r.scholarshipId===M.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-gray-300"}`,children:[l.jsx("div",{className:"font-medium",children:M.name}),l.jsxs("div",{className:"text-xs opacity-75",children:[M.percentage,"% Discount"]})]},M.id))]}),l.jsx("button",{onClick:()=>f(!1),className:"mt-4 w-full px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"})]})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Record Payment"}),l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[l.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:[r.firstName[0],r.lastName[0]]}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-slate-800",children:[r.firstName," ",r.lastName]}),l.jsxs("p",{className:"text-sm text-slate-500",children:[r.admissionNumber,"  Balance:",l.jsxs("span",{className:O>0?"text-red-600 font-medium ml-1":"text-green-600 font-medium ml-1",children:["ZMW ",Math.abs(O).toLocaleString()]})]})]})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount (ZMW)"}),l.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",value:p.amount,onChange:M=>g({...p,amount:M.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Payment Method"}),l.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.method,onChange:M=>g({...p,method:M.target.value}),children:[l.jsx("option",{value:"CASH",children:"Cash"}),l.jsx("option",{value:"MOBILE_MONEY",children:"Mobile Money"}),l.jsx("option",{value:"BANK_DEPOSIT",children:"Bank Deposit"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notes"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional notes about this payment",rows:2,value:p.notes,onChange:M=>g({...p,notes:M.target.value})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:x,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 ${x?"opacity-70 cursor-not-allowed":""}`,children:x?"Saving...":"Save Payment"})]})]})]})})]})};function QB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=QB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=QB(e))&&(n&&(n+=" "),n+=t);return n}var Ofe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function AA(e){if(typeof e!="string")return!1;var t=Ofe;return t.includes(e)}var Lfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ffe=new Set(Lfe);function ez(e){return typeof e!="string"?!1:Ffe.has(e)}function tz(e){return typeof e=="string"&&e.startsWith("data-")}function _i(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(ez(r)||tz(r))&&(t[r]=e[r]);return t}function g0(e){if(e==null)return null;if(k.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return _i(t)}return typeof e=="object"&&!Array.isArray(e)?_i(e):null}function Os(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(ez(r)||tz(r)||AA(r))&&(t[r]=e[r]);return t}function Dfe(e){return e==null?null:k.isValidElement(e)?Os(e.props):typeof e=="object"&&!Array.isArray(e)?Os(e):null}var Ife=["children","width","height","viewBox","className","style","title","desc"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(null,arguments)}function Mfe(e,t){if(e==null)return{};var r,n,a=Rfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _A=k.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:o,title:c,desc:u}=e,d=Mfe(e,Ife),f=s||{width:n,height:a,x:0,y:0},h=fr("recharts-surface",i);return k.createElement("svg",XN({},Os(d),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),k.createElement("title",null,c),k.createElement("desc",null,u),r)}),Bfe=["children","className"];function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZN.apply(null,arguments)}function zfe(e,t){if(e==null)return{};var r,n,a=Ufe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ufe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ta=k.forwardRef((e,t)=>{var{children:r,className:n}=e,a=zfe(e,Bfe),s=fr("recharts-layer",n);return k.createElement("g",ZN({className:s},Os(a),{ref:t}),r)}),rz=k.createContext(null),$fe=()=>k.useContext(rz);function Br(e){return function(){return e}}const nz=Math.cos,Ky=Math.sin,Yo=Math.sqrt,Yy=Math.PI,T2=2*Yy,JN=Math.PI,QN=2*JN,Nd=1e-6,Wfe=QN-Nd;function az(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Hfe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return az;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Vfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?az:Hfe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,c=n-t,u=a-r,d=i-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Nd)if(!(Math.abs(f*c-u*d)>Nd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,p=a-o,g=c*c+u*u,x=m*m+p*p,v=Math.sqrt(g),y=Math.sqrt(h),b=s*Math.tan((JN-Math.acos((g+h-x)/(2*v*y)))/2),N=b/y,S=b/v;Math.abs(N-1)>Nd&&this._append`L${t+N*d},${r+N*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Nd||Math.abs(this._y1-d)>Nd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%QN+QN),h>Wfe?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Nd&&this._append`A${n},${n},0,${+(h>=JN)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function EA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Vfe(t)}function CA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sz(e){this._context=e}sz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function P2(e){return new sz(e)}function iz(e){return e[0]}function oz(e){return e[1]}function lz(e,t){var r=Br(!0),n=null,a=P2,s=null,i=EA(o);e=typeof e=="function"?e:e===void 0?iz:Br(e),t=typeof t=="function"?t:t===void 0?oz:Br(t);function o(c){var u,d=(c=CA(c)).length,f,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Br(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Br(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Br(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),o):n},o}function lv(e,t,r){var n=null,a=Br(!0),s=null,i=P2,o=null,c=EA(u);e=typeof e=="function"?e:e===void 0?iz:Br(+e),t=typeof t=="function"?t:Br(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?oz:Br(+r);function u(f){var h,m,p,g=(f=CA(f)).length,x,v=!1,y,b=new Array(g),N=new Array(g);for(s==null&&(o=i(y=c())),h=0;h<=g;++h){if(!(h<g&&a(x=f[h],h,f))===v)if(v=!v)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],N[p]);o.lineEnd(),o.areaEnd()}v&&(b[h]=+e(x,h,f),N[h]=+t(x,h,f),o.point(n?+n(x,h,f):b[h],r?+r(x,h,f):N[h]))}if(y)return o=null,y+""||null}function d(){return lz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Br(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Br(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Br(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Br(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Br(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Br(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Br(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(o=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=o=null:o=i(s=f),u):s},u}class cz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qfe(e){return new cz(e,!0)}function Gfe(e){return new cz(e,!1)}const TA={draw(e,t){const r=Yo(t/Yy);e.moveTo(r,0),e.arc(0,0,r,0,T2)}},Kfe={draw(e,t){const r=Yo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},uz=Yo(1/3),Yfe=uz*2,Xfe={draw(e,t){const r=Yo(t/Yfe),n=r*uz;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Zfe={draw(e,t){const r=Yo(t),n=-r/2;e.rect(n,n,r,r)}},Jfe=.8908130915292852,dz=Ky(Yy/10)/Ky(7*Yy/10),Qfe=Ky(T2/10)*dz,ehe=-nz(T2/10)*dz,the={draw(e,t){const r=Yo(t*Jfe),n=Qfe*r,a=ehe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=T2*s/5,o=nz(i),c=Ky(i);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},Pk=Yo(3),rhe={draw(e,t){const r=-Yo(t/(Pk*3));e.moveTo(0,r*2),e.lineTo(-Pk*r,-r),e.lineTo(Pk*r,-r),e.closePath()}},Ui=-.5,$i=Yo(3)/2,eS=1/Yo(12),nhe=(eS/2+1)*3,ahe={draw(e,t){const r=Yo(t/nhe),n=r/2,a=r*eS,s=n,i=r*eS+r,o=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,c),e.lineTo(Ui*n-$i*a,$i*n+Ui*a),e.lineTo(Ui*s-$i*i,$i*s+Ui*i),e.lineTo(Ui*o-$i*c,$i*o+Ui*c),e.lineTo(Ui*n+$i*a,Ui*a-$i*n),e.lineTo(Ui*s+$i*i,Ui*i-$i*s),e.lineTo(Ui*o+$i*c,Ui*c-$i*o),e.closePath()}};function she(e,t){let r=null,n=EA(a);e=typeof e=="function"?e:Br(e||TA),t=typeof t=="function"?t:Br(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Br(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Br(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Xy(){}function Zy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fz(e){this._context=e}fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ihe(e){return new fz(e)}function hz(e){this._context=e}hz.prototype={areaStart:Xy,areaEnd:Xy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ohe(e){return new hz(e)}function mz(e){this._context=e}mz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lhe(e){return new mz(e)}function pz(e){this._context=e}pz.prototype={areaStart:Xy,areaEnd:Xy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function che(e){return new pz(e)}function v8(e){return e<0?-1:1}function y8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(v8(s)+v8(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function b8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ok(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function Jy(e){this._context=e}Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ok(this,this._t0,b8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ok(this,b8(this,r=y8(this,e,t)),r);break;default:Ok(this,this._t0,r=y8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function gz(e){this._context=new xz(e)}(gz.prototype=Object.create(Jy.prototype)).point=function(e,t){Jy.prototype.point.call(this,t,e)};function xz(e){this._context=e}xz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function uhe(e){return new Jy(e)}function dhe(e){return new gz(e)}function vz(e){this._context=e}vz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=w8(e),a=w8(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function w8(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function fhe(e){return new vz(e)}function O2(e,t){this._context=e,this._t=t}O2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hhe(e){return new O2(e,.5)}function mhe(e){return new O2(e,0)}function phe(e){return new O2(e,1)}function x0(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,o=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function tS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ghe(e,t){return e[t]}function xhe(e){const t=[];return t.key=e,t}function vhe(){var e=Br([]),t=tS,r=x0,n=ghe;function a(s){var i=Array.from(e.apply(this,arguments),xhe),o,c=i.length,u=-1,d;for(const f of s)for(o=0,++u;o<c;++o)(i[o][u]=[0,+n(f,i[o].key,u,s)]).data=f;for(o=0,d=CA(t(i));o<c;++o)i[d[o]].index=o;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Br(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Br(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?tS:typeof s=="function"?s:Br(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??x0,a):r},a}function yhe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}x0(e,t)}}function bhe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,o=0;i<a;++i)o+=e[i][r][1]||0;n[r][1]+=n[r][0]=-o/2}x0(e,t)}}function whe(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var o=0,c=0,u=0;o<i;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],x=g[n][1]||0,v=g[n-1][1]||0;m+=x-v}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,x0(e,t)}}var L2={},yz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(yz);var PA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(PA);var F2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(F2);var D2={},bz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(bz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bz,r=F2;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let o=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),o++);o<i;){const f=a[o];u?f==="\\"&&o+1<i?(o++,c+=a[o]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,o++}return c&&s.push(c),s}e.toPath=n})(D2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yz,r=PA,n=F2,a=D2;function s(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?s(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function i(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(L2);var khe=L2.get;const v0=Tl(khe);var Nhe=4;function yu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nhe,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function xn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,i)=>{var o=r[i-1];return typeof o=="string"?a+o+s:o!==void 0?a+yu(o)+s:a+s},"")}var _a=e=>e===0?0:e>0?1:-1,Ho=e=>typeof e=="number"&&e!=+e,xc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,kt=e=>(typeof e=="number"||e instanceof Number)&&!Ho(e),_l=e=>kt(e)||typeof e=="string",She=0,wg=e=>{var t=++She;return"".concat(e||"").concat(t)},ds=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(t)&&typeof t!="string")return n;var s;if(xc(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return Ho(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},wz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Jr(e,t,r){return kt(e)&&kt(t)?yu(e+r*(t-e)):t}function kz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):v0(n,t))===r)}var rn=e=>e===null||typeof e>"u",ux=e=>rn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function jhe(e){return e!=null}function dx(){}var Ahe=["type","size","sizeType"];function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(null,arguments)}function k8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(r),!0).forEach(function(n){_he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _he(e,t,r){return(t=Ehe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ehe(e){var t=Che(e,"string");return typeof t=="symbol"?t:t+""}function Che(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function The(e,t){if(e==null)return{};var r,n,a=Phe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Phe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nz={symbolCircle:TA,symbolCross:Kfe,symbolDiamond:Xfe,symbolSquare:Zfe,symbolStar:the,symbolTriangle:rhe,symbolWye:ahe},Ohe=Math.PI/180,Lhe=e=>{var t="symbol".concat(ux(e));return Nz[t]||TA},Fhe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Ohe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Dhe=(e,t)=>{Nz["symbol".concat(ux(e))]=t},OA=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=The(e,Ahe),s=N8(N8({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var o=()=>{var h=Lhe(i),m=she().type(h).size(Fhe(r,n,i)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=s,f=Os(s);return kt(u)&&kt(d)&&kt(r)?k.createElement("path",rS({},f,{className:fr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};OA.registerSymbol=Dhe;var Sz=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,LA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{AA(a)&&(n[a]=s=>r[a](r,s))}),n},Ihe=(e,t,r)=>n=>(e(t,r,n),null),fx=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];AA(a)&&typeof s=="function"&&(n||(n={}),n[a]=Ihe(s,t,r))}),n};function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){Rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rhe(e,t,r){return(t=Bhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bhe(e){var t=zhe(e,"string");return typeof t=="symbol"?t:t+""}function zhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ta(e,t){var r=Mhe({},e),n=t,a=Object.keys(t),s=a.reduce((i,o)=>(i[o]===void 0&&n[o]!==void 0&&(i[o]=n[o]),i),r);return s}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){$he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $he(e,t,r){return(t=Whe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Whe(e){var t=Hhe(e,"string");return typeof t=="symbol"?t:t+""}function Hhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ki=32,Vhe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function qhe(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Ki/2,s=Ki/6,i=Ki/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return k.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Ki,y2:a,className:"recharts-legend-icon"})}if(c==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(Ki,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return k.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ki/8,"h").concat(Ki,"v").concat(Ki*3/4,"h").concat(-Ki,"z"),className:"recharts-legend-icon"});if(k.isValidElement(t.legendIcon)){var d=Uhe({},t);return delete d.legendIcon,k.cloneElement(t.legendIcon,d)}return k.createElement(OA,{fill:o,cx:a,cy:a,size:Ki,sizeType:"diameter",type:c})}function Ghe(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,o={x:0,y:0,width:Ki,height:Ki},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=fr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?s:d.color,g=h?h(d.value,d,f):d.value;return k.createElement("li",Qy({className:m,style:c,key:"legend-item-".concat(f)},fx(e,d,f)),k.createElement(_A,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(g," legend icon")},k.createElement(qhe,{data:d,iconType:i,inactiveColor:s})),k.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var Khe=e=>{var t=ta(e,Vhe),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:s},k.createElement(Ghe,Qy({},t,{payload:r})))},jz={},Az={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],o=n(i);a.has(o)||a.set(o,i)}return Array.from(a.values())}e.uniqBy=t})(Az);var FA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(FA);var _z={},I2={},Ez={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Ez);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ez;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(I2);var Cz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Cz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I2,r=Cz;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(_z);var Tz={},Pz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L2;function r(n){return function(a){return t.get(a,n)}}e.property=r})(Pz);var Oz={},DA={},Lz={},IA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(IA);var MA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(MA);var RA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(RA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA,r=MA,n=RA;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):s(d,f,function m(p,g,x,v,y,b){const N=h(p,g,x,v,y,b);return N!==void 0?!!N:s(p,g,m,b)},new Map)}function s(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return i(d,f,h,m);case"function":return Object.keys(f).length>0?s(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function i(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const x=p[g];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const x=d.get(p);if(h(x,g,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const x=f[g];let v=!1;for(let y=0;y<d.length;y++){if(p.has(y))continue;const b=d[y];let N=!1;if(h(b,x,g,d,f,m)&&(N=!0),N){p.add(y),v=!0;break}}if(!v)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(Lz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lz;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(DA);var Fz={},BA={},Dz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Dz);var zA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(zA);var UA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",N="[object BigUint64Array]",S="[object Int8Array]",A="[object Int16Array]",j="[object Int32Array]",C="[object BigInt64Array]",E="[object Float32Array]",F="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=F,e.functionTag=f,e.int16ArrayTag=A,e.int32ArrayTag=j,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=y,e.uint32ArrayTag=b,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=v})(UA);var Iz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Iz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dz,r=zA,n=UA,a=MA,s=Iz;function i(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let v=0;v<d.length;v++)x[v]=o(d[v],v,h,m,p);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[v,y]of d)x.set(v,o(y,v,h,m,p));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const v of d)x.add(o(v,void 0,h,m,p));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let v=0;v<d.length;v++)x[v]=o(d[v],v,h,m,p);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,h,m,p),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,h,m,p),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,m,p),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,h,m,p),x}return d}function c(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<g.length;x++){const v=g[x],y=Object.getOwnPropertyDescriptor(d,v);(y==null||y.writable)&&(d[v]=o(f[v],v,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=o,e.copyProperties=c})(BA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Fz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DA,r=Fz;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(Oz);var Mz={},Rz={},Bz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA,r=UA;function n(a,s){return t.cloneDeepWith(a,(i,o,c,u)=>{const d=s==null?void 0:s(i,o,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(Bz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bz;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Rz);var zz={},$A={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})($A);var Uz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zA;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Uz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PA,r=$A,n=Uz,a=D2;function s(i,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(i==null?void 0:i[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(zz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DA,r=F2,n=Rz,a=L2,s=zz;function i(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?s.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=i})(Mz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FA,r=Pz,n=Oz,a=Mz;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(Tz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Az,r=FA,n=_z,a=Tz;function s(i,o=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(o)):[]}e.uniqBy=s})(jz);var Yhe=jz.uniqBy;const A8=Tl(Yhe);function $z(e,t,r){return t===!0?A8(e,r):typeof t=="function"?A8(e,t):e}var Wz={exports:{}},Hz={},Vz={exports:{}},qz={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=k;function Xhe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zhe=typeof Object.is=="function"?Object.is:Xhe,Jhe=mh.useState,Qhe=mh.useEffect,eme=mh.useLayoutEffect,tme=mh.useDebugValue;function rme(e,t){var r=t(),n=Jhe({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return eme(function(){a.value=r,a.getSnapshot=t,Lk(a)&&s({inst:a})},[e,r,t]),Qhe(function(){return Lk(a)&&s({inst:a}),e(function(){Lk(a)&&s({inst:a})})},[e]),tme(r),r}function Lk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zhe(e,r)}catch{return!0}}function nme(e,t){return t()}var ame=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nme:rme;qz.useSyncExternalStore=mh.useSyncExternalStore!==void 0?mh.useSyncExternalStore:ame;Vz.exports=qz;var sme=Vz.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2=k,ime=sme;function ome(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lme=typeof Object.is=="function"?Object.is:ome,cme=ime.useSyncExternalStore,ume=M2.useRef,dme=M2.useEffect,fme=M2.useMemo,hme=M2.useDebugValue;Hz.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=ume(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=fme(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&i.hasValue){var p=i.value;if(a(p,m))return f=p}return f=m}if(p=f,lme(d,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(d=m,p):(d=m,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=cme(e,s[0],s[1]);return dme(function(){i.hasValue=!0,i.value=o},[o]),hme(o),o};Wz.exports=Hz;var mme=Wz.exports,WA=k.createContext(null),pme=e=>e,Ur=()=>{var e=k.useContext(WA);return e?e.store.dispatch:pme},Kv=()=>{},gme=()=>Kv,xme=(e,t)=>e===t;function Nt(e){var t=k.useContext(WA);return mme.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:gme,t?t.store.getState:Kv,t?t.store.getState:Kv,t?e:Kv,xme)}function vme(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function yme(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function bme(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var _8=e=>Array.isArray(e)?e:[e];function wme(e){const t=Array.isArray(e[0])?e[0]:e;return bme(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function kme(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Nme=class{constructor(e){this.value=e}deref(){return this.value}},Sme=typeof WeakRef<"u"?WeakRef:Nme,jme=0,E8=1;function cv(){return{s:jme,v:void 0,o:null,p:null}}function Gz(e,t={}){let r=cv();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const x=g.get(p);x===void 0?(o=cv(),g.set(p,o)):o=x}else{let g=o.p;g===null&&(o.p=g=new Map);const x=g.get(p);x===void 0?(o=cv(),g.set(p,o)):o=x}}const u=o;let d;if(o.s===E8)d=o.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Sme(d):d}return u.s=E8,u.v=d,d}return i.clearCache=()=>{r=cv(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Ame(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),vme(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=Gz,argsMemoizeOptions:p=[]}=d,g=_8(h),x=_8(p),v=wme(a),y=f(function(){return s++,u.apply(null,arguments)},...g),b=m(function(){i++;const S=kme(v,arguments);return o=y.apply(null,S),o},...x);return Object.assign(b,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var Fe=Ame(Gz),_me=Object.assign((e,t=Fe)=>{yme(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,o,c)=>(i[r[c]]=o,i),{}))},{withTypes:()=>_me}),Kz={},Yz={},Xz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),o=t(a);if(i===o&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-i:i-o}return 0};e.compareValues=r})(Xz);var Zz={},HA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(HA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HA,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(Zz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xz,r=Zz,n=D2;function a(s,i,o,c){if(s==null)return[];o=c?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let g=m;for(let x=0;x<p.length&&g!=null;++x)g=g[p[x]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=i.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const x=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=a})(Yz);var Jz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<s?i(d,c+1):a.push(d)}};return i(r,0),a}e.flatten=t})(Jz);var VA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$A,r=I2,n=IA,a=RA;function s(i,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],i):!1}e.isIterateeCall=s})(VA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yz,r=Jz,n=VA;function a(s,...i){const o=i.length;return o>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:o>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(Kz);var Eme=Kz.sortBy;const R2=Tl(Eme);var Qz=e=>e.legend.settings,Cme=e=>e.legend.size,Tme=e=>e.legend.payload,Pme=Fe([Tme,Qz],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?R2(n,r):n});function Ome(){return Nt(Pme)}var uv=1;function eU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>uv||Math.abs(i.left-t.left)>uv||Math.abs(i.top-t.top)>uv||Math.abs(i.width-t.width)>uv)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Da(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Lme=typeof Symbol=="function"&&Symbol.observable||"@@observable",C8=Lme,Fk=()=>Math.random().toString(36).substring(7).split("").join("."),Fme={INIT:`@@redux/INIT${Fk()}`,REPLACE:`@@redux/REPLACE${Fk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Fk()}`},eb=Fme;function qA(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function tU(e,t,r){if(typeof e!="function")throw new Error(Da(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Da(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Da(1));return r(tU)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((x,v)=>{i.set(v,x)}))}function d(){if(c)throw new Error(Da(3));return a}function f(x){if(typeof x!="function")throw new Error(Da(4));if(c)throw new Error(Da(5));let v=!0;u();const y=o++;return i.set(y,x),function(){if(v){if(c)throw new Error(Da(6));v=!1,u(),i.delete(y),s=null}}}function h(x){if(!qA(x))throw new Error(Da(7));if(typeof x.type>"u")throw new Error(Da(8));if(typeof x.type!="string")throw new Error(Da(17));if(c)throw new Error(Da(9));try{c=!0,a=n(a,x)}finally{c=!1}return(s=i).forEach(y=>{y()}),x}function m(x){if(typeof x!="function")throw new Error(Da(10));n=x,h({type:eb.REPLACE})}function p(){const x=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Da(11));function y(){const N=v;N.next&&N.next(d())}return y(),{unsubscribe:x(y)}},[C8](){return this}}}return h({type:eb.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[C8]:p}}function Dme(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:eb.INIT})>"u")throw new Error(Da(12));if(typeof r(void 0,{type:eb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Da(13))})}function rU(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{Dme(r)}catch(s){a=s}return function(i={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=i[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(Da(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(i).length,c?u:i}}function tb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Ime(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Da(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},o=e.map(c=>c(i));return s=tb(...o)(a.dispatch),{...a,dispatch:s}}}function nU(e){return qA(e)&&"type"in e&&typeof e.type=="string"}var aU=Symbol.for("immer-nothing"),T8=Symbol.for("immer-draftable"),Ls=Symbol.for("immer-state");function Oo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bi=Object,ph=bi.getPrototypeOf,rb="constructor",B2="prototype",nS="configurable",nb="enumerable",Yv="writable",kg="value",vc=e=>!!e&&!!e[Ls];function Vo(e){var t;return e?sU(e)||z2(e)||!!e[T8]||!!((t=e[rb])!=null&&t[T8])||U2(e)||$2(e):!1}var Mme=bi[B2][rb].toString(),P8=new WeakMap;function sU(e){if(!e||!GA(e))return!1;const t=ph(e);if(t===null||t===bi[B2])return!0;const r=bi.hasOwnProperty.call(t,rb)&&t[rb];if(r===Object)return!0;if(!yf(r))return!1;let n=P8.get(r);return n===void 0&&(n=Function.toString.call(r),P8.set(r,n)),n===Mme}function hx(e,t,r=!0){mx(e)===0?(r?Reflect.ownKeys(e):bi.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function mx(e){const t=e[Ls];return t?t.type_:z2(e)?1:U2(e)?2:$2(e)?3:0}var O8=(e,t,r=mx(e))=>r===2?e.has(t):bi[B2].hasOwnProperty.call(e,t),aS=(e,t,r=mx(e))=>r===2?e.get(t):e[t],ab=(e,t,r,n=mx(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Rme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var z2=Array.isArray,U2=e=>e instanceof Map,$2=e=>e instanceof Set,GA=e=>typeof e=="object",yf=e=>typeof e=="function",Dk=e=>typeof e=="boolean",Zl=e=>e.copy_||e.base_,KA=e=>e.modified_?e.copy_:e.base_;function sS(e,t){if(U2(e))return new Map(e);if($2(e))return new Set(e);if(z2(e))return Array[B2].slice.call(e);const r=sU(e);if(t===!0||t==="class_only"&&!r){const n=bi.getOwnPropertyDescriptors(e);delete n[Ls];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o[Yv]===!1&&(o[Yv]=!0,o[nS]=!0),(o.get||o.set)&&(n[i]={[nS]:!0,[Yv]:!0,[nb]:o[nb],[kg]:e[i]})}return bi.create(ph(e),n)}else{const n=ph(e);if(n!==null&&r)return{...e};const a=bi.create(n);return bi.assign(a,e)}}function YA(e,t=!1){return W2(e)||vc(e)||!Vo(e)||(mx(e)>1&&bi.defineProperties(e,{set:dv,add:dv,clear:dv,delete:dv}),bi.freeze(e),t&&hx(e,(r,n)=>{YA(n,!0)},!1)),e}function Bme(){Oo(2)}var dv={[kg]:Bme};function W2(e){return e===null||!GA(e)?!0:bi.isFrozen(e)}var sb="MapSet",iS="Patches",iU={};function gh(e){const t=iU[e];return t||Oo(0,e),t}var zme=e=>!!iU[e],Ng,oU=()=>Ng,Ume=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zme(sb)?gh(sb):void 0});function L8(e,t){t&&(e.patchPlugin_=gh(iS),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function oS(e){lS(e),e.drafts_.forEach($me),e.drafts_=null}function lS(e){e===Ng&&(Ng=e.parent_)}var F8=e=>Ng=Ume(Ng,e);function $me(e){const t=e[Ls];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function D8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ls].modified_&&(oS(t),Oo(4)),Vo(e)&&(e=I8(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Ls].base_,e,t)}else e=I8(t,r);return Wme(t,e,!0),oS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aU?e:void 0}function I8(e,t){if(W2(t))return t;const r=t[Ls];if(!r)return XA(t,e.handledSet_,e);if(!H2(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);uU(r,e)}return r.copy_}function Wme(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&YA(t,r)}function lU(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var H2=(e,t)=>e.scope_===t,Hme=[];function cU(e,t,r,n){const a=Zl(e),s=e.type_;if(n!==void 0&&aS(a,n,s)===t){ab(a,n,r,s);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;hx(a,(c,u)=>{if(vc(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const i=e.draftLocations_.get(t)??Hme;for(const o of i)ab(a,o,r,s)}function Vme(e,t,r){e.callbacks_.push(function(a){var o;const s=t;if(!s||!H2(s,a))return;(o=a.mapSetPlugin_)==null||o.fixSetContents(s);const i=KA(s);cU(e,s.draft_??s,i,r),uU(s,a)})}function uU(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}lU(e)}}function qme(e,t,r){const{scope_:n}=e;if(vc(r)){const a=r[Ls];H2(a,n)&&a.callbacks_.push(function(){Xv(e);const i=KA(a);cU(e,r,i,t)})}else Vo(r)&&e.callbacks_.push(function(){const s=Zl(e);aS(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&XA(aS(e.copy_,t,e.type_),n.handledSet_,n)})}function XA(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||vc(e)||t.has(e)||!Vo(e)||W2(e)||(t.add(e),hx(e,(n,a)=>{if(vc(a)){const s=a[Ls];if(H2(s,r)){const i=KA(s);ab(e,n,i,e.type_),lU(s)}}else Vo(a)&&XA(a,t,r)})),e}function Gme(e,t){const r=z2(e),n={type_:r?1:0,scope_:t?t.scope_:oU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=ZA;r&&(a=[n],s=Sg);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,[o,n]}var ZA={get(e,t){if(t===Ls)return e;const r=Zl(e);if(!O8(r,t,e.type_))return Kme(e,r,t);const n=r[t];if(e.finalized_||!Vo(n))return n;if(n===Ik(e.base_,t)){Xv(e);const a=e.type_===1?+t:t,s=uS(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in Zl(e)},ownKeys(e){return Reflect.ownKeys(Zl(e))},set(e,t,r){const n=dU(Zl(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Ik(Zl(e),t),s=a==null?void 0:a[Ls];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Rme(r,a)&&(r!==void 0||O8(e.base_,t,e.type_)))return!0;Xv(e),cS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),qme(e,t,r)),!0},deleteProperty(e,t){return Xv(e),Ik(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),cS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Zl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Yv]:!0,[nS]:e.type_!==1||t!=="length",[nb]:n[nb],[kg]:r[t]}},defineProperty(){Oo(11)},getPrototypeOf(e){return ph(e.base_)},setPrototypeOf(){Oo(12)}},Sg={};hx(ZA,(e,t)=>{Sg[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Sg.deleteProperty=function(e,t){return Sg.set.call(this,e,t,void 0)};Sg.set=function(e,t,r){return ZA.set.call(this,e[0],t,r,e[0])};function Ik(e,t){const r=e[Ls];return(r?Zl(r):e)[t]}function Kme(e,t,r){var a;const n=dU(t,r);return n?kg in n?n[kg]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function dU(e,t){if(!(t in e))return;let r=ph(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ph(r)}}function cS(e){e.modified_||(e.modified_=!0,e.parent_&&cS(e.parent_))}function Xv(e){e.copy_||(e.assigned_=new Map,e.copy_=sS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Yme=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(yf(r)&&!yf(n)){const i=n;n=r;const o=this;return function(u=i,...d){return o.produce(u,f=>n.call(this,f,...d))}}yf(n)||Oo(6),a!==void 0&&!yf(a)&&Oo(7);let s;if(Vo(r)){const i=F8(this),o=uS(i,r,void 0);let c=!0;try{s=n(o),c=!1}finally{c?oS(i):lS(i)}return L8(i,a),D8(s,i)}else if(!r||!GA(r)){if(s=n(r),s===void 0&&(s=r),s===aU&&(s=void 0),this.autoFreeze_&&YA(s,!0),a){const i=[],o=[];gh(iS).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:o}),a(i,o)}return s}else Oo(1,r)},this.produceWithPatches=(r,n)=>{if(yf(r))return(o,...c)=>this.produceWithPatches(o,u=>r(u,...c));let a,s;return[this.produce(r,n,(o,c)=>{a=o,s=c}),a,s]},Dk(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Dk(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Dk(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Vo(t)||Oo(8),vc(t)&&(t=$o(t));const r=F8(this),n=uS(r,t,void 0);return n[Ls].isManual_=!0,lS(r),n}finishDraft(t,r){const n=t&&t[Ls];(!n||!n.isManual_)&&Oo(9);const{scope_:a}=n;return L8(a,r),D8(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=gh(iS).applyPatches_;return vc(t)?a(t,r):this.produce(t,s=>a(s,r))}};function uS(e,t,r,n){const[a,s]=U2(t)?gh(sb).proxyMap_(t,r):$2(t)?gh(sb).proxySet_(t,r):Gme(t,r);return((r==null?void 0:r.scope_)??oU()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?Vme(r,s,n):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function $o(e){return vc(e)||Oo(10,e),fU(e)}function fU(e){if(!Vo(e)||W2(e))return e;const t=e[Ls];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=sS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=sS(e,!0);return hx(r,(a,s)=>{ab(r,a,fU(s))},n),t&&(t.finalized_=!1),r}var Xme=new Yme,hU=Xme.produce;function mU(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var Zme=mU(),Jme=mU,Qme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tb:tb.apply(null,arguments)};function uo(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Si(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>nU(n)&&n.type===e,r}var pU=class ap extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ap.prototype)}static get[Symbol.species](){return ap}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ap(...t[0].concat(this)):new ap(...t.concat(this))}};function M8(e){return Vo(e)?hU(e,()=>{}):e}function fv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function epe(e){return typeof e=="boolean"}var tpe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new pU;return r&&(epe(r)?i.push(Zme):i.push(Jme(r.extraArgument))),i},gU="RTK_autoBatch",Zr=()=>e=>({payload:e,meta:{[gU]:!0}}),R8=e=>t=>{setTimeout(t,e)},xU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:R8(10):e.type==="callback"?e.queueNotification:R8(e.timeout),u=()=>{i=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[gU]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},rpe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new pU(e);return n&&a.push(xU(typeof n=="object"?n:void 0)),a};function npe(e){const t=tpe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(qA(r))o=rU(r);else throw new Error(Si(1));let c;typeof n=="function"?c=n(t):c=t();let u=tb;a&&(u=Qme({trace:!1,...typeof a=="object"&&a}));const d=Ime(...c),f=rpe(d);let h=typeof i=="function"?i(f):f();const m=u(...h);return tU(o,s,m)}function vU(e){const t={},r=[];let n;const a={addCase(s,i){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Si(28));if(o in t)throw new Error(Si(29));return t[o]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function ape(e){return typeof e=="function"}function spe(e,t){let[r,n,a]=vU(t),s;if(ape(e))s=()=>M8(e());else{const o=M8(e);s=()=>o}function i(o=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(vc(d)){const m=f(d,c);return m===void 0?d:m}else{if(Vo(d))return hU(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return i.getInitialState=s,i}var ipe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ope=(e=21)=>{let t="",r=e;for(;r--;)t+=ipe[Math.random()*64|0];return t},lpe=Symbol.for("rtk-slice-createasyncthunk");function cpe(e,t){return`${e}/${t}`}function upe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[lpe];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Si(11));const o=(typeof a.reducers=="function"?a.reducers(fpe()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,S){const A=typeof N=="string"?N:N.type;if(!A)throw new Error(Si(12));if(A in u.sliceCaseReducersByType)throw new Error(Si(13));return u.sliceCaseReducersByType[A]=S,d},addMatcher(N,S){return u.sliceMatchers.push({matcher:N,reducer:S}),d},exposeAction(N,S){return u.actionCreators[N]=S,d},exposeCaseReducer(N,S){return u.sliceCaseReducersByName[N]=S,d}};c.forEach(N=>{const S=o[N],A={reducerName:N,type:cpe(s,N),createNotation:typeof a.reducers=="function"};mpe(S)?gpe(A,S,d,t):hpe(A,S,d)});function f(){const[N={},S=[],A=void 0]=typeof a.extraReducers=="function"?vU(a.extraReducers):[a.extraReducers],j={...N,...u.sliceCaseReducersByType};return spe(a.initialState,C=>{for(let E in j)C.addCase(E,j[E]);for(let E of u.sliceMatchers)C.addMatcher(E.matcher,E.reducer);for(let E of S)C.addMatcher(E.matcher,E.reducer);A&&C.addDefaultCase(A)})}const h=N=>N,m=new Map,p=new WeakMap;let g;function x(N,S){return g||(g=f()),g(N,S)}function v(){return g||(g=f()),g.getInitialState()}function y(N,S=!1){function A(C){let E=C[N];return typeof E>"u"&&S&&(E=fv(p,A,v)),E}function j(C=h){const E=fv(m,S,()=>new WeakMap);return fv(E,C,()=>{const F={};for(const[O,T]of Object.entries(a.selectors??{}))F[O]=dpe(T,C,()=>fv(p,C,v),S);return F})}return{reducerPath:N,getSelectors:j,get selectors(){return j(A)},selectSlice:A}}const b={name:s,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...y(i),injectInto(N,{reducerPath:S,...A}={}){const j=S??i;return N.inject({reducerPath:j,reducer:x},A),{...b,...y(j,!0)}}};return b}}function dpe(e,t,r,n){function a(s,...i){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...i)}return a.unwrapped=e,a}var ai=upe();function fpe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function hpe({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!ppe(n))throw new Error(Si(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?uo(e,i):uo(e))}function mpe(e){return e._reducerDefinitionType==="asyncThunk"}function ppe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function gpe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Si(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||hv,pending:o||hv,rejected:c||hv,settled:u||hv})}function hv(){}var xpe="task",yU="listener",bU="completed",JA="cancelled",vpe=`task-${JA}`,ype=`task-${bU}`,dS=`${yU}-${JA}`,bpe=`${yU}-${bU}`,V2=class{constructor(e){C5(this,"name","TaskAbortError");C5(this,"message");this.code=e,this.message=`${xpe} ${JA} (reason: ${e})`}},QA=(e,t)=>{if(typeof e!="function")throw new TypeError(Si(32))},ib=()=>{},wU=(e,t=ib)=>(e.catch(t),e),kU=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Jd=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qd=e=>{if(e.aborted){const{reason:t}=e;throw new V2(t)}};function NU(e,t){let r=ib;return new Promise((n,a)=>{const s=()=>a(new V2(e.reason));if(e.aborted){s();return}r=kU(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=ib})}var wpe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof V2?"cancelled":"rejected",error:r}}finally{t==null||t()}},ob=e=>t=>wU(NU(e,t).then(r=>(Qd(e),r))),SU=e=>{const t=ob(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Jf}=Object,B8={},q2="listenerMiddleware",kpe=(e,t)=>{const r=n=>kU(e,()=>Jd(n,e.reason));return(n,a)=>{QA(n);const s=new AbortController;r(s);const i=wpe(async()=>{Qd(e),Qd(s.signal);const o=await n({pause:ob(s.signal),delay:SU(s.signal),signal:s.signal});return Qd(s.signal),o},()=>Jd(s,ype));return a!=null&&a.autoJoin&&t.push(i.catch(ib)),{result:ob(e)(i),cancel(){Jd(s,vpe)}}}},Npe=(e,t)=>{const r=async(n,a)=>{Qd(t);let s=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await NU(t,Promise.race(o));return Qd(t),c}finally{s()}};return(n,a)=>wU(r(n,a))},jU=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=uo(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Si(21));return QA(s),{predicate:a,type:t,effect:s}},AU=Jf(e=>{const{type:t,predicate:r,effect:n}=jU(e);return{id:ope(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Si(22))}}},{withTypes:()=>AU}),z8=(e,t)=>{const{type:r,effect:n,predicate:a}=jU(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},fS=e=>{e.pending.forEach(t=>{Jd(t,dS)})},Spe=(e,t)=>()=>{for(const r of t.keys())fS(r);e.clear()},U8=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},_U=Jf(uo(`${q2}/add`),{withTypes:()=>_U}),jpe=uo(`${q2}/removeAll`),EU=Jf(uo(`${q2}/remove`),{withTypes:()=>EU}),Ape=(...e)=>{console.error(`${q2}/error`,...e)},px=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:s,onError:i=Ape}=e;QA(i);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&fS(m)}),c=m=>{const p=z8(t,m)??AU(m);return o(p)};Jf(c,{withTypes:()=>c});const u=m=>{const p=z8(t,m);return p&&(p.unsubscribe(),m.cancelActive&&fS(p)),!!p};Jf(u,{withTypes:()=>u});const d=async(m,p,g,x)=>{const v=new AbortController,y=Npe(c,v.signal),b=[];try{m.pending.add(v),n(m),await Promise.resolve(m.effect(p,Jf({},g,{getOriginalState:x,condition:(N,S)=>y(N,S).then(Boolean),take:y,delay:SU(v.signal),pause:ob(v.signal),extra:s,signal:v.signal,fork:kpe(v.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,S,A)=>{N!==v&&(Jd(N,dS),A.delete(N))})},cancel:()=>{Jd(v,dS),m.pending.delete(v)},throwIfCancelled:()=>{Qd(v.signal)}})))}catch(N){N instanceof V2||U8(i,N,{raisedBy:"effect"})}finally{await Promise.all(b),Jd(v,bpe),a(m),m.pending.delete(v)}},f=Spe(t,r);return{middleware:m=>p=>g=>{if(!nU(g))return p(g);if(_U.match(g))return c(g.payload);if(jpe.match(g)){f();return}if(EU.match(g))return u(g.payload);let x=m.getState();const v=()=>{if(x===B8)throw new Error(Si(23));return x};let y;try{if(y=p(g),t.size>0){const b=m.getState(),N=Array.from(t.values());for(const S of N){let A=!1;try{A=S.predicate(g,b,x)}catch(j){A=!1,U8(i,j,{raisedBy:"predicate"})}A&&d(S,g,m,v)}}}finally{x=B8}return y},startListening:c,stopListening:u,clearListeners:f}};function Si(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _pe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CU=ai({name:"chartLayout",initialState:_pe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Epe,setLayout:Cpe,setChartSize:Tpe,setScale:Ppe}=CU.actions,Ope=CU.reducer;function TU(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function fn(e){return Number.isFinite(e)}function El(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){Lpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lpe(e,t,r){return(t=Fpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fpe(e){var t=Dpe(e,"string");return typeof t=="symbol"?t:t+""}function Dpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Or(e,t,r){return rn(e)||rn(t)?r:_l(t)?v0(e,t,r):typeof t=="function"?t(e):r}var Ipe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if((o==="vertical"||o==="horizontal"&&i==="middle")&&s!=="center"&&kt(e[s]))return Ff(Ff({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&i!=="middle"&&kt(e[i]))return Ff(Ff({},e),{},{[i]:e[i]+(a||0)})}return e},nd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",PU=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,i=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||i.push(t),s||i.push(r),i},OU=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!i)return null;var p=o==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=a==="category"&&i.bandwidth?i.bandwidth()/p:0;if(g=m==="angleAxis"&&s&&s.length>=2?_a(s[0]-s[1])*2*g:g,f||h){var x=(f||h||[]).map((v,y)=>{var b=n?n.indexOf(v):v;return{coordinate:i(b)+g,value:v,offset:g,index:y}});return x.filter(v=>!Ho(v.coordinate))}return c&&u?u.map((v,y)=>({coordinate:i(v)+g,value:v,index:y,offset:g})):i.ticks&&d!=null?i.ticks(d).map((v,y)=>({coordinate:i(v)+g,value:v,offset:g,index:y})):i.domain().map((v,y)=>({coordinate:i(v)+g,value:n?n[v]:v,index:y,offset:g}))},W8=1e-4,Mpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-W8,s=Math.max(n[0],n[1])+W8,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},Rpe=(e,t)=>{if(!t||t.length!==2||!kt(t[0])||!kt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!kt(e[0])||e[0]<r)&&(a[0]=r),(!kt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Bpe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,i=0,o=0;o<r;++o){var c=e[o],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=Ho(d)?f:d;h>=0?(u[0]=s,u[1]=s+h,s=d):(u[0]=i,u[1]=i+h,i=d)}}}},zpe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,i=0;i<r;++i){var o=e[i],c=o==null?void 0:o[a];if(c!=null){var u=Ho(c[1])?c[0]:c[1];u>=0?(c[0]=s,c[1]=s+u,s=c[1]):(c[0]=0,c[1]=0)}}}},Upe={sign:Bpe,expand:yhe,none:x0,silhouette:bhe,wiggle:whe,positive:zpe},$pe=(e,t,r)=>{var n,a=(n=Upe[r])!==null&&n!==void 0?n:x0,s=vhe().keys(t).value((o,c)=>Number(Or(o,c,0))).order(tS).offset(a),i=s(e);return i.forEach((o,c)=>{o.forEach((u,d)=>{var f=Or(e[d],t[c],0);Array.isArray(f)&&f.length===2&&kt(f[0])&&kt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),i};function Wpe(e){return e==null?void 0:String(e)}function H8(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rn(a[t.dataKey])){var o=kz(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Or(a,rn(i)?t.dataKey:i);return rn(c)?null:t.scale(c)}var V8=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var o=Or(s,t.dataKey,t.scale.domain()[i]);return rn(o)?null:t.scale(o)-a/2+n},Hpe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Vpe=e=>{var t=e.flat(2).filter(kt);return[Math.min(...t),Math.max(...t)]},qpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Gpe=(e,t,r)=>{if(e!=null)return qpe(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:i}=s,o=i.reduce((c,u)=>{var d=TU(u,t,r),f=Vpe(d);return!fn(f[0])||!fn(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},q8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,G8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=R2(t,d=>d.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var c=a[i],u=a[i-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function K8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Ff(Ff({},t),{},{dataKey:r,payload:n,value:a,name:s})}function zh(e,t){if(e)return String(e);if(typeof t=="string")return t}var Kpe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Ype=(e,t)=>t==="centric"?e.angle:e.radius,Oc=e=>e.layout.width,Lc=e=>e.layout.height,Xpe=e=>e.layout.scale,LU=e=>e.layout.margin,G2=Fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),K2=Fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),FU="data-recharts-item-index",DU="data-recharts-item-id",gx=60;function Y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(r),!0).forEach(function(n){Zpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zpe(e,t,r){return(t=Jpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jpe(e){var t=Qpe(e,"string");return typeof t=="symbol"?t:t+""}function Qpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ege=e=>e.brush.height;function tge(e){var t=K2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:gx;return r+a}return r},0)}function rge(e){var t=K2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:gx;return r+a}return r},0)}function nge(e){var t=G2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function age(e){var t=G2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var da=Fe([Oc,Lc,LU,ege,tge,rge,nge,age,Qz,Cme],(e,t,r,n,a,s,i,o,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+o},h=mv(mv({},f),d),m=h.bottom;h.bottom+=n,h=Ipe(h,c,u);var p=e-h.left-h.right,g=t-h.top-h.bottom;return mv(mv({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),sge=Fe(da,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),e6=Fe(Oc,Lc,(e,t)=>({x:0,y:0,width:e,height:t})),ige=k.createContext(null),gs=()=>k.useContext(ige)!=null,Y2=e=>e.brush,X2=Fe([Y2,da,LU],(e,t,r)=>({height:e.height,x:kt(e.x)?e.x:t.left,y:kt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:kt(e.width)?e.width:t.width})),IU={},MU={},RU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,o=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},f=()=>{u&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),i=void 0,o=null},x=()=>{d()},v=function(...y){if(a!=null&&a.aborted)return;i=this,o=y;const b=h==null;m(),c&&b&&d()};return v.schedule=m,v.cancel=g,v.flush=x,a==null||a.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(RU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RU;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:o=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=n.apply(this,g),f=null},a,{edges:u}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(MU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MU;function r(n,a=0,s={}){const{leading:i=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:o})}e.throttle=r})(IU);var oge=IU.throttle;const lge=Tl(oge);var lb=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},BU=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,o=xc(n)?e:Number(n),c=xc(a)?t:Number(a);return s&&s>0&&(o?c=o/s:c&&(o=c*s),i&&c!=null&&c>i&&(c=i)),{calculatedWidth:o,calculatedHeight:c}},cge={width:0,height:0,overflow:"visible"},uge={width:0,overflowX:"visible"},dge={height:0,overflowY:"visible"},fge={},hge=e=>{var{width:t,height:r}=e,n=xc(t),a=xc(r);return n&&a?cge:n?uge:a?dge:fge};function mge(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hS.apply(null,arguments)}function X8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X8(Object(r),!0).forEach(function(n){pge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pge(e,t,r){return(t=gge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gge(e){var t=xge(e,"string");return typeof t=="symbol"?t:t+""}function xge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zU=k.createContext({width:-1,height:-1});function vge(e){return El(e.width)&&El(e.height)}function UU(e){var{children:t,width:r,height:n}=e,a=k.useMemo(()=>({width:r,height:n}),[r,n]);return vge(a)?k.createElement(zU.Provider,{value:a},t):null}var t6=()=>k.useContext(zU),yge=k.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=k.useRef(null),x=k.useRef();x.current=m,k.useImperativeHandle(t,()=>g.current);var[v,y]=k.useState({containerWidth:n.width,containerHeight:n.height}),b=k.useCallback((C,E)=>{y(F=>{var O=Math.round(C),T=Math.round(E);return F.containerWidth===O&&F.containerHeight===T?F:{containerWidth:O,containerHeight:T}})},[]);k.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return dx;var C=T=>{var H,{width:K,height:se}=T[0].contentRect;b(K,se),(H=x.current)===null||H===void 0||H.call(x,K,se)};d>0&&(C=lge(C,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(C),{width:F,height:O}=g.current.getBoundingClientRect();return b(F,O),E.observe(g.current),()=>{E.disconnect()}},[b,d]);var{containerWidth:N,containerHeight:S}=v;lb(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:A,calculatedHeight:j}=BU(N,S,{width:a,height:s,aspect:r,maxHeight:c});return lb(A!=null&&A>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,j,a,s,i,o,r),k.createElement("div",{id:f?"".concat(f):void 0,className:fr("recharts-responsive-container",h),style:Z8(Z8({},p),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:c}),ref:g},k.createElement("div",{style:hge({width:a,height:s})},k.createElement(UU,{width:A,height:j},u)))}),mS=k.forwardRef((e,t)=>{var r=t6();if(El(r.width)&&El(r.height))return e.children;var{width:n,height:a}=mge({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=BU(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return kt(s)&&kt(i)?k.createElement(UU,{width:s,height:i},e.children):k.createElement(yge,hS({},e,{width:n,height:a,ref:t}))});function $U(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Z2=()=>{var e,t=gs(),r=Nt(sge),n=Nt(X2),a=(e=Nt(Y2))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},bge={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},WU=()=>{var e;return(e=Nt(da))!==null&&e!==void 0?e:bge},r6=()=>Nt(Oc),n6=()=>Nt(Lc),wge=()=>Nt(e=>e.layout.margin),ir=e=>e.layout.layoutType,Uh=()=>Nt(ir),kge=()=>{var e=Uh();return e!==void 0},J2=e=>{var t=Ur(),r=gs(),{width:n,height:a}=e,s=t6(),i=n,o=a;return s&&(i=s.width>0?s.width:n,o=s.height>0?s.height:a),k.useEffect(()=>{!r&&El(i)&&El(o)&&t(Tpe({width:i,height:o}))},[t,r,i,o]),null},HU=Symbol.for("immer-nothing"),J8=Symbol.for("immer-draftable"),Ei=Symbol.for("immer-state");function Lo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jg=Object.getPrototypeOf;function vh(e){return!!e&&!!e[Ei]}function y0(e){var t;return e?VU(e)||Array.isArray(e)||!!e[J8]||!!((t=e.constructor)!=null&&t[J8])||xx(e)||ew(e):!1}var Nge=Object.prototype.constructor.toString(),Q8=new WeakMap;function VU(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Q8.get(r);return n===void 0&&(n=Function.toString.call(r),Q8.set(r,n)),n===Nge}function cb(e,t,r=!0){Q2(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Q2(e){const t=e[Ei];return t?t.type_:Array.isArray(e)?1:xx(e)?2:ew(e)?3:0}function pS(e,t){return Q2(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qU(e,t,r){const n=Q2(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Sge(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xx(e){return e instanceof Map}function ew(e){return e instanceof Set}function Sd(e){return e.copy_||e.base_}function gS(e,t){if(xx(e))return new Map(e);if(ew(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=VU(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ei];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(jg(e),n)}else{const n=jg(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function a6(e,t=!1){return tw(e)||vh(e)||!y0(e)||(Q2(e)>1&&Object.defineProperties(e,{set:pv,add:pv,clear:pv,delete:pv}),Object.freeze(e),t&&Object.values(e).forEach(r=>a6(r,!0))),e}function jge(){Lo(2)}var pv={value:jge};function tw(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Age={};function b0(e){const t=Age[e];return t||Lo(0,e),t}var Ag;function GU(){return Ag}function _ge(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function e7(e,t){t&&(b0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xS(e){vS(e),e.drafts_.forEach(Ege),e.drafts_=null}function vS(e){e===Ag&&(Ag=e.parent_)}function t7(e){return Ag=_ge(Ag,e)}function Ege(e){const t=e[Ei];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function r7(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ei].modified_&&(xS(t),Lo(4)),y0(e)&&(e=ub(t,e),t.parent_||db(t,e)),t.patches_&&b0("Patches").generateReplacementPatches_(r[Ei].base_,e,t.patches_,t.inversePatches_)):e=ub(t,r,[]),xS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HU?e:void 0}function ub(e,t,r){if(tw(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ei];if(!a)return cb(t,(s,i)=>n7(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return db(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,o=!1;a.type_===3&&(i=new Set(s),s.clear(),o=!0),cb(i,(c,u)=>n7(e,a,s,c,u,r,o),n),db(e,s,!1),r&&e.patches_&&b0("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function n7(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const o=tw(a);if(!(o&&!i)){if(vh(a)){const c=s&&t&&t.type_!==3&&!pS(t.assigned_,n)?s.concat(n):void 0,u=ub(e,a,c);if(qU(r,n,u),vh(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(y0(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;ub(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(xx(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&db(e,a)}}}function db(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&a6(t,r)}function Cge(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:GU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=s6;r&&(a=[n],s=_g);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var s6={get(e,t){if(t===Ei)return e;const r=Sd(e);if(!pS(r,t))return Tge(e,r,t);const n=r[t];return e.finalized_||!y0(n)?n:n===Mk(e.base_,t)?(Rk(e),e.copy_[t]=bS(n,e)):n},has(e,t){return t in Sd(e)},ownKeys(e){return Reflect.ownKeys(Sd(e))},set(e,t,r){const n=KU(Sd(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Mk(Sd(e),t),s=a==null?void 0:a[Ei];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Sge(r,a)&&(r!==void 0||pS(e.base_,t)))return!0;Rk(e),yS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Mk(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Rk(e),yS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Sd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Lo(11)},getPrototypeOf(e){return jg(e.base_)},setPrototypeOf(){Lo(12)}},_g={};cb(s6,(e,t)=>{_g[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_g.deleteProperty=function(e,t){return _g.set.call(this,e,t,void 0)};_g.set=function(e,t,r){return s6.set.call(this,e[0],t,r,e[0])};function Mk(e,t){const r=e[Ei];return(r?Sd(r):e)[t]}function Tge(e,t,r){var a;const n=KU(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function KU(e,t){if(!(t in e))return;let r=jg(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jg(r)}}function yS(e){e.modified_||(e.modified_=!0,e.parent_&&yS(e.parent_))}function Rk(e){e.copy_||(e.copy_=gS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Pge=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Lo(6),n!==void 0&&typeof n!="function"&&Lo(7);let a;if(y0(t)){const s=t7(this),i=bS(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?xS(s):vS(s)}return e7(s,n),r7(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===HU&&(a=void 0),this.autoFreeze_&&a6(a,!0),n){const s=[],i=[];b0("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else Lo(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,c=>t(c,...o));let n,a;return[this.produce(t,r,(i,o)=>{n=i,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){y0(e)||Lo(8),vh(e)&&(e=Oge(e));const t=t7(this),r=bS(e,void 0);return r[Ei].isManual_=!0,vS(t),r}finishDraft(e,t){const r=e&&e[Ei];(!r||!r.isManual_)&&Lo(9);const{scope_:n}=r;return e7(n,t),r7(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=b0("Patches").applyPatches_;return vh(e)?n(e,t):this.produce(e,a=>n(a,t))}};function bS(e,t){const r=xx(e)?b0("MapSet").proxyMap_(e,t):ew(e)?b0("MapSet").proxySet_(e,t):Cge(e,t);return(t?t.scope_:GU()).drafts_.push(r),r}function Oge(e){return vh(e)||Lo(10,e),YU(e)}function YU(e){if(!y0(e)||tw(e))return e;const t=e[Ei];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=gS(e,!0);return cb(r,(a,s)=>{qU(r,a,YU(s))},n),t&&(t.finalized_=!1),r}var Lge=new Pge;Lge.produce;var Fge={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},XU=ai({name:"legend",initialState:Fge,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=$o(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Zr()},removeLegendPayload:{reducer(e,t){var r=$o(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Zr()}}}),{setLegendSize:a7,setLegendSettings:Dge,addLegendPayload:ZU,replaceLegendPayload:JU,removeLegendPayload:QU}=XU.actions,Ige=XU.reducer,Mge=["contextPayload"];function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wS.apply(null,arguments)}function s7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(r),!0).forEach(function(n){Rge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rge(e,t,r){return(t=Bge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bge(e){var t=zge(e,"string");return typeof t=="symbol"?t:t+""}function zge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uge(e,t){if(e==null)return{};var r,n,a=$ge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $ge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wge(e){return e.value}function Hge(e){var{contextPayload:t}=e,r=Uge(e,Mge),n=$z(t,e.payloadUniqBy,Wge),a=yh(yh({},r),{},{payload:n});return k.isValidElement(e.content)?k.cloneElement(e.content,a):typeof e.content=="function"?k.createElement(e.content,a):k.createElement(Khe,a)}function Vge(e,t,r,n,a,s){var{layout:i,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),yh(yh({},u),d)}function qge(e){var t=Ur();return k.useEffect(()=>{t(Dge(e))},[t,e]),null}function Gge(e){var t=Ur();return k.useEffect(()=>(t(a7(e)),()=>{t(a7({width:0,height:0}))}),[t,e]),null}function Kge(e,t,r,n){return e==="vertical"&&kt(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var Yge={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function e$(e){var t=ta(e,Yge),r=Ome(),n=$fe(),a=wge(),{width:s,height:i,wrapperStyle:o,portal:c}=t,[u,d]=eU([r]),f=r6(),h=n6();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=Kge(t.layout,i,s,m),g=c?o:yh(yh({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||i||"auto"},Vge(o,t,a,f,h,u)),o),x=c??n;if(x==null||r==null)return null;var v=k.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},k.createElement(qge,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&k.createElement(Gge,{width:u.width,height:u.height}),k.createElement(Hge,wS({},t,p,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return c2.createPortal(v,x)}e$.displayName="Legend";function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(null,arguments)}function i7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i7(Object(r),!0).forEach(function(n){Xge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xge(e,t,r){return(t=Zge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zge(e){var t=Jge(e,"string");return typeof t=="symbol"?t:t+""}function Jge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qge(e){return Array.isArray(e)&&_l(e[0])&&_l(e[1])?e.join(" ~ "):e}var exe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var S={padding:0,margin:0},A=(o?R2(s,o):s).map((j,C)=>{if(j.type==="none")return null;var E=j.formatter||i||Qge,{value:F,name:O}=j,T=F,H=O;if(E){var K=E(F,O,j,C,s);if(Array.isArray(K))[T,H]=K;else if(K!=null)T=K;else return null}var se=Bk({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:se},_l(H)?k.createElement("span",{className:"recharts-tooltip-item-name"},H):null,_l(H)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},T),k.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:S},A)}return null},p=Bk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Bk({margin:0},a),x=!rn(d),v=x?d:"",y=fr("recharts-default-tooltip",c),b=fr("recharts-tooltip-label",u);x&&f&&s!==void 0&&s!==null&&(v=f(d,s));var N=h?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",kS({className:y,style:p},N),k.createElement("p",{className:b,style:g},k.isValidElement(v)?v:"".concat(v)),m())},$m="recharts-tooltip-wrapper",txe={visibility:"hidden"};function rxe(e){var{coordinate:t,translateX:r,translateY:n}=e;return fr($m,{["".concat($m,"-right")]:kt(r)&&t&&kt(t.x)&&r>=t.x,["".concat($m,"-left")]:kt(r)&&t&&kt(t.x)&&r<t.x,["".concat($m,"-bottom")]:kt(n)&&t&&kt(t.y)&&n>=t.y,["".concat($m,"-top")]:kt(n)&&t&&kt(t.y)&&n<t.y})}function o7(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(s&&kt(s[n]))return s[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var h=c[n];if(h==null)return 0;if(i[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var g=f+o,x=h+u;return g>x?Math.max(d,h):Math.max(f,h)}function nxe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function axe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:o,viewBox:c}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=o7({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=o7({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=nxe({translateX:d,translateY:f,useTranslate3d:o})):u=txe,{cssProperties:u,cssClasses:rxe({translateX:d,translateY:f,coordinate:r})}}function l7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l7(Object(r),!0).forEach(function(n){NS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NS(e,t,r){return(t=sxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sxe(e){var t=ixe(e,"string");return typeof t=="symbol"?t:t+""}function ixe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oxe extends k.PureComponent{constructor(){super(...arguments),NS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),NS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:x,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=axe({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),N=v?{}:gv(gv({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),S=gv(gv({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:S,ref:x},s)}}var t$=()=>{var e;return(e=Nt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SS.apply(null,arguments)}function c7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c7(Object(r),!0).forEach(function(n){lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t,r){return(t=cxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cxe(e){var t=uxe(e,"string");return typeof t=="symbol"?t:t+""}function uxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d7={curveBasisClosed:ohe,curveBasisOpen:lhe,curveBasis:ihe,curveBumpX:qfe,curveBumpY:Gfe,curveLinearClosed:che,curveLinear:P2,curveMonotoneX:uhe,curveMonotoneY:dhe,curveNatural:fhe,curveStep:hhe,curveStepAfter:phe,curveStepBefore:mhe},fb=e=>fn(e.x)&&fn(e.y),f7=e=>e.base!=null&&fb(e.base)&&fb(e),Wm=e=>e.x,Hm=e=>e.y,dxe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ux(e));return(r==="curveMonotone"||r==="curveBump")&&t?d7["".concat(r).concat(t==="vertical"?"Y":"X")]:d7[r]||P2},fxe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=dxe(t,a),o=s?r.filter(fb):r,c;if(Array.isArray(n)){var u=r.map((m,p)=>u7(u7({},m),{},{base:n[p]}));a==="vertical"?c=lv().y(Hm).x1(Wm).x0(m=>m.base.x):c=lv().x(Wm).y1(Hm).y0(m=>m.base.y);var d=c.defined(f7).curve(i),f=s?u.filter(f7):u;return d(f)}a==="vertical"&&kt(n)?c=lv().y(Hm).x1(Wm).x0(n):kt(n)?c=lv().x(Wm).y1(Hm).y0(n):c=lz().x(Wm).y(Hm);var h=c.defined(fb).curve(i);return h(o)},i6=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=Uh();if((!r||!r.length)&&!n)return null;var i={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},o=r&&r.length?fxe(i):n;return k.createElement("path",SS({},_i(e),LA(e),{className:fr("recharts-curve",t),d:o===null?void 0:o,ref:a}))},hxe=["x","y","top","left","width","height","className"];function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jS.apply(null,arguments)}function h7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h7(Object(r),!0).forEach(function(n){pxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pxe(e,t,r){return(t=gxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gxe(e){var t=xxe(e,"string");return typeof t=="symbol"?t:t+""}function xxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vxe(e,t){if(e==null)return{};var r,n,a=yxe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bxe=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),wxe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:o}=e,c=vxe(e,hxe),u=mxe({x:t,y:r,top:n,left:a,width:s,height:i},c);return!kt(t)||!kt(r)||!kt(s)||!kt(i)||!kt(n)||!kt(a)?null:k.createElement("path",jS({},Os(u),{className:fr("recharts-cross",o),d:bxe(t,r,s,i,n,a)}))};function kxe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function m7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(r),!0).forEach(function(n){Nxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nxe(e,t,r){return(t=Sxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sxe(e){var t=jxe(e,"string");return typeof t=="symbol"?t:t+""}function jxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Axe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),r$=(e,t,r)=>e.map(n=>"".concat(Axe(n)," ").concat(t,"ms ").concat(r)).join(","),_xe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Eg=(e,t)=>Object.keys(t).reduce((r,n)=>p7(p7({},r),{},{[n]:e(n,t[n])}),{});function g7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(r),!0).forEach(function(n){Exe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Exe(e,t,r){return(t=Cxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxe(e){var t=Txe(e,"string");return typeof t=="symbol"?t:t+""}function Txe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hb=(e,t,r)=>e+(t-e)*r,AS=e=>{var{from:t,to:r}=e;return t!==r},n$=(e,t,r)=>{var n=Eg((a,s)=>{if(AS(s)){var[i,o]=e(s.from,s.to,s.velocity);return ia(ia({},s),{},{from:i,velocity:o})}return s},t);return r<1?Eg((a,s)=>AS(s)&&n[a]!=null?ia(ia({},s),{},{velocity:hb(s.velocity,n[a].velocity,r),from:hb(s.from,n[a].from,r)}):s,t):n$(e,n,r-1)};function Pxe(e,t,r,n,a,s){var i,o=n.reduce((h,m)=>ia(ia({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Eg((h,m)=>m.from,o),u=()=>!Object.values(o).filter(AS).length,d=null,f=h=>{i||(i=h);var m=h-i,p=m/r.dt;o=n$(r,o,p),a(ia(ia(ia({},e),t),c())),i=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function Oxe(e,t,r,n,a,s,i){var o=null,c=a.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:ia(ia({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Eg((g,x)=>hb(...x,r(h)),c);if(s(ia(ia(ia({},e),t),m)),h<1)o=i.setTimeout(d);else{var p=Eg((g,x)=>hb(...x,r(1)),c);s(ia(ia(ia({},e),t),p))}};return()=>(o=i.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const Lxe=(e,t,r,n,a,s)=>{var i=_xe(e,t);return r==null?()=>(a(ia(ia({},e),t)),()=>{}):r.isStepper===!0?Pxe(e,t,r,i,a,s):Oxe(e,t,r,n,i,a,s)};var mb=1e-4,a$=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],s$=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),x7=(e,t)=>r=>{var n=a$(e,t);return s$(n,r)},Fxe=(e,t)=>r=>{var n=a$(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return s$(a,r)},Dxe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},Ixe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=Dxe(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},Mxe=(e,t,r,n)=>{var a=x7(e,r),s=x7(t,n),i=Fxe(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=i(f);if(Math.abs(m-d)<mb||p<mb)return s(f);f=o(f-m/p)}return s(f)};return c.isStepper=!1,c},v7=function(){return Mxe(...Ixe(...arguments))},Rxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,o,c)=>{var u=-(i-o)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+i;return Math.abs(h-o)<mb&&Math.abs(f)<mb?[o,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},Bxe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return v7(e);case"spring":return Rxe();default:if(e.split("(")[0]==="cubic-bezier")return v7(e)}return typeof e=="function"?e:null};function zxe(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class Uxe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function $xe(){return zxe(new Uxe)}var Wxe=k.createContext($xe);function Hxe(e,t){var r=k.useContext(Wxe);return k.useMemo(()=>t??r(e),[e,t,r])}var Vxe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rw={isSsr:Vxe()},qxe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},y7={t:0},zk={t:1};function vx(e){var t=ta(e,qxe),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=r==="auto"?!rw.isSsr:r,f=Hxe(t.animationId,t.animationManager),[h,m]=k.useState(d?y7:zk),p=k.useRef(null);return k.useEffect(()=>{d||m(zk)},[d]),k.useEffect(()=>{if(!d||!n)return dx;var g=Lxe(y7,zk,Bxe(s),a,m,f.getTimeoutController()),x=()=>{p.current=g()};return f.start([c,i,x,a,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,n,a,s,i,c,o,f]),u(h.t)}function yx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(wg(t)),n=k.useRef(e);return n.current!==e&&(r.current=wg(t),n.current=e),r.current}var Gxe=["radius"],Kxe=["radius"],b7,w7,k7,N7,S7,j7,A7,_7,E7,C7;function T7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T7(Object(r),!0).forEach(function(n){Yxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yxe(e,t,r){return(t=Xxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xxe(e){var t=Zxe(e,"string");return typeof t=="symbol"?t:t+""}function Zxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(null,arguments)}function O7(e,t){if(e==null)return{};var r,n,a=Jxe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L7=(e,t,r,n,a)=>{var s=yu(r),i=yu(n),o=Math.min(Math.abs(s)/2,Math.abs(i)/2),c=i>=0?1:-1,u=s>=0?1:-1,d=i>=0&&s>=0||i<0&&s<0?1:0,f;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=a[m]>o?o:a[m];f=xn(b7||(b7=sl(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=xn(w7||(w7=sl(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=xn(k7||(k7=sl(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=xn(N7||(N7=sl(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+c*h[1])),f+=xn(S7||(S7=sl(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=xn(j7||(j7=sl(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=xn(A7||(A7=sl(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=xn(_7||(_7=sl(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-c*h[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);f=xn(E7||(E7=sl(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*g,g,g,d,e+u*g,t,e+r-u*g,t,g,g,d,e+r,t+c*g,e+r,t+n-c*g,g,g,d,e+r-u*g,t+n,e+u*g,t+n,g,g,d,e,t+n-c*g)}else f=xn(C7||(C7=sl(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},F7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i$=e=>{var t=ta(e,F7),r=k.useRef(null),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var B=r.current.getTotalLength();B&&a(B)}catch{}},[]);var{x:s,y:i,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,x=k.useRef(o),v=k.useRef(c),y=k.useRef(s),b=k.useRef(i),N=k.useMemo(()=>({x:s,y:i,width:o,height:c,radius:u}),[s,i,o,c,u]),S=yx(N,"rectangle-");if(s!==+s||i!==+i||o!==+o||c!==+c||o===0||c===0)return null;var A=fr("recharts-rectangle",d);if(!g){var j=Os(t),{radius:C}=j,E=O7(j,Gxe);return k.createElement("path",pb({},E,{x:yu(s),y:yu(i),width:yu(o),height:yu(c),radius:typeof u=="number"?u:void 0,className:A,d:L7(s,i,o,c,u)}))}var F=x.current,O=v.current,T=y.current,H=b.current,K="0px ".concat(n===-1?1:n,"px"),se="".concat(n,"px 0px"),M=r$(["strokeDasharray"],h,typeof f=="string"?f:F7.animationEasing);return k.createElement(vx,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:g,begin:m},B=>{var Y=Jr(F,o,B),z=Jr(O,c,B),Q=Jr(T,s,B),de=Jr(H,i,B);r.current&&(x.current=Y,v.current=z,y.current=Q,b.current=de);var L;p?B>0?L={transition:M,strokeDasharray:se}:L={strokeDasharray:K}:L={strokeDasharray:se};var R=Os(t),{radius:U}=R,I=O7(R,Kxe);return k.createElement("path",pb({},I,{radius:typeof u=="number"?u:void 0,className:A,d:L7(Q,de,Y,z,u),ref:r,style:P7(P7({},L),t.style)}))})};function D7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(r),!0).forEach(function(n){Qxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qxe(e,t,r){return(t=e1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e1e(e){var t=t1e(e,"string");return typeof t=="symbol"?t:t+""}function t1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gb=Math.PI/180,r1e=e=>e*180/Math.PI,Zn=(e,t,r,n)=>({x:e+Math.cos(-gb*n)*r,y:t+Math.sin(-gb*n)*r}),o$=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},n1e=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},a1e=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=n1e({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-a)/i,c=Math.acos(o);return n>s&&(c=2*Math.PI-c),{radius:i,angle:r1e(c),angleInRadian:c}},s1e=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},i1e=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},o1e=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=a1e({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o||a===0)return null;var{startAngle:c,endAngle:u}=s1e(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?I7(I7({},t),{},{radius:a,angle:i1e(d,t)}):null};function l$(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Zn(t,r,n,a),o=Zn(t,r,n,s);return{points:[i,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var M7,R7,B7,z7,U7,$7,W7;function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(null,arguments)}function Fd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l1e=(e,t)=>{var r=_a(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},xv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:c}=e,u=o*(i?1:-1)+n,d=Math.asin(o/u)/gb,f=c?a:a+s*d,h=Zn(t,r,u,f),m=Zn(t,r,n,f),p=c?a-s*d:a,g=Zn(t,r,u*Math.cos(d*gb),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},c$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=l1e(s,i),c=s+o,u=Zn(t,r,a,s),d=Zn(t,r,a,c),f=xn(M7||(M7=Fd(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(o)>180),+(s>c),d.x,d.y);if(n>0){var h=Zn(t,r,n,s),m=Zn(t,r,n,c);f+=xn(R7||(R7=Fd(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(o)>180),+(s<=c),h.x,h.y)}else f+=xn(B7||(B7=Fd(["L ",","," Z"])),t,r);return f},c1e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=_a(u-c),{circleTangency:f,lineTangency:h,theta:m}=xv({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:x}=xv({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),v=o?Math.abs(c-u):Math.abs(c-u)-m-x;if(v<0)return i?xn(z7||(z7=Fd(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):c$({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var y=xn(U7||(U7=Fd(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(d<0),f.x,f.y,a,a,+(v>180),+(d<0),p.x,p.y,s,s,+(d<0),g.x,g.y);if(n>0){var{circleTangency:b,lineTangency:N,theta:S}=xv({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:A,lineTangency:j,theta:C}=xv({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),E=o?Math.abs(c-u):Math.abs(c-u)-S-C;if(E<0&&s===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+=xn($7||($7=Fd(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,s,s,+(d<0),A.x,A.y,n,n,+(E>180),+(d>0),b.x,b.y,s,s,+(d<0),N.x,N.y)}else y+=xn(W7||(W7=Fd(["L",",","Z"])),t,r);return y},u1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},u$=e=>{var t=ta(e,u1e),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var h=fr("recharts-sector",f),m=s-a,p=ds(i,m,0,!0),g;return p>0&&Math.abs(u-d)<360?g=c1e({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):g=c$({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),k.createElement("path",_S({},Os(t),{className:h,d:g}))};function d1e(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Sz(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:o}=t,c=Zn(n,a,s,o),u=Zn(n,a,i,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return l$(t)}}var d$={},f$={},h$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HA;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(h$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h$;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(f$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VA,r=f$;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const o=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=i;return c}e.range=n})(d$);var f1e=d$.range;const m$=Tl(f1e);function Pu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h1e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o6(e){let t,r,n;e.length!==2?(t=Pu,r=(o,c)=>Pu(e(o),c),n=(o,c)=>e(o)-c):(t=e===Pu||e===h1e?e:m1e,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:i,right:s}}function m1e(){return 0}function p$(e){return e===null?NaN:+e}function*p1e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const g1e=o6(Pu),bx=g1e.right;o6(p$).center;class H7 extends Map{constructor(t,r=y1e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(V7(this,t))}has(t){return super.has(V7(this,t))}set(t,r){return super.set(x1e(this,t),r)}delete(t){return super.delete(v1e(this,t))}}function V7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function x1e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function v1e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function y1e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function b1e(e=Pu){if(e===Pu)return g$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function g$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w1e=Math.sqrt(50),k1e=Math.sqrt(10),N1e=Math.sqrt(2);function xb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=w1e?10:s>=k1e?5:s>=N1e?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/i,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?xb(e,t,r*2):[o,c,u]}function ES(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?xb(t,e,r):xb(e,t,r);if(!(s>=a))return[];const o=s-a+1,c=new Array(o);if(n)if(i<0)for(let u=0;u<o;++u)c[u]=(s-u)/-i;else for(let u=0;u<o;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<o;++u)c[u]=(a+u)/-i;else for(let u=0;u<o;++u)c[u]=(a+u)*i;return c}function CS(e,t,r){return t=+t,e=+e,r=+r,xb(e,t,r)[2]}function TS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?CS(t,e,r):CS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function q7(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function G7(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function x$(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?g$:b1e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));x$(e,t,m,p,a)}const s=e[t];let i=r,o=n;for(Vm(e,r,t),a(e[n],s)>0&&Vm(e,r,n);i<o;){for(Vm(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?Vm(e,r,o):(++o,Vm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Vm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function S1e(e,t,r){if(e=Float64Array.from(p1e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return G7(e);if(t>=1)return q7(e);var n,a=(n-1)*t,s=Math.floor(a),i=q7(x$(e,s).subarray(0,s+1)),o=G7(e.subarray(s+1));return i+(o-i)*(a-s)}}function j1e(e,t,r=p$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return i+(o-i)*(a-s)}}function A1e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function mo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const PS=Symbol("implicit");function l6(){var e=new H7,t=[],r=[],n=PS;function a(s){let i=e.get(s);if(i===void 0){if(n!==PS)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new H7;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return l6(t,r).unknown(n)},mo.apply(a,arguments),a}function c6(){var e=l6().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;s=(g-p)/Math.max(1,h-c+u*2),o&&(s=Math.floor(s)),p+=(g-p-s*(h-c))*d,i=s*(1-c),o&&(p=Math.round(p),i=Math.round(i));var x=A1e(h).map(function(v){return p+s*v});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return c6(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},mo.apply(f(),arguments)}function v$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return v$(t())},e}function _1e(){return v$(c6.apply(null,arguments).paddingInner(1))}function u6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function y$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function wx(){}var Cg=.7,vb=1/Cg,Qf="\\s*([+-]?\\d+)\\s*",Tg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E1e=/^#([0-9a-f]{3,8})$/,C1e=new RegExp(`^rgb\\(${Qf},${Qf},${Qf}\\)$`),T1e=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),P1e=new RegExp(`^rgba\\(${Qf},${Qf},${Qf},${Tg}\\)$`),O1e=new RegExp(`^rgba\\(${wl},${wl},${wl},${Tg}\\)$`),L1e=new RegExp(`^hsl\\(${Tg},${wl},${wl}\\)$`),F1e=new RegExp(`^hsla\\(${Tg},${wl},${wl},${Tg}\\)$`),K7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u6(wx,Pg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Y7,formatHex:Y7,formatHex8:D1e,formatHsl:I1e,formatRgb:X7,toString:X7});function Y7(){return this.rgb().formatHex()}function D1e(){return this.rgb().formatHex8()}function I1e(){return b$(this).formatHsl()}function X7(){return this.rgb().formatRgb()}function Pg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=E1e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Z7(t):r===3?new qs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=C1e.exec(e))?new qs(t[1],t[2],t[3],1):(t=T1e.exec(e))?new qs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=P1e.exec(e))?vv(t[1],t[2],t[3],t[4]):(t=O1e.exec(e))?vv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L1e.exec(e))?eO(t[1],t[2]/100,t[3]/100,1):(t=F1e.exec(e))?eO(t[1],t[2]/100,t[3]/100,t[4]):K7.hasOwnProperty(e)?Z7(K7[e]):e==="transparent"?new qs(NaN,NaN,NaN,0):null}function Z7(e){return new qs(e>>16&255,e>>8&255,e&255,1)}function vv(e,t,r,n){return n<=0&&(e=t=r=NaN),new qs(e,t,r,n)}function M1e(e){return e instanceof wx||(e=Pg(e)),e?(e=e.rgb(),new qs(e.r,e.g,e.b,e.opacity)):new qs}function OS(e,t,r,n){return arguments.length===1?M1e(e):new qs(e,t,r,n??1)}function qs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}u6(qs,OS,y$(wx,{brighter(e){return e=e==null?vb:Math.pow(vb,e),new qs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cg:Math.pow(Cg,e),new qs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qs(e0(this.r),e0(this.g),e0(this.b),yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J7,formatHex:J7,formatHex8:R1e,formatRgb:Q7,toString:Q7}));function J7(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}`}function R1e(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}${Dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q7(){const e=yb(this.opacity);return`${e===1?"rgb(":"rgba("}${e0(this.r)}, ${e0(this.g)}, ${e0(this.b)}${e===1?")":`, ${e})`}`}function yb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function e0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dd(e){return e=e0(e),(e<16?"0":"")+e.toString(16)}function eO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fo(e,t,r,n)}function b$(e){if(e instanceof Fo)return new Fo(e.h,e.s,e.l,e.opacity);if(e instanceof wx||(e=Pg(e)),!e)return new Fo;if(e instanceof Fo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,c=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=c<.5?s+a:2-s-a,i*=60):o=c>0&&c<1?0:i,new Fo(i,o,c,e.opacity)}function B1e(e,t,r,n){return arguments.length===1?b$(e):new Fo(e,t,r,n??1)}function Fo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}u6(Fo,B1e,y$(wx,{brighter(e){return e=e==null?vb:Math.pow(vb,e),new Fo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cg:Math.pow(Cg,e),new Fo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new qs(Uk(e>=240?e-240:e+120,a,n),Uk(e,a,n),Uk(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Fo(tO(this.h),yv(this.s),yv(this.l),yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yb(this.opacity);return`${e===1?"hsl(":"hsla("}${tO(this.h)}, ${yv(this.s)*100}%, ${yv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tO(e){return e=(e||0)%360,e<0?e+360:e}function yv(e){return Math.max(0,Math.min(1,e||0))}function Uk(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const d6=e=>()=>e;function z1e(e,t){return function(r){return e+r*t}}function U1e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $1e(e){return(e=+e)==1?w$:function(t,r){return r-t?U1e(t,r,e):d6(isNaN(t)?r:t)}}function w$(e,t){var r=t-e;return r?z1e(e,r):d6(isNaN(e)?t:e)}const rO=function e(t){var r=$1e(t);function n(a,s){var i=r((a=OS(a)).r,(s=OS(s)).r),o=r(a.g,s.g),c=r(a.b,s.b),u=w$(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function W1e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function H1e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V1e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=$h(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(o){for(i=0;i<n;++i)s[i]=a[i](o);return s}}function q1e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function bb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function G1e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=$h(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var LS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$k=new RegExp(LS.source,"g");function K1e(e){return function(){return e}}function Y1e(e){return function(t){return e(t)+""}}function X1e(e,t){var r=LS.lastIndex=$k.lastIndex=0,n,a,s,i=-1,o=[],c=[];for(e=e+"",t=t+"";(n=LS.exec(e))&&(a=$k.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,c.push({i,x:bb(n,a)})),r=$k.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?c[0]?Y1e(c[0].x):K1e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function $h(e,t){var r=typeof t,n;return t==null||r==="boolean"?d6(t):(r==="number"?bb:r==="string"?(n=Pg(t))?(t=n,rO):X1e:t instanceof Pg?rO:t instanceof Date?q1e:H1e(t)?W1e:Array.isArray(t)?V1e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?G1e:bb)(e,t)}function f6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Z1e(e,t){t===void 0&&(t=e,e=$h);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var o=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[o](i-o)}}function J1e(e){return function(){return e}}function wb(e){return+e}var nO=[0,1];function As(e){return e}function FS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:J1e(isNaN(t)?NaN:.5)}function Q1e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function eve(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=FS(a,n),s=r(i,s)):(n=FS(n,a),s=r(s,i)),function(o){return s(n(o))}}function tve(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=FS(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(o){var c=bx(e,o,1,n)-1;return s[c](a[c](o))}}function kx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nw(){var e=nO,t=nO,r=$h,n,a,s,i=As,o,c,u;function d(){var h=Math.min(e.length,t.length);return i!==As&&(i=Q1e(e[0],e[h-1])),o=h>2?tve:eve,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=o(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=o(t,e.map(n),bb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,wb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=f6,d()},f.clamp=function(h){return arguments.length?(i=h?!0:As,d()):i!==As},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function h6(){return nw()(As,As)}function rve(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bh(e){return e=kb(Math.abs(e)),e?e[1]:NaN}function nve(e,t){return function(r,n){for(var a=r.length,s=[],i=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[i=(i+1)%e.length];return s.reverse().join(t)}}function ave(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var sve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Og(e){if(!(t=sve.exec(e)))throw new Error("invalid format: "+e);var t;return new m6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Og.prototype=m6.prototype;function m6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}m6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ive(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var k$;function ove(e,t){var r=kb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(k$=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+kb(e,Math.max(0,t+s-1))[0]}function aO(e,t){var r=kb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const sO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rve,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aO(e*100,t),r:aO,s:ove,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iO(e){return e}var oO=Array.prototype.map,lO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lve(e){var t=e.grouping===void 0||e.thousands===void 0?iO:nve(oO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?iO:ave(oO.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Og(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,x=f.zero,v=f.width,y=f.comma,b=f.precision,N=f.trim,S=f.type;S==="n"?(y=!0,S="g"):sO[S]||(b===void 0&&(b=12),N=!0,S="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=g==="$"?n:/[%p]/.test(S)?i:"",C=sO[S],E=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function F(O){var T=A,H=j,K,se,M;if(S==="c")H=C(O)+H,O="";else{O=+O;var B=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),b),N&&(O=ive(O)),B&&+O==0&&p!=="+"&&(B=!1),T=(B?p==="("?p:o:p==="-"||p==="("?"":p)+T,H=(S==="s"?lO[8+k$/3]:"")+H+(B&&p==="("?")":""),E){for(K=-1,se=O.length;++K<se;)if(M=O.charCodeAt(K),48>M||M>57){H=(M===46?a+O.slice(K+1):O.slice(K))+H,O=O.slice(0,K);break}}}y&&!x&&(O=t(O,1/0));var Y=T.length+O.length+H.length,z=Y<v?new Array(v-Y+1).join(h):"";switch(y&&x&&(O=t(z+O,z.length?v-H.length:1/0),z=""),m){case"<":O=T+O+H+z;break;case"=":O=T+z+O+H;break;case"^":O=z.slice(0,Y=z.length>>1)+T+O+H+z.slice(Y);break;default:O=z+T+O+H;break}return s(O)}return F.toString=function(){return f+""},F}function d(f,h){var m=u((f=Og(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(bh(h)/3)))*3,g=Math.pow(10,-p),x=lO[8+p/3];return function(v){return m(g*v)+x}}return{format:u,formatPrefix:d}}var bv,p6,N$;cve({thousands:",",grouping:[3],currency:["$",""]});function cve(e){return bv=lve(e),p6=bv.format,N$=bv.formatPrefix,bv}function uve(e){return Math.max(0,-bh(Math.abs(e)))}function dve(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bh(t)/3)))*3-bh(Math.abs(e)))}function fve(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bh(t)-bh(e))+1}function S$(e,t,r,n){var a=TS(e,t,r),s;switch(n=Og(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=dve(a,i))&&(n.precision=s),N$(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=fve(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=uve(a))&&(n.precision=s-(n.type==="%")*2);break}}return p6(n)}function ad(e){var t=e.domain;return e.ticks=function(r){var n=t();return ES(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return S$(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],o=n[s],c,u,d=10;for(o<i&&(u=i,i=o,o=u,u=a,a=s,s=u);d-- >0;){if(u=CS(i,o,r),u===c)return n[a]=i,n[s]=o,t(n);if(u>0)i=Math.floor(i/u)*u,o=Math.ceil(o/u)*u;else if(u<0)i=Math.ceil(i*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function j$(){var e=h6();return e.copy=function(){return kx(e,j$())},mo.apply(e,arguments),ad(e)}function A$(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,wb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return A$(e).unknown(t)},e=arguments.length?Array.from(e,wb):[0,1],ad(r)}function _$(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function cO(e){return Math.log(e)}function uO(e){return Math.exp(e)}function hve(e){return-Math.log(-e)}function mve(e){return-Math.exp(-e)}function pve(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gve(e){return e===10?pve:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dO(e){return(t,r)=>-e(-t,r)}function g6(e){const t=e(cO,uO),r=t.domain;let n=10,a,s;function i(){return a=xve(n),s=gve(n),r()[0]<0?(a=dO(a),s=dO(s),e(hve,mve)):e(cO,uO),t}return t.base=function(o){return arguments.length?(n=+o,i()):n},t.domain=function(o){return arguments.length?(r(o),i()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,g;const x=o==null?10:+o;let v=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;v.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;v.push(g)}v.length*2<x&&(v=ES(u,d,x))}else v=ES(h,m,Math.min(m-h,x)).map(s);return f?v.reverse():v},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Og(c)).precision==null&&(c.trim=!0),c=p6(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(_$(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function E$(){const e=g6(nw()).domain([1,10]);return e.copy=()=>kx(e,E$()).base(e.base()),mo.apply(e,arguments),e}function fO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function x6(e){var t=1,r=e(fO(t),hO(t));return r.constant=function(n){return arguments.length?e(fO(t=+n),hO(t)):t},ad(r)}function C$(){var e=x6(nw());return e.copy=function(){return kx(e,C$()).constant(e.constant())},mo.apply(e,arguments)}function mO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yve(e){return e<0?-e*e:e*e}function v6(e){var t=e(As,As),r=1;function n(){return r===1?e(As,As):r===.5?e(vve,yve):e(mO(r),mO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ad(t)}function y6(){var e=v6(nw());return e.copy=function(){return kx(e,y6()).exponent(e.exponent())},mo.apply(e,arguments),e}function bve(){return y6.apply(null,arguments).exponent(.5)}function pO(e){return Math.sign(e)*e*e}function wve(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function T$(){var e=h6(),t=[0,1],r=!1,n;function a(s){var i=wve(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(pO(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,wb)).map(pO)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return T$(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},mo.apply(a,arguments),ad(a)}function P$(){var e=[],t=[],r=[],n;function a(){var i=0,o=Math.max(1,t.length);for(r=new Array(o-1);++i<o;)r[i-1]=j1e(e,i/o);return s}function s(i){return i==null||isNaN(i=+i)?n:t[bx(r,i)]}return s.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Pu),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return P$().domain(e).range(t).unknown(n)},mo.apply(s,arguments)}function O$(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[bx(n,c,0,r)]:s}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return O$().domain([e,t]).range(a).unknown(s)},mo.apply(ad(i),arguments)}function L$(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[bx(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return L$().domain(e).range(t).unknown(r)},mo.apply(a,arguments)}const Wk=new Date,Hk=new Date;function fa(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),o=a.ceil(s);return s-i<o-s?i:o},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,o)=>{const c=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<i)||!(o>0))return c;let u;do c.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<i);return c},a.filter=s=>fa(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!s(i););else for(;--o>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(Wk.setTime(+s),Hk.setTime(+i),e(Wk),e(Hk),Math.floor(r(Wk,Hk))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Nb=fa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Nb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Nb);Nb.range;const nc=1e3,to=nc*60,ac=to*60,yc=ac*24,b6=yc*7,gO=yc*30,Vk=yc*365,Id=fa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getUTCSeconds());Id.range;const w6=fa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nc)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getMinutes());w6.range;const k6=fa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getUTCMinutes());k6.range;const N6=fa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nc-e.getMinutes()*to)},(e,t)=>{e.setTime(+e+t*ac)},(e,t)=>(t-e)/ac,e=>e.getHours());N6.range;const S6=fa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ac)},(e,t)=>(t-e)/ac,e=>e.getUTCHours());S6.range;const Nx=fa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*to)/yc,e=>e.getDate()-1);Nx.range;const aw=fa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yc,e=>e.getUTCDate()-1);aw.range;const F$=fa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yc,e=>Math.floor(e/yc));F$.range;function F0(e){return fa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*to)/b6)}const sw=F0(0),Sb=F0(1),kve=F0(2),Nve=F0(3),wh=F0(4),Sve=F0(5),jve=F0(6);sw.range;Sb.range;kve.range;Nve.range;wh.range;Sve.range;jve.range;function D0(e){return fa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/b6)}const iw=D0(0),jb=D0(1),Ave=D0(2),_ve=D0(3),kh=D0(4),Eve=D0(5),Cve=D0(6);iw.range;jb.range;Ave.range;_ve.range;kh.range;Eve.range;Cve.range;const j6=fa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());j6.range;const A6=fa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());A6.range;const bc=fa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bc.range;const wc=fa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wc.range;function D$(e,t,r,n,a,s){const i=[[Id,1,nc],[Id,5,5*nc],[Id,15,15*nc],[Id,30,30*nc],[s,1,to],[s,5,5*to],[s,15,15*to],[s,30,30*to],[a,1,ac],[a,3,3*ac],[a,6,6*ac],[a,12,12*ac],[n,1,yc],[n,2,2*yc],[r,1,b6],[t,1,gO],[t,3,3*gO],[e,1,Vk]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=o6(([,,x])=>x).right(i,h);if(m===i.length)return e.every(TS(u/Vk,d/Vk,f));if(m===0)return Nb.every(Math.max(TS(u,d,f),1));const[p,g]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return p.every(g)}return[o,c]}const[Tve,Pve]=D$(wc,A6,iw,F$,S6,k6),[Ove,Lve]=D$(bc,j6,sw,Nx,N6,w6);function qk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Fve(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,c=e.shortMonths,u=Gm(a),d=Km(a),f=Gm(s),h=Km(s),m=Gm(i),p=Km(i),g=Gm(o),x=Km(o),v=Gm(c),y=Km(c),b={a:B,A:Y,b:z,B:Q,c:null,d:kO,e:kO,f:nye,g:hye,G:pye,H:eye,I:tye,j:rye,L:I$,m:aye,M:sye,p:de,q:L,Q:jO,s:AO,S:iye,u:oye,U:lye,V:cye,w:uye,W:dye,x:null,X:null,y:fye,Y:mye,Z:gye,"%":SO},N={a:R,A:U,b:I,B:X,c:null,d:NO,e:NO,f:bye,g:Tye,G:Oye,H:xye,I:vye,j:yye,L:R$,m:wye,M:kye,p:V,q:ee,Q:jO,s:AO,S:Nye,u:Sye,U:jye,V:Aye,w:_ye,W:Eye,x:null,X:null,y:Cye,Y:Pye,Z:Lye,"%":SO},S={a:F,A:O,b:T,B:H,c:K,d:bO,e:bO,f:Xve,g:yO,G:vO,H:wO,I:wO,j:qve,L:Yve,m:Vve,M:Gve,p:E,q:Hve,Q:Jve,s:Qve,S:Kve,u:Bve,U:zve,V:Uve,w:Rve,W:$ve,x:se,X:M,y:yO,Y:vO,Z:Wve,"%":Zve};b.x=A(r,b),b.X=A(n,b),b.c=A(t,b),N.x=A(r,N),N.X=A(n,N),N.c=A(t,N);function A(G,ue){return function(ve){var q=[],Me=-1,He=0,Ae=G.length,le,De,Je;for(ve instanceof Date||(ve=new Date(+ve));++Me<Ae;)G.charCodeAt(Me)===37&&(q.push(G.slice(He,Me)),(De=xO[le=G.charAt(++Me)])!=null?le=G.charAt(++Me):De=le==="e"?" ":"0",(Je=ue[le])&&(le=Je(ve,De)),q.push(le),He=Me+1);return q.push(G.slice(He,Me)),q.join("")}}function j(G,ue){return function(ve){var q=qm(1900,void 0,1),Me=C(q,G,ve+="",0),He,Ae;if(Me!=ve.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ue&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(He=Gk(qm(q.y,0,1)),Ae=He.getUTCDay(),He=Ae>4||Ae===0?jb.ceil(He):jb(He),He=aw.offset(He,(q.V-1)*7),q.y=He.getUTCFullYear(),q.m=He.getUTCMonth(),q.d=He.getUTCDate()+(q.w+6)%7):(He=qk(qm(q.y,0,1)),Ae=He.getDay(),He=Ae>4||Ae===0?Sb.ceil(He):Sb(He),He=Nx.offset(He,(q.V-1)*7),q.y=He.getFullYear(),q.m=He.getMonth(),q.d=He.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ae="Z"in q?Gk(qm(q.y,0,1)).getUTCDay():qk(qm(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ae+5)%7:q.w+q.U*7-(Ae+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Gk(q)):qk(q)}}function C(G,ue,ve,q){for(var Me=0,He=ue.length,Ae=ve.length,le,De;Me<He;){if(q>=Ae)return-1;if(le=ue.charCodeAt(Me++),le===37){if(le=ue.charAt(Me++),De=S[le in xO?ue.charAt(Me++):le],!De||(q=De(G,ve,q))<0)return-1}else if(le!=ve.charCodeAt(q++))return-1}return q}function E(G,ue,ve){var q=u.exec(ue.slice(ve));return q?(G.p=d.get(q[0].toLowerCase()),ve+q[0].length):-1}function F(G,ue,ve){var q=m.exec(ue.slice(ve));return q?(G.w=p.get(q[0].toLowerCase()),ve+q[0].length):-1}function O(G,ue,ve){var q=f.exec(ue.slice(ve));return q?(G.w=h.get(q[0].toLowerCase()),ve+q[0].length):-1}function T(G,ue,ve){var q=v.exec(ue.slice(ve));return q?(G.m=y.get(q[0].toLowerCase()),ve+q[0].length):-1}function H(G,ue,ve){var q=g.exec(ue.slice(ve));return q?(G.m=x.get(q[0].toLowerCase()),ve+q[0].length):-1}function K(G,ue,ve){return C(G,t,ue,ve)}function se(G,ue,ve){return C(G,r,ue,ve)}function M(G,ue,ve){return C(G,n,ue,ve)}function B(G){return i[G.getDay()]}function Y(G){return s[G.getDay()]}function z(G){return c[G.getMonth()]}function Q(G){return o[G.getMonth()]}function de(G){return a[+(G.getHours()>=12)]}function L(G){return 1+~~(G.getMonth()/3)}function R(G){return i[G.getUTCDay()]}function U(G){return s[G.getUTCDay()]}function I(G){return c[G.getUTCMonth()]}function X(G){return o[G.getUTCMonth()]}function V(G){return a[+(G.getUTCHours()>=12)]}function ee(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ue=A(G+="",b);return ue.toString=function(){return G},ue},parse:function(G){var ue=j(G+="",!1);return ue.toString=function(){return G},ue},utcFormat:function(G){var ue=A(G+="",N);return ue.toString=function(){return G},ue},utcParse:function(G){var ue=j(G+="",!0);return ue.toString=function(){return G},ue}}}var xO={"-":"",_:" ",0:"0"},Pa=/^\s*\d+/,Dve=/^%/,Ive=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Mve(e){return e.replace(Ive,"\\$&")}function Gm(e){return new RegExp("^(?:"+e.map(Mve).join("|")+")","i")}function Km(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Rve(e,t,r){var n=Pa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Bve(e,t,r){var n=Pa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zve(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Uve(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $ve(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function vO(e,t,r){var n=Pa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function yO(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Wve(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hve(e,t,r){var n=Pa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Vve(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function bO(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function qve(e,t,r){var n=Pa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function wO(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Gve(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Kve(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Yve(e,t,r){var n=Pa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Xve(e,t,r){var n=Pa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Zve(e,t,r){var n=Dve.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Jve(e,t,r){var n=Pa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Qve(e,t,r){var n=Pa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kO(e,t){return hr(e.getDate(),t,2)}function eye(e,t){return hr(e.getHours(),t,2)}function tye(e,t){return hr(e.getHours()%12||12,t,2)}function rye(e,t){return hr(1+Nx.count(bc(e),e),t,3)}function I$(e,t){return hr(e.getMilliseconds(),t,3)}function nye(e,t){return I$(e,t)+"000"}function aye(e,t){return hr(e.getMonth()+1,t,2)}function sye(e,t){return hr(e.getMinutes(),t,2)}function iye(e,t){return hr(e.getSeconds(),t,2)}function oye(e){var t=e.getDay();return t===0?7:t}function lye(e,t){return hr(sw.count(bc(e)-1,e),t,2)}function M$(e){var t=e.getDay();return t>=4||t===0?wh(e):wh.ceil(e)}function cye(e,t){return e=M$(e),hr(wh.count(bc(e),e)+(bc(e).getDay()===4),t,2)}function uye(e){return e.getDay()}function dye(e,t){return hr(Sb.count(bc(e)-1,e),t,2)}function fye(e,t){return hr(e.getFullYear()%100,t,2)}function hye(e,t){return e=M$(e),hr(e.getFullYear()%100,t,2)}function mye(e,t){return hr(e.getFullYear()%1e4,t,4)}function pye(e,t){var r=e.getDay();return e=r>=4||r===0?wh(e):wh.ceil(e),hr(e.getFullYear()%1e4,t,4)}function gye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function NO(e,t){return hr(e.getUTCDate(),t,2)}function xye(e,t){return hr(e.getUTCHours(),t,2)}function vye(e,t){return hr(e.getUTCHours()%12||12,t,2)}function yye(e,t){return hr(1+aw.count(wc(e),e),t,3)}function R$(e,t){return hr(e.getUTCMilliseconds(),t,3)}function bye(e,t){return R$(e,t)+"000"}function wye(e,t){return hr(e.getUTCMonth()+1,t,2)}function kye(e,t){return hr(e.getUTCMinutes(),t,2)}function Nye(e,t){return hr(e.getUTCSeconds(),t,2)}function Sye(e){var t=e.getUTCDay();return t===0?7:t}function jye(e,t){return hr(iw.count(wc(e)-1,e),t,2)}function B$(e){var t=e.getUTCDay();return t>=4||t===0?kh(e):kh.ceil(e)}function Aye(e,t){return e=B$(e),hr(kh.count(wc(e),e)+(wc(e).getUTCDay()===4),t,2)}function _ye(e){return e.getUTCDay()}function Eye(e,t){return hr(jb.count(wc(e)-1,e),t,2)}function Cye(e,t){return hr(e.getUTCFullYear()%100,t,2)}function Tye(e,t){return e=B$(e),hr(e.getUTCFullYear()%100,t,2)}function Pye(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function Oye(e,t){var r=e.getUTCDay();return e=r>=4||r===0?kh(e):kh.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function Lye(){return"+0000"}function SO(){return"%"}function jO(e){return+e}function AO(e){return Math.floor(+e/1e3)}var hf,z$,U$;Fye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fye(e){return hf=Fve(e),z$=hf.format,hf.parse,U$=hf.utcFormat,hf.utcParse,hf}function Dye(e){return new Date(e)}function Iye(e){return e instanceof Date?+e:+new Date(+e)}function _6(e,t,r,n,a,s,i,o,c,u){var d=h6(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),N=u("%Y");function S(A){return(c(A)<A?m:o(A)<A?p:i(A)<A?g:s(A)<A?x:n(A)<A?a(A)<A?v:y:r(A)<A?b:N)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?h(Array.from(A,Iye)):h().map(Dye)},d.ticks=function(A){var j=h();return e(j[0],j[j.length-1],A??10)},d.tickFormat=function(A,j){return j==null?S:u(j)},d.nice=function(A){var j=h();return(!A||typeof A.range!="function")&&(A=t(j[0],j[j.length-1],A??10)),A?h(_$(j,A)):d},d.copy=function(){return kx(d,_6(e,t,r,n,a,s,i,o,c,u))},d}function Mye(){return mo.apply(_6(Ove,Lve,bc,j6,sw,Nx,N6,w6,Id,z$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rye(){return mo.apply(_6(Tve,Pve,wc,A6,iw,aw,S6,k6,Id,U$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ow(){var e=0,t=1,r,n,a,s,i=As,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,i=f(m,p),u):[i(0),i(1)]}}return u.range=d($h),u.rangeRound=d(f6),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function sd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $$(){var e=ad(ow()(As));return e.copy=function(){return sd(e,$$())},Fc.apply(e,arguments)}function W$(){var e=g6(ow()).domain([1,10]);return e.copy=function(){return sd(e,W$()).base(e.base())},Fc.apply(e,arguments)}function H$(){var e=x6(ow());return e.copy=function(){return sd(e,H$()).constant(e.constant())},Fc.apply(e,arguments)}function E6(){var e=v6(ow());return e.copy=function(){return sd(e,E6()).exponent(e.exponent())},Fc.apply(e,arguments)}function Bye(){return E6.apply(null,arguments).exponent(.5)}function V$(){var e=[],t=As;function r(n){if(n!=null&&!isNaN(n=+n))return t((bx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Pu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>S1e(e,s/n))},r.copy=function(){return V$(t).domain(e)},Fc.apply(r,arguments)}function lw(){var e=0,t=.5,r=1,n=1,a,s,i,o,c,u=As,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?o:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),i=d(r=+r),o=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(x){var v,y,b;return arguments.length?([v,y,b]=x,u=Z1e(g,[v,y,b]),m):[u(0),u(.5),u(1)]}}return m.range=p($h),m.rangeRound=p(f6),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),s=g(t),i=g(r),o=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function q$(){var e=ad(lw()(As));return e.copy=function(){return sd(e,q$())},Fc.apply(e,arguments)}function G$(){var e=g6(lw()).domain([.1,1,10]);return e.copy=function(){return sd(e,G$()).base(e.base())},Fc.apply(e,arguments)}function K$(){var e=x6(lw());return e.copy=function(){return sd(e,K$()).constant(e.constant())},Fc.apply(e,arguments)}function C6(){var e=v6(lw());return e.copy=function(){return sd(e,C6()).exponent(e.exponent())},Fc.apply(e,arguments)}function zye(){return C6.apply(null,arguments).exponent(.5)}const sp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:c6,scaleDiverging:q$,scaleDivergingLog:G$,scaleDivergingPow:C6,scaleDivergingSqrt:zye,scaleDivergingSymlog:K$,scaleIdentity:A$,scaleImplicit:PS,scaleLinear:j$,scaleLog:E$,scaleOrdinal:l6,scalePoint:_1e,scalePow:y6,scaleQuantile:P$,scaleQuantize:O$,scaleRadial:T$,scaleSequential:$$,scaleSequentialLog:W$,scaleSequentialPow:E6,scaleSequentialQuantile:V$,scaleSequentialSqrt:Bye,scaleSequentialSymlog:H$,scaleSqrt:bve,scaleSymlog:C$,scaleThreshold:L$,scaleTime:Mye,scaleUtc:Rye,tickFormat:S$},Symbol.toStringTag,{value:"Module"}));var Dc=e=>e.chartData,cw=Fe([Dc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),T6=(e,t,r,n)=>n?cw(e):Dc(e),Uye=(e,t,r)=>r?cw(e):Dc(e);function $u(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(fn(t)&&fn(r))return!0}return!1}function _O(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Y$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(fn(r))a=r;else if(typeof r=="function")return;if(fn(n))s=n;else if(typeof n=="function")return;var i=[a,s];if($u(i))return i}}function $ye(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($u(n))return _O(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,o;if(a==="auto")t!=null&&(i=Math.min(...t));else if(kt(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&q8.test(a)){var c=q8.exec(a);if(c==null||c[1]==null||t==null)i=void 0;else{var u=+c[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(kt(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&G8.test(s)){var d=G8.exec(s);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[i,o];if($u(h))return t==null?h:_O(h,t,r)}}}var Wh=1e9,Wye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O6,en=!0,fo="[DecimalError] ",t0=fo+"Invalid argument: ",P6=fo+"Exponent out of range: ",Hh=Math.floor,jd=Math.pow,Hye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xi,Na=1e7,Vr=7,X$=9007199254740991,Ab=Hh(X$/Vr),yt={};yt.absoluteValue=yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};yt.comparedTo=yt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Vr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};yt.dividedBy=yt.div=function(e){return cc(this,new this.constructor(e))};yt.dividedToIntegerBy=yt.idiv=function(e){var t=this,r=t.constructor;return Dr(cc(t,new r(e),0,1),r.precision)};yt.equals=yt.eq=function(e){return!this.cmp(e)};yt.exponent=function(){return Qn(this)};yt.greaterThan=yt.gt=function(e){return this.cmp(e)>0};yt.greaterThanOrEqualTo=yt.gte=function(e){return this.cmp(e)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(e){return this.cmp(e)<0};yt.lessThanOrEqualTo=yt.lte=function(e){return this.cmp(e)<1};yt.logarithm=yt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(xi))throw Error(fo+"NaN");if(r.s<1)throw Error(fo+(r.s?"NaN":"-Infinity"));return r.eq(xi)?new n(0):(en=!1,t=cc(Lg(r,s),Lg(e,s),s),en=!0,Dr(t,a))};yt.minus=yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q$(t,e):Z$(t,(e.s=-e.s,e))};yt.modulo=yt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(fo+"NaN");return r.s?(en=!1,t=cc(r,e,0,1).times(e),en=!0,r.minus(t)):Dr(new n(r),a)};yt.naturalExponential=yt.exp=function(){return J$(this)};yt.naturalLogarithm=yt.ln=function(){return Lg(this)};yt.negated=yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};yt.plus=yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Z$(t,e):Q$(t,(e.s=-e.s,e))};yt.precision=yt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(t0+e);if(t=Qn(a)+1,n=a.d.length-1,r=n*Vr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};yt.squareRoot=yt.sqrt=function(){var e,t,r,n,a,s,i,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(fo+"NaN")}for(e=Qn(o),en=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=gl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Hh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(cc(o,s,i+2)).times(.5),gl(s.d).slice(0,i)===(t=gl(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Dr(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;i+=4}return en=!0,Dr(n,r)};yt.times=yt.mul=function(e){var t,r,n,a,s,i,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=s[a]+m[n]*h[a-n-1]+t,s[a--]=o%Na|0,t=o/Na|0;s[a]=(s[a]+t)%Na|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,en?Dr(e,f.precision):e};yt.toDecimalPlaces=yt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Cl(e,0,Wh),t===void 0?t=n.rounding:Cl(t,0,8),Dr(r,e+Qn(r)+1,t))};yt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=w0(n,!0):(Cl(e,0,Wh),t===void 0?t=a.rounding:Cl(t,0,8),n=Dr(new a(n),e+1,t),r=w0(n,!0,e+1)),r};yt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?w0(a):(Cl(e,0,Wh),t===void 0?t=s.rounding:Cl(t,0,8),n=Dr(new s(a),e+Qn(a)+1,t),r=w0(n.abs(),!1,e+Qn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};yt.toInteger=yt.toint=function(){var e=this,t=e.constructor;return Dr(new t(e),Qn(e)+1,t.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(e){var t,r,n,a,s,i,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(xi);if(o=new c(o),!o.s){if(e.s<1)throw Error(fo+"Infinity");return o}if(o.eq(xi))return o;if(n=c.precision,e.eq(xi))return Dr(o,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=o.s,i){if((r=d<0?-d:d)<=X$){for(a=new c(xi),t=Math.ceil(n/Vr+4),en=!1;r%2&&(a=a.times(o),CO(a.d,t)),r=Hh(r/2),r!==0;)o=o.times(o),CO(o.d,t);return en=!0,e.s<0?new c(xi).div(a):Dr(a,n)}}else if(s<0)throw Error(fo+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,en=!1,a=e.times(Lg(o,n+u)),en=!0,a=J$(a),a.s=s,a};yt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Qn(a),n=w0(a,r<=s.toExpNeg||r>=s.toExpPos)):(Cl(e,1,Wh),t===void 0?t=s.rounding:Cl(t,0,8),a=Dr(new s(a),e,t),r=Qn(a),n=w0(a,e<=r||r<=s.toExpNeg,e)),n};yt.toSignificantDigits=yt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Cl(e,1,Wh),t===void 0?t=n.rounding:Cl(t,0,8)),Dr(new n(r),e,t)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qn(e),r=e.constructor;return w0(e,t<=r.toExpNeg||t>=r.toExpPos)};function Z$(e,t){var r,n,a,s,i,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),en?Dr(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,o=u.length):(n=u,a=i,o=c.length),i=Math.ceil(f/Vr),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Na|0,c[s]%=Na;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,en?Dr(t,f):t}function Cl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(t0+e)}function gl(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Vr-n.length,r&&(s+=iu(r)),s+=n;i=e[t],n=i+"",r=Vr-n.length,r&&(s+=iu(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var cc=function(){function e(n,a){var s,i=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+i,n[o]=s%Na|0,i=s/Na|0;return i&&n.unshift(i),n}function t(n,a,s,i){var o,c;if(s!=i)c=s>i?1:-1;else for(o=c=0;o<s;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Na+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var o,c,u,d,f,h,m,p,g,x,v,y,b,N,S,A,j,C,E=n.constructor,F=n.s==a.s?1:-1,O=n.d,T=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(fo+"Division by zero");for(c=n.e-a.e,j=T.length,S=O.length,m=new E(F),p=m.d=[],u=0;T[u]==(O[u]||0);)++u;if(T[u]>(O[u]||0)&&--c,s==null?y=s=E.precision:i?y=s+(Qn(n)-Qn(a))+1:y=s,y<0)return new E(0);if(y=y/Vr+2|0,u=0,j==1)for(d=0,T=T[0],y++;(u<S||d)&&y--;u++)b=d*Na+(O[u]||0),p[u]=b/T|0,d=b%T|0;else{for(d=Na/(T[0]+1)|0,d>1&&(T=e(T,d),O=e(O,d),j=T.length,S=O.length),N=j,g=O.slice(0,j),x=g.length;x<j;)g[x++]=0;C=T.slice(),C.unshift(0),A=T[0],T[1]>=Na/2&&++A;do d=0,o=t(T,g,j,x),o<0?(v=g[0],j!=x&&(v=v*Na+(g[1]||0)),d=v/A|0,d>1?(d>=Na&&(d=Na-1),f=e(T,d),h=f.length,x=g.length,o=t(f,g,h,x),o==1&&(d--,r(f,j<h?C:T,h))):(d==0&&(o=d=1),f=T.slice()),h=f.length,h<x&&f.unshift(0),r(g,f,x),o==-1&&(x=g.length,o=t(T,g,j,x),o<1&&(d++,r(g,j<x?C:T,x))),x=g.length):o===0&&(d++,g=[0]),p[u++]=d,o&&g[0]?g[x++]=O[N]||0:(g=[O[N]],x=1);while((N++<S||g[0]!==void 0)&&y--)}return p[0]||p.shift(),m.e=c,Dr(m,i?s+Qn(m)+1:s)}}();function J$(e,t){var r,n,a,s,i,o,c=0,u=0,d=e.constructor,f=d.precision;if(Qn(e)>16)throw Error(P6+Qn(e));if(!e.s)return new d(xi);for(en=!1,o=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(jd(2,u))/Math.LN10*2+5|0,o+=n,r=a=s=new d(xi),d.precision=o;;){if(a=Dr(a.times(e),o),r=r.times(++c),i=s.plus(cc(a,r,o)),gl(i.d).slice(0,o)===gl(s.d).slice(0,o)){for(;u--;)s=Dr(s.times(s),o);return d.precision=f,t==null?(en=!0,Dr(s,f)):s}s=i}}function Qn(e){for(var t=e.e*Vr,r=e.d[0];r>=10;r/=10)t++;return t}function Kk(e,t,r){if(t>e.LN10.sd())throw en=!0,r&&(e.precision=r),Error(fo+"LN10 precision limit exceeded");return Dr(new e(e.LN10),t)}function iu(e){for(var t="";e--;)t+="0";return t}function Lg(e,t){var r,n,a,s,i,o,c,u,d,f=1,h=10,m=e,p=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(fo+(m.s?"NaN":"-Infinity"));if(m.eq(xi))return new g(0);if(t==null?(en=!1,u=x):u=t,m.eq(10))return t==null&&(en=!0),Kk(g,u);if(u+=h,g.precision=u,r=gl(p),n=r.charAt(0),s=Qn(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=gl(m.d),n=r.charAt(0),f++;s=Qn(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=Kk(g,u+2,x).times(s+""),m=Lg(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=x,t==null?(en=!0,Dr(m,x)):m;for(o=i=m=cc(m.minus(xi),m.plus(xi),u),d=Dr(m.times(m),u),a=3;;){if(i=Dr(i.times(d),u),c=o.plus(cc(i,new g(a),u)),gl(c.d).slice(0,u)===gl(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(Kk(g,u+2,x).times(s+""))),o=cc(o,new g(f),u),g.precision=x,t==null?(en=!0,Dr(o,x)):o;o=c,a+=2}}function EO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Hh(r/Vr),e.d=[],n=(r+1)%Vr,r<0&&(n+=Vr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Vr;n<a;)e.d.push(+t.slice(n,n+=Vr));t=t.slice(n),n=Vr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),en&&(e.e>Ab||e.e<-Ab))throw Error(P6+r)}else e.s=0,e.e=0,e.d=[0];return e}function Dr(e,t,r){var n,a,s,i,o,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Vr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Vr),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Vr,a=n-Vr+i}if(r!==void 0&&(s=jd(10,i-a-1),o=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/jd(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Qn(e),f.length=1,t=t-s-1,f[0]=jd(10,(Vr-t%Vr)%Vr),e.e=Hh(-t/Vr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=jd(10,Vr-n),f[d]=a>0?(u/jd(10,i-a)%jd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Na&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Na)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(en&&(e.e>Ab||e.e<-Ab))throw Error(P6+Qn(e));return e}function Q$(e,t){var r,n,a,s,i,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),en?Dr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(m/Vr),o)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Na-1;--c[s],c[a]+=Na}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,en?Dr(t,m):t):new h(0)}function w0(e,t,r){var n,a=Qn(e),s=gl(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+iu(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+iu(-a-1)+s,r&&(n=r-i)>0&&(s+=iu(n))):a>=i?(s+=iu(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+iu(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=iu(n))),e.s<0?"-"+s:s}function CO(e,t){if(e.length>t)return e.length=t,!0}function eW(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(t0+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return EO(i,s.toString())}else if(typeof s!="string")throw Error(t0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,Hye.test(s))EO(i,s);else throw Error(t0+s)}if(a.prototype=yt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=eW,a.config=a.set=Vye,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Vye(e){if(!e||typeof e!="object")throw Error(fo+"Object expected");var t,r,n,a=["precision",1,Wh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Hh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(t0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(t0+r+": "+n);return this}var O6=eW(Wye);xi=new O6(1);const jr=O6;var qye=e=>e,tW={},rW=e=>e===tW,TO=e=>function t(){return arguments.length===0||arguments.length===1&&rW(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},nW=(e,t)=>e===1?t:TO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==tW).length;return s>=e?t(...n):nW(e-s,TO(function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];var u=n.map(d=>rW(d)?o.shift():d);return t(...u,...o)}))}),Gye=e=>nW(e.length,e),DS=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Kye=Gye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Yye=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return qye;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((o,c)=>c(o),s(...arguments))}};function aW(e){var t;return e===0?t=1:t=Math.floor(new jr(e).abs().log(10).toNumber())+1,t}function sW(e,t,r){for(var n=new jr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var iW=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},oW=(e,t,r)=>{if(e.lte(0))return new jr(0);var n=aW(e.toNumber()),a=new jr(10).pow(n),s=e.div(a),i=n!==1?.05:.1,o=new jr(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=o.mul(a);return t?new jr(c.toNumber()):new jr(Math.ceil(c.toNumber()))},Xye=(e,t,r)=>{var n=new jr(1),a=new jr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new jr(10).pow(aW(e)-1),a=new jr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new jr(Math.floor(e)))}else e===0?a=new jr(Math.floor((t-1)/2)):r||(a=new jr(Math.floor(e)));var i=Math.floor((t-1)/2),o=Yye(Kye(c=>a.add(new jr(c-i).mul(n)).toNumber()),DS);return o(0,t)},lW=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new jr(0),tickMin:new jr(0),tickMax:new jr(0)};var i=oW(new jr(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new jr(0):(o=new jr(t).add(r).div(2),o=o.sub(new jr(o).mod(i)));var c=Math.ceil(o.sub(t).div(i).toNumber()),u=Math.ceil(new jr(r).sub(o).div(i).toNumber()),d=c+u+1;return d>n?lW(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:o.sub(new jr(c).mul(i)),tickMax:o.add(new jr(u).mul(i))})},Zye=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,c]=iW([r,n]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...DS(0,a-1).map(()=>1/0)]:[...DS(0,a-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(o===c)return Xye(o,a,s);var{step:d,tickMin:f,tickMax:h}=lW(o,c,i,s,0),m=sW(f,h.add(new jr(.1).mul(d)),d);return r>n?m.reverse():m},Jye=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=iW([n,a]);if(i===-1/0||o===1/0)return[n,a];if(i===o)return[i];var c=Math.max(r,2),u=oW(new jr(o).sub(i).div(c-1),s,0),d=[...sW(new jr(i),new jr(o),u),o];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},cW=e=>e.rootProps.maxBarSize,Qye=e=>e.rootProps.barGap,uW=e=>e.rootProps.barCategoryGap,ebe=e=>e.rootProps.barSize,Sx=e=>e.rootProps.stackOffset,dW=e=>e.rootProps.reverseStackOrder,L6=e=>e.options.chartName,F6=e=>e.rootProps.syncId,fW=e=>e.rootProps.syncMethod,D6=e=>e.options.eventEmitter,Jn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Jl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},fi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},uw=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},tbe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Jl.angleAxisId,includeHidden:!1,name:void 0,reversed:Jl.reversed,scale:Jl.scale,tick:Jl.tick,tickCount:void 0,ticks:void 0,type:Jl.type,unit:void 0},rbe={allowDataOverflow:fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:fi.tickCount,ticks:void 0,type:fi.type,unit:void 0},nbe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Jl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jl.scale,tick:Jl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},abe={allowDataOverflow:fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:fi.tickCount,ticks:void 0,type:"category",unit:void 0},I6=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?nbe:tbe,M6=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?abe:rbe,dw=e=>e.polarOptions,R6=Fe([Oc,Lc,da],o$),hW=Fe([dw,R6],(e,t)=>{if(e!=null)return ds(e.innerRadius,t,0)}),mW=Fe([dw,R6],(e,t)=>{if(e!=null)return ds(e.outerRadius,t,t*.8)}),sbe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},pW=Fe([dw],sbe);Fe([I6,pW],uw);var gW=Fe([R6,hW,mW],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Fe([M6,gW],uw);var xW=Fe([ir,dw,hW,mW,Oc,Lc],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:o,startAngle:c,endAngle:u}=t;return{cx:ds(i,a,a/2),cy:ds(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),nn=(e,t)=>t,jx=(e,t,r)=>r;function B6(e){return e==null?void 0:e.id}function vW(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=B6(o);u.forEach((f,h)=>{var m=s==null||a?h:String(Or(f,s,null)),p=Or(f,o.dataKey,0),g;i.has(m)?g=i.get(m):g={},Object.assign(g,{[d]:p}),i.set(m,g)})}}),Array.from(i.values())}function fw(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var hw=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function mw(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function ibe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ha=e=>{var t=ir(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vh=e=>e.tooltip.settings.axisId;function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){obe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function obe(e,t,r){return(t=lbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lbe(e){var t=cbe(e,"string");return typeof t=="symbol"?t:t+""}function cbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IS=[0,"auto"],ba={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},yW=(e,t)=>e.cartesianAxis.xAxis[t],Ic=(e,t)=>{var r=yW(e,t);return r??ba},wa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:IS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gx},bW=(e,t)=>e.cartesianAxis.yAxis[t],Mc=(e,t)=>{var r=bW(e,t);return r??wa},ube={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},z6=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??ube},hn=(e,t,r)=>{switch(t){case"xAxis":return Ic(e,r);case"yAxis":return Mc(e,r);case"zAxis":return z6(e,r);case"angleAxis":return I6(e,r);case"radiusAxis":return M6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},dbe=(e,t,r)=>{switch(t){case"xAxis":return Ic(e,r);case"yAxis":return Mc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ax=(e,t,r)=>{switch(t){case"xAxis":return Ic(e,r);case"yAxis":return Mc(e,r);case"angleAxis":return I6(e,r);case"radiusAxis":return M6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wW=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function U6(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var pw=e=>e.graphicalItems.cartesianItems,fbe=Fe([nn,jx],U6),$6=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),_x=Fe([pw,hn,fbe],$6,{memoizeOptions:{resultEqualityCheck:mw}}),kW=Fe([_x],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(fw)),NW=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),hbe=Fe([_x],NW),W6=e=>e.map(t=>t.data).filter(Boolean).flat(1),mbe=Fe([_x],W6,{memoizeOptions:{resultEqualityCheck:mw}}),H6=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},V6=Fe([mbe,T6],H6),q6=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Or(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Or(a,n)}))):e.map(n=>({value:n})),gw=Fe([V6,hn,_x],q6);function SW(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Zv(e){if(_l(e)||e instanceof Date){var t=Number(e);if(fn(t))return t}}function OO(e){if(Array.isArray(e)){var t=[Zv(e[0]),Zv(e[1])];return $u(t)?t:void 0}var r=Zv(e);if(r!=null)return[r,r]}function kc(e){return e.map(Zv).filter(jhe)}function pbe(e,t,r){return!r||typeof t!="number"||Ho(t)?[]:r.length?kc(r.flatMap(n=>{var a=Or(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!fn(s)||!fn(i)))return[t-s,t+i]})):[]}var ma=e=>{var t=ha(e),r=Vh(e);return Ax(e,t,r)},Ex=Fe([ma],e=>e==null?void 0:e.dataKey),gbe=Fe([kW,T6,ma],vW),jW=(e,t,r,n)=>{var a={},s=t.reduce((i,o)=>{if(o.stackId==null)return i;var c=i[o.stackId];return c==null&&(c=[]),c.push(o),i[o.stackId]=c,i},a);return Object.fromEntries(Object.entries(s).map(i=>{var[o,c]=i,u=n?[...c].reverse():c,d=u.map(B6);return[o,{stackedData:$pe(e,d,r),graphicalItems:u}]}))},MS=Fe([gbe,kW,Sx,dW],jW),AW=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=Gpe(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},xbe=Fe([hn],e=>e.allowDataOverflow),G6=e=>{var t;if(e==null||!("domain"in e))return IS;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=kc(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:IS},K6=Fe([hn],G6),Y6=Fe([K6,xbe],Y$),vbe=Fe([MS,Dc,nn,Y6],AW,{memoizeOptions:{resultEqualityCheck:hw}}),xw=e=>e.errorBars,ybe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>SW(r,n)),Eb=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),o=Math.max(...s);return[i,o]}},X6=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(v=>SW(a,v)),h=Or(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=pbe(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(s==null||p<s)&&(s=p),(i==null||g>i)&&(i=g)}var x=OO(h);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),i=i==null?x[1]:Math.max(i,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=OO(Or(o,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),i=i==null?c[1]:Math.max(i,c[1]))}),fn(s)&&fn(i))return[s,i]},bbe=Fe([V6,hn,hbe,xw,nn],X6,{memoizeOptions:{resultEqualityCheck:hw}});function wbe(e){var{value:t}=e;if(_l(t)||t instanceof Date)return t}var kbe=(e,t,r)=>{var n=e.map(wbe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&wz(n))?m$(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},_W=e=>e.referenceElements.dots,qh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Nbe=Fe([_W,nn,jx],qh),EW=e=>e.referenceElements.areas,Sbe=Fe([EW,nn,jx],qh),CW=e=>e.referenceElements.lines,jbe=Fe([CW,nn,jx],qh),TW=(e,t)=>{if(e!=null){var r=kc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Abe=Fe(Nbe,nn,TW),PW=(e,t)=>{if(e!=null){var r=kc(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},_be=Fe([Sbe,nn],PW);function Ebe(e){var t;if(e.x!=null)return kc([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:kc(r)}function Cbe(e){var t;if(e.y!=null)return kc([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:kc(r)}var OW=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Ebe(n):Cbe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Tbe=Fe([jbe,nn],OW),Pbe=Fe(Abe,Tbe,_be,(e,t,r)=>Eb(e,r,t)),Z6=(e,t,r,n,a,s,i,o)=>{if(r!=null)return r;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=c?Eb(n,s,a):Eb(s,a);return $ye(t,u,e.allowDataOverflow)},Obe=Fe([hn,K6,Y6,vbe,bbe,Pbe,ir,nn],Z6,{memoizeOptions:{resultEqualityCheck:hw}}),Lbe=[0,1],J6=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:o,type:c}=e,u=nd(t,s);if(u&&o==null){var d;return m$(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?kbe(n,e,u):a==="expand"?Lbe:i}},Q6=Fe([hn,ir,V6,gw,Sx,nn,Obe],J6),LW=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(ux(s));return o in sp?o:"point"}}},Gh=Fe([hn,ir,wW,L6,nn],LW);function Fbe(e){if(e!=null){if(e in sp)return sp[e]();var t="scale".concat(ux(e));if(t in sp)return sp[t]()}}function e_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Fbe(t);if(a!=null){var s=a.domain(r).range(n);return Mpe(s),s}}}var t_=(e,t,r)=>{var n=G6(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$u(e))return Zye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$u(e))return Jye(e,t.tickCount,t.allowDecimals)}},r_=Fe([Q6,Ax,Gh],t_),n_=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$u(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},Dbe=Fe([hn,Q6,r_,nn],n_),Ibe=Fe(gw,hn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(kc(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var i=s-a;if(i===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o],u=n[o+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/i}}),FW=Fe(Ibe,ir,uW,da,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!fn(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=ds(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),Mbe=(e,t,r)=>{var n=Ic(e,t);return n==null||typeof n.padding!="string"?0:FW(e,"xAxis",t,r,n.padding)},Rbe=(e,t,r)=>{var n=Mc(e,t);return n==null||typeof n.padding!="string"?0:FW(e,"yAxis",t,r,n.padding)},Bbe=Fe(Ic,Mbe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),zbe=Fe(Mc,Rbe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Ube=Fe([da,Bbe,X2,Y2,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),$be=Fe([da,ir,zbe,X2,Y2,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Cx=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Ube(e,r,n);case"yAxis":return $be(e,r,n);case"zAxis":return(a=z6(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return pW(e);case"radiusAxis":return gW(e,r);default:return}},DW=Fe([hn,Cx],uw),vw=Fe([hn,Gh,Dbe,DW],e_);Fe([_x,xw,nn],ybe);function IW(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yw=(e,t)=>t,bw=(e,t,r)=>r,Wbe=Fe(G2,yw,bw,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IW)),Hbe=Fe(K2,yw,bw,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IW)),MW=(e,t)=>({width:e.width,height:t.height}),Vbe=(e,t)=>{var r=typeof t.width=="number"?t.width:gx;return{width:r,height:e.height}},RW=Fe(da,Ic,MW),qbe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Gbe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Kbe=Fe(Lc,da,Wbe,yw,bw,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var c=MW(t,o);i==null&&(i=qbe(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[o.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),Ybe=Fe(Oc,da,Hbe,yw,bw,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var c=Vbe(t,o);i==null&&(i=Gbe(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[o.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),Xbe=(e,t)=>{var r=Ic(e,t);if(r!=null)return Kbe(e,r.orientation,r.mirror)},Zbe=Fe([da,Ic,Xbe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Jbe=(e,t)=>{var r=Mc(e,t);if(r!=null)return Ybe(e,r.orientation,r.mirror)},Qbe=Fe([da,Mc,Jbe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),BW=Fe(da,Mc,(e,t)=>{var r=typeof t.width=="number"?t.width:gx;return{width:r,height:e.height}}),LO=(e,t,r)=>{switch(t){case"xAxis":return RW(e,r).width;case"yAxis":return BW(e,r).height;default:return}},zW=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=nd(e,n),c=t.map(u=>u.value);if(i&&o&&s==="category"&&a&&wz(c))return c}},a_=Fe([ir,gw,hn,nn],zW),UW=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=nd(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},s_=Fe([ir,gw,Ax,nn],UW),FO=Fe([ir,dbe,Gh,vw,a_,s_,Cx,r_,nn],(e,t,r,n,a,s,i,o,c)=>{if(t!=null){var u=nd(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:o,range:i,realScaleType:r,scale:n}}}),e2e=(e,t,r,n,a,s,i,o,c)=>{if(!(t==null||n==null)){var u=nd(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?_a(s[0]-s[1])*2*p:p;var g=f||a;if(g){var x=g.map((v,y)=>{var b=i?i.indexOf(v):v;return{index:y,coordinate:n(b)+p,value:v,offset:p}});return x.filter(v=>fn(v.coordinate))}return u&&o?o.map((v,y)=>({coordinate:n(v)+p,value:v,index:y,offset:p})).filter(v=>fn(v.coordinate)):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,y)=>({coordinate:n(v)+p,value:i?i[v]:v,index:y,offset:p}))}},$W=Fe([ir,Ax,Gh,vw,r_,Cx,a_,s_,nn],e2e),t2e=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=nd(e,i),{tickCount:c}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?_a(n[0]-n[1])*2*u:u,o&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Wu=Fe([ir,Ax,vw,Cx,a_,s_,nn],t2e),Hu=Fe(hn,vw,(e,t)=>{if(!(e==null||t==null))return _b(_b({},e),{},{scale:t})}),r2e=Fe([hn,Gh,Q6,DW],e_);Fe((e,t,r)=>z6(e,r),r2e,(e,t)=>{if(!(e==null||t==null))return _b(_b({},e),{},{scale:t})});var n2e=Fe([ir,G2,K2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),WW=e=>e.options.defaultTooltipEventType,HW=e=>e.options.validateTooltipEventTypes;function VW(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function i_(e,t){var r=WW(e),n=HW(e);return VW(t,r,n)}function a2e(e){return Nt(t=>i_(t,e))}var qW=(e,t)=>{var r,n=Number(t);if(!(Ho(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},s2e=e=>e.tooltip.settings,du={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},i2e={itemInteraction:{click:du,hover:du},axisInteraction:{click:du,hover:du},keyboardInteraction:du,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},GW=ai({name:"tooltip",initialState:i2e,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=$o(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Zr()},removeTooltipEntrySettings:{reducer(e,t){var r=$o(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Zr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:o2e,replaceTooltipEntrySettings:l2e,removeTooltipEntrySettings:c2e,setTooltipSettingsState:u2e,setActiveMouseOverItemIndex:KW,mouseLeaveItem:d2e,mouseLeaveChart:YW,setActiveClickItemIndex:f2e,setMouseOverAxisIndex:XW,setMouseClickAxisIndex:h2e,setSyncInteraction:RS,setKeyboardInteraction:BS}=GW.actions,m2e=GW.reducer;function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){p2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p2e(e,t,r){return(t=g2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g2e(e){var t=x2e(e,"string");return typeof t=="symbol"?t:t+""}function x2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v2e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function y2e(e){return e.index!=null}var ZW=(e,t,r,n)=>{if(t==null)return du;var a=v2e(e,t,r);if(a==null)return du;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(y2e(a)){if(s)return wv(wv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return wv(wv({},du),{},{coordinate:a.coordinate})};function b2e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function w2e(e,t){var r=b2e(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function k2e(e,t,r){if(r==null||t==null)return!0;var n=Or(e,t);return n==null||!$u(r)?!0:w2e(n,r)}var o_=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!fn(s))return a;var i=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(i,Math.min(s,o)),u=t[c];return u==null||k2e(u,r,n)?String(c):null},JW=(e,t,r,n,a,s,i,o)=>{if(!(s==null||o==null)){var c=i[0],u=c==null?void 0:o(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},QW=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.graphicalItemId)===a})},Tx=e=>e.options.tooltipPayloadSearcher,Kh=e=>e.tooltip;function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){N2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N2e(e,t,r){return(t=S2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S2e(e){var t=j2e(e,"string");return typeof t=="symbol"?t:t+""}function j2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A2e(e,t){return e??t}var eH=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:x}=m,v=A2e(g,o),y=Array.isArray(v)?TU(v,u,d):v,b=(p=x==null?void 0:x.dataKey)!==null&&p!==void 0?p:n,N=x==null?void 0:x.nameKey,S;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&i==="axis"?S=kz(y,n,a):S=s(y,t,c,N),Array.isArray(S))S.forEach(j=>{var C=MO(MO({},x),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(K8({tooltipEntrySettings:C,dataKey:j.dataKey,payload:j.payload,value:Or(j.payload,j.dataKey),name:j.name}))});else{var A;h.push(K8({tooltipEntrySettings:x,dataKey:b,payload:S,value:Or(S,b),name:(A=Or(S,N))!==null&&A!==void 0?A:x==null?void 0:x.name}))}return h},f)}},l_=Fe([ma,ir,wW,L6,ha],LW),_2e=Fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),E2e=Fe([ha,Vh],U6),Yh=Fe([_2e,ma,E2e],$6,{memoizeOptions:{resultEqualityCheck:mw}}),C2e=Fe([Yh],e=>e.filter(fw)),T2e=Fe([Yh],W6,{memoizeOptions:{resultEqualityCheck:mw}}),Xh=Fe([T2e,Dc],H6),P2e=Fe([C2e,Dc,ma],vW),c_=Fe([Xh,ma,Yh],q6),tH=Fe([ma],G6),O2e=Fe([ma],e=>e.allowDataOverflow),rH=Fe([tH,O2e],Y$),L2e=Fe([Yh],e=>e.filter(fw)),F2e=Fe([P2e,L2e,Sx,dW],jW),D2e=Fe([F2e,Dc,ha,rH],AW),I2e=Fe([Yh],NW),M2e=Fe([Xh,ma,I2e,xw,ha],X6,{memoizeOptions:{resultEqualityCheck:hw}}),R2e=Fe([_W,ha,Vh],qh),B2e=Fe([R2e,ha],TW),z2e=Fe([EW,ha,Vh],qh),U2e=Fe([z2e,ha],PW),$2e=Fe([CW,ha,Vh],qh),W2e=Fe([$2e,ha],OW),H2e=Fe([B2e,W2e,U2e],Eb),V2e=Fe([ma,tH,rH,D2e,M2e,H2e,ir,ha],Z6),Px=Fe([ma,ir,Xh,c_,Sx,ha,V2e],J6),q2e=Fe([Px,ma,l_],t_),G2e=Fe([ma,Px,q2e,ha],n_),nH=e=>{var t=ha(e),r=Vh(e),n=!1;return Cx(e,t,r,n)},aH=Fe([ma,nH],uw),sH=Fe([ma,l_,G2e,aH],e_),K2e=Fe([ir,c_,ma,ha],zW),Y2e=Fe([ir,c_,ma,ha],UW),X2e=(e,t,r,n,a,s,i,o)=>{if(t){var{type:c}=t,u=nd(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?_a(a[0]-a[1])*2*f:f,u&&i?i.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},Rc=Fe([ir,ma,l_,sH,nH,K2e,Y2e,ha],X2e),u_=Fe([WW,HW,s2e],(e,t,r)=>VW(r.shared,e,t)),iH=e=>e.tooltip.settings.trigger,d_=e=>e.tooltip.settings.defaultIndex,Ox=Fe([Kh,u_,iH,d_],ZW),Vu=Fe([Ox,Xh,Ex,Px],o_),oH=Fe([Rc,Vu],qW),f_=Fe([Ox],e=>{if(e)return e.dataKey}),Z2e=Fe([Ox],e=>{if(e)return e.graphicalItemId}),lH=Fe([Kh,u_,iH,d_],QW),J2e=Fe([Oc,Lc,ir,da,Rc,d_,lH,Tx],JW),Q2e=Fe([Ox,J2e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ewe=Fe([Ox],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),twe=Fe([lH,Vu,Dc,Ex,oH,Tx,u_],eH),rwe=Fe([twe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){nwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nwe(e,t,r){return(t=awe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function awe(e){var t=swe(e,"string");return typeof t=="symbol"?t:t+""}function swe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iwe=()=>Nt(ma),owe=()=>{var e=iwe(),t=Nt(Rc),r=Nt(sH);return xh(!e||!r?void 0:BO(BO({},e),{},{scale:r}),t)};function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){lwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lwe(e,t,r){return(t=cwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cwe(e){var t=uwe(e,"string");return typeof t=="symbol"?t:t+""}function uwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dwe=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},fwe=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return mf(mf(mf({},n),Zn(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:c}=n;return mf(mf(mf({},n),Zn(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function hwe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var cH=(e,t,r,n,a)=>{var s,i=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(i<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var o=0;o<i;o++){var c,u,d,f,h,m=o>0?(c=r[o-1])===null||c===void 0?void 0:c.coordinate:(u=r[i-1])===null||u===void 0?void 0:u.coordinate,p=(d=r[o])===null||d===void 0?void 0:d.coordinate,g=o>=i-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[o+1])===null||h===void 0?void 0:h.coordinate,x=void 0;if(!(m==null||p==null||g==null))if(_a(p-m)!==_a(g-p)){var v=[];if(_a(g-p)===_a(a[1]-a[0])){x=g;var y=p+a[1]-a[0];v[0]=Math.min(y,(y+m)/2),v[1]=Math.max(y,(y+m)/2)}else{x=m;var b=g+a[1]-a[0];v[0]=Math.min(p,(b+p)/2),v[1]=Math.max(p,(b+p)/2)}var N=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>N[0]&&e<=N[1]||e>=v[0]&&e<=v[1]){var S;return(S=r[o])===null||S===void 0?void 0:S.index}}else{var A=Math.min(m,g),j=Math.max(m,g);if(e>(A+p)/2&&e<=(j+p)/2){var C;return(C=r[o])===null||C===void 0?void 0:C.index}}}else if(t)for(var E=0;E<i;E++){var F=t[E];if(F!=null){var O=t[E+1],T=t[E-1];if(E===0&&O!=null&&e<=(F.coordinate+O.coordinate)/2||E===i-1&&T!=null&&e>(F.coordinate+T.coordinate)/2||E>0&&E<i-1&&T!=null&&O!=null&&e>(F.coordinate+T.coordinate)/2&&e<=(F.coordinate+O.coordinate)/2)return F.index}}return-1},mwe=()=>Nt(L6),h_=(e,t)=>t,uH=(e,t,r)=>r,m_=(e,t,r,n)=>n,pwe=Fe(Rc,e=>R2(e,t=>t.coordinate)),p_=Fe([Kh,h_,uH,m_],ZW),g_=Fe([p_,Xh,Ex,Px],o_),gwe=(e,t,r)=>{if(t!=null){var n=Kh(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},dH=Fe([Kh,h_,uH,m_],QW),Cb=Fe([Oc,Lc,ir,da,Rc,m_,dH,Tx],JW),xwe=Fe([p_,Cb],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),fH=Fe([Rc,g_],qW),vwe=Fe([dH,g_,Dc,Ex,fH,Tx,h_],eH),ywe=Fe([p_,g_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),bwe=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&hwe(e,i)){var o=Kpe(e,t),c=cH(o,s,a,r,n),u=dwe(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},wwe=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var o=o1e(e,r);if(o){var c=Ype(o,t),u=cH(c,i,s,n,a),d=fwe(t,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},kwe=(e,t,r,n,a,s,i,o)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?bwe(e,t,n,a,s,i,o):wwe(e,t,r,n,a,s,i)},Nwe=Fe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Swe=Fe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Jn)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:ibe}});function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){jwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jwe(e,t,r){return(t=Awe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Awe(e){var t=_we(e,"string");return typeof t=="symbol"?t:t+""}function _we(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ewe={},Cwe={zIndexMap:Object.values(Jn).reduce((e,t)=>$O($O({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Ewe)},Twe=new Set(Object.values(Jn));function Pwe(e){return Twe.has(e)}var hH=ai({name:"zIndex",initialState:Cwe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Pwe(r)&&delete e.zIndexMap[r])},prepare:Zr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Zr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Zr()}}}),{registerZIndexPortal:Owe,unregisterZIndexPortal:Lwe,registerZIndexPortalElement:Fwe,unregisterZIndexPortalElement:Dwe}=hH.actions,Iwe=hH.reducer;function si(e){var{zIndex:t,children:r}=e,n=kge(),a=n&&t!==void 0&&t!==0,s=gs(),i=Ur();k.useLayoutEffect(()=>a?(i(Owe({zIndex:t})),()=>{i(Lwe({zIndex:t}))}):dx,[i,t,a]);var o=Nt(c=>Nwe(c,t,s));return a?o?c2.createPortal(r,o):null:r}function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zS.apply(null,arguments)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){Mwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mwe(e,t,r){return(t=Rwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rwe(e){var t=Bwe(e,"string");return typeof t=="symbol"?t:t+""}function Bwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zwe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return k.isValidElement(t)?k.cloneElement(t,n):k.createElement(r,n)}function Uwe(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,g,x;if(d==="ScatterChart")p=f,g=wxe,x=Jn.cursorLine;else if(d==="BarChart")p=kxe(o,f,s,i),g=i$,x=Jn.cursorRectangle;else if(o==="radial"&&Sz(f)){var{cx:v,cy:y,radius:b,startAngle:N,endAngle:S}=l$(f);p={cx:v,cy:y,startAngle:N,endAngle:S,innerRadius:b,outerRadius:b},g=u$,x=Jn.cursorLine}else p={points:d1e(o,f,s)},g=i6,x=Jn.cursorLine;var A=typeof c=="object"&&"className"in c?c.className:void 0,j=kv(kv(kv(kv({stroke:"#ccc",pointerEvents:"none"},s),p),g0(c)),{},{payload:h,payloadIndex:m,className:fr("recharts-tooltip-cursor",A)});return k.createElement(si,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},k.createElement(zwe,{cursor:c,cursorComp:g,cursorProps:j}))}function $we(e){var t=owe(),r=WU(),n=Uh(),a=mwe();return t==null||r==null||n==null||a==null?null:k.createElement(Uwe,zS({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var mH=k.createContext(null),Wwe=()=>k.useContext(mH),pH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,y,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,p),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];x.fn.apply(x.context,y)}else{var N=x.length,S;for(b=0;b<N;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),v){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!y)for(S=1,y=new Array(v-1);S<v;S++)y[S-1]=arguments[S];x[b].fn.apply(x[b].context,y)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&i(this,m);else{for(var g=0,x=[],v=p.length;g<v;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&x.push(p[g]);x.length?this._events[m]=x.length===1?x[0]:x:i(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(pH);var Hwe=pH.exports;const Vwe=Tl(Hwe);var Fg=new Vwe,US="recharts.syncEvent.tooltip",HO="recharts.syncEvent.brush";function x_(e,t){if(t){var r=Number.parseInt(t,10);if(!Ho(r))return e==null?void 0:e[r]}}var qwe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},gH=ai({name:"options",initialState:qwe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Gwe=gH.reducer,{createEventEmitter:Kwe}=gH.actions;function Ywe(e){return e.tooltip.syncInteraction}var Xwe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xH=ai({name:"chartData",initialState:Xwe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:VO,setDataStartEndIndexes:Zwe,setComputedData:u7e}=xH.actions,Jwe=xH.reducer,Qwe=["x","y"];function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){e5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e5e(e,t,r){return(t=t5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t5e(e){var t=r5e(e,"string");return typeof t=="symbol"?t:t+""}function r5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n5e(e,t){if(e==null)return{};var r,n,a=a5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function a5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function s5e(){var e=Nt(F6),t=Nt(D6),r=Ur(),n=Nt(fW),a=Nt(Rc),s=Uh(),i=Z2(),o=Nt(c=>c.rootProps.className);k.useEffect(()=>{if(e==null)return dx;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(i&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,x=n5e(m,Qwe),{x:v,y,width:b,height:N}=d.payload.sourceViewBox,S=pf(pf({},x),{},{x:i.x+(b?(p-v)/b:0)*i.width,y:i.y+(N?(g-y)/N:0)*i.height});r(pf(pf({},d),{},{payload:pf(pf({},d.payload),{},{coordinate:S})}))}else r(d);return}if(a!=null){var A;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},C=n(a,j);A=a[C]}else n==="value"&&(A=a.find(M=>String(M.value)===d.payload.label));var{coordinate:E}=d.payload;if(A==null||d.payload.active===!1||E==null||i==null){r(RS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:O}=E,T=Math.min(F,i.x+i.width),H=Math.min(O,i.y+i.height),K={x:s==="horizontal"?A.coordinate:T,y:s==="horizontal"?H:A.coordinate},se=RS({active:d.payload.active,coordinate:K,dataKey:d.payload.dataKey,index:String(A.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(se)}}};return Fg.on(US,c),()=>{Fg.off(US,c)}},[o,r,t,e,n,a,s,i])}function i5e(){var e=Nt(F6),t=Nt(D6),r=Ur();k.useEffect(()=>{if(e==null)return dx;var n=(a,s,i)=>{t!==i&&e===a&&r(Zwe(s))};return Fg.on(HO,n),()=>{Fg.off(HO,n)}},[r,t,e])}function o5e(){var e=Ur();k.useEffect(()=>{e(Kwe())},[e]),s5e(),i5e()}function l5e(e,t,r,n,a,s){var i=Nt(m=>gwe(m,e,t)),o=Nt(D6),c=Nt(F6),u=Nt(fW),d=Nt(Ywe),f=d==null?void 0:d.active,h=Z2();k.useEffect(()=>{if(!f&&c!=null&&o!=null){var m=RS({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Fg.emit(US,c,m,o)}},[f,r,i,a,n,o,c,u,s,h])}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){c5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c5e(e,t,r){return(t=u5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u5e(e){var t=d5e(e,"string");return typeof t=="symbol"?t:t+""}function d5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f5e(e){return e.dataKey}function h5e(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(exe,t)}var YO=[],m5e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $S(e){var t,r,n=ta(e,m5e),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:x,cursor:v,shared:y,trigger:b,defaultIndex:N,portal:S,axisId:A}=n,j=Ur(),C=typeof N=="number"?String(N):N;k.useEffect(()=>{j(u2e({shared:y,trigger:b,axisId:A,active:a,defaultIndex:C}))},[j,y,b,A,a,C]);var E=Z2(),F=t$(),O=a2e(y),{activeIndex:T,isActive:H}=(t=Nt(V=>ywe(V,O,b,C)))!==null&&t!==void 0?t:{},K=Nt(V=>vwe(V,O,b,C)),se=Nt(V=>fH(V,O,b,C)),M=Nt(V=>xwe(V,O,b,C)),B=K,Y=Wwe(),z=(r=a??H)!==null&&r!==void 0?r:!1,[Q,de]=eU([B,z]),L=O==="axis"?se:void 0;l5e(O,b,M,L,T,z);var R=S??Y;if(R==null||E==null||O==null)return null;var U=B??YO;z||(U=YO),u&&U.length&&(U=$z(U.filter(V=>V.value!=null&&(V.hide!==!0||n.includeHidden)),h,f5e));var I=U.length>0,X=k.createElement(oxe,{allowEscapeViewBox:s,animationDuration:i,animationEasing:o,isAnimationActive:d,active:z,coordinate:M,hasPayload:I,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:E,wrapperStyle:x,lastBoundingBox:Q,innerRef:de,hasPortalFromProps:!!S},h5e(c,KO(KO({},n),{},{payload:U,label:L,active:z,activeIndex:T,coordinate:M,accessibilityLayer:F})));return k.createElement(k.Fragment,null,c2.createPortal(X,R),z&&k.createElement($we,{cursor:v,tooltipEventType:O,coordinate:M,payload:U,index:T}))}var Lx=e=>null;Lx.displayName="Cell";function p5e(e,t,r){return(t=g5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g5e(e){var t=x5e(e,"string");return typeof t=="symbol"?t:t+""}function x5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class v5e{constructor(t){p5e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){b5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b5e(e,t,r){return(t=w5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w5e(e){var t=k5e(e,"string");return typeof t=="symbol"?t:t+""}function k5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N5e={cacheSize:2e3,enableCache:!0},vH=y5e({},N5e),ZO=new v5e(vH.cacheSize),S5e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JO="recharts_measurement_span";function j5e(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}var QO=(e,t)=>{try{var r=document.getElementById(JO);r||(r=document.createElement("span"),r.setAttribute("id",JO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,S5e,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Tp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rw.isSsr)return{width:0,height:0};if(!vH.enableCache)return QO(t,r);var n=j5e(t,r),a=ZO.get(n);if(a)return a;var s=QO(t,r);return ZO.set(n,s),s},yH;function A5e(e,t,r){return(t=_5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _5e(e){var t=E5e(e,"string");return typeof t=="symbol"?t:t+""}function E5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,C5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,T5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,P5e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},O5e=["cm","mm","pt","pc","in","Q","px"];function L5e(e){return O5e.includes(e)}var Df="NaN";function F5e(e,t){return e*P5e[t]}class Ra{static parse(t){var r,[,n,a]=(r=T5e.exec(t))!==null&&r!==void 0?r:[];return n==null?Ra.NaN:new Ra(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ho(t)&&(this.unit=""),r!==""&&!C5e.test(r)&&(this.num=NaN,this.unit=""),L5e(r)&&(this.num=F5e(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ra(NaN,""):new Ra(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ra(NaN,""):new Ra(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ra(NaN,""):new Ra(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ra(NaN,""):new Ra(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ho(this.num)}}yH=Ra;A5e(Ra,"NaN",new yH(NaN,""));function bH(e){if(e==null||e.includes(Df))return Df;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=eL.exec(t))!==null&&r!==void 0?r:[],i=Ra.parse(n??""),o=Ra.parse(s??""),c=a==="*"?i.multiply(o):i.divide(o);if(c.isNaN())return Df;t=t.replace(eL,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=tL.exec(t))!==null&&u!==void 0?u:[],m=Ra.parse(d??""),p=Ra.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return Df;t=t.replace(tL,g.toString())}return t}var rL=/\(([^()]*)\)/;function D5e(e){for(var t=e,r;(r=rL.exec(t))!=null;){var[,n]=r;t=t.replace(rL,bH(n))}return t}function I5e(e){var t=e.replace(/\s+/g,"");return t=D5e(t),t=bH(t),t}function M5e(e){try{return I5e(e)}catch{return Df}}function Yk(e){var t=M5e(e.slice(5,-1));return t===Df?"":t}var R5e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],B5e=["dx","dy","angle","className","breakAll"];function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WS.apply(null,arguments)}function nL(e,t){if(e==null)return{};var r,n,a=z5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wH=/[ \f\n\r\t\v\u2028\u2029]+/,kH=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];rn(t)||(r?a=t.toString().split(""):a=t.toString().split(wH));var s=a.map(o=>({word:o,width:Tp(o,n).width})),i=r?0:Tp("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function U5e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var NH=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:o}=s,c=a[a.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(i),c.width+=o+r;else{var u={words:[i],width:o};a.push(u)}return a},[]),SH=e=>e.reduce((t,r)=>t.width>r.width?t:r),$5e="",aL=(e,t,r,n,a,s,i,o)=>{var c=e.slice(0,t),u=kH({breakAll:r,style:n,children:c+$5e});if(!u)return[!1,[]];var d=NH(u.wordsWithComputedWidth,s,i,o),f=d.length>a||SH(d).width>Number(s);return[f,d]},W5e=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:c}=e,u=kt(s),d=String(i),f=NH(t,n,r,a);if(!u||a)return f;var h=f.length>s||SH(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,g=0,x;m<=p&&g<=d.length-1;){var v=Math.floor((m+p)/2),y=v-1,[b,N]=aL(d,y,c,o,s,n,r,a),[S]=aL(d,v,c,o,s,n,r,a);if(!b&&!S&&(m=v+1),b&&S&&(p=v-1),!b&&S){x=N;break}g++}return x||f},sL=e=>{var t=rn(e)?[]:e.toString().split(wH);return[{words:t,width:void 0}]},H5e=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!rw.isSsr){var o,c,u=kH({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return sL(n);return W5e({breakAll:s,children:n,maxLines:i,style:a},o,c,t,!!r)}return sL(n)},jH="#808080",V5e={angle:0,breakAll:!1,capHeight:"0.71em",fill:jH,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ww=k.forwardRef((e,t)=>{var r=ta(e,V5e),{x:n,y:a,lineHeight:s,capHeight:i,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=nL(r,R5e),h=k.useMemo(()=>H5e({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:g,className:x,breakAll:v}=f,y=nL(f,B5e);if(!_l(n)||!_l(a)||h.length===0)return null;var b=Number(n)+(kt(m)?m:0),N=Number(a)+(kt(p)?p:0);if(!fn(b)||!fn(N))return null;var S;switch(d){case"start":S=Yk("calc(".concat(i,")"));break;case"middle":S=Yk("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:S=Yk("calc(".concat(h.length-1," * -").concat(s,")"));break}var A=[];if(c){var j=h[0].width,{width:C}=f;A.push("scale(".concat(kt(C)&&kt(j)?C/j:1,")"))}return g&&A.push("rotate(".concat(g,", ").concat(b,", ").concat(N,")")),A.length&&(y.transform=A.join(" ")),k.createElement("text",WS({},Os(y),{ref:t,x:b,y:N,className:fr("recharts-text",x),textAnchor:u,fill:o.includes("url")?jH:o}),h.map((E,F)=>{var O=E.words.join(v?"":" ");return k.createElement("tspan",{x:b,dy:F===0?S:s,key:"".concat(O,"-").concat(F)},O)}))});ww.displayName="Text";var q5e=["labelRef"],G5e=["content"];function iL(e,t){if(e==null)return{};var r,n,a=K5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function K5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(r),!0).forEach(function(n){Y5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y5e(e,t,r){return(t=X5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X5e(e){var t=Z5e(e,"string");return typeof t=="symbol"?t:t+""}function Z5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(null,arguments)}var AH=k.createContext(null),J5e=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:o}=e,c=k.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return k.createElement(AH.Provider,{value:c},o)},_H=()=>{var e=k.useContext(AH),t=Z2();return e||$U(t)},Q5e=k.createContext(null),eke=()=>{var e=k.useContext(Q5e),t=Nt(xW);return e||t},tke=e=>{var{value:t,formatter:r}=e,n=rn(e.children)?t:e.children;return typeof r=="function"?r(n):n},v_=e=>e!=null&&typeof e=="function",rke=(e,t)=>{var r=_a(t-e),n=Math.min(Math.abs(t-e),360);return r*n},nke=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,g=rke(f,h),x=g>=0?1:-1,v,y;switch(t){case"insideStart":v=f+x*s,y=m;break;case"insideEnd":v=h-x*s,y=!m;break;case"end":v=h+x*s,y=m;break;default:throw new Error("Unsupported position ".concat(t))}y=g<=0?y:!y;var b=Zn(o,c,p,v),N=Zn(o,c,p,v+(y?1:-1)*359),S="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(y?0:1,`,
    `).concat(N.x,",").concat(N.y),A=rn(e.id)?wg("recharts-radial-line-"):e.id;return k.createElement("text",Ql({},n,{dominantBaseline:"central",className:fr("recharts-radial-bar-label",i)}),k.createElement("defs",null,k.createElement("path",{id:A,d:S})),k.createElement("textPath",{xlinkHref:"#".concat(A)},r))},ake=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=Zn(n,a,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:m,y:p}=Zn(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},HS=e=>"cx"in e&&kt(e.cx),ske=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!HS(r)&&(s=r);var{x:i,y:o,upperWidth:c,lowerWidth:u,height:d}=t,f=i,h=i+(c-u)/2,m=(f+h)/2,p=(c+u)/2,g=f+c/2,x=d>=0?1:-1,v=x*n,y=x>0?"end":"start",b=x>0?"start":"end",N=c>=0?1:-1,S=N*n,A=N>0?"end":"start",j=N>0?"start":"end";if(a==="top"){var C={x:f+c/2,y:o-v,textAnchor:"middle",verticalAnchor:y};return Tn(Tn({},C),s?{height:Math.max(o-s.y,0),width:c}:{})}if(a==="bottom"){var E={x:h+u/2,y:o+d+v,textAnchor:"middle",verticalAnchor:b};return Tn(Tn({},E),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(a==="left"){var F={x:m-S,y:o+d/2,textAnchor:A,verticalAnchor:"middle"};return Tn(Tn({},F),s?{width:Math.max(F.x-s.x,0),height:d}:{})}if(a==="right"){var O={x:m+p+S,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return Tn(Tn({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:d}:{})}var T=s?{width:p,height:d}:{};return a==="insideLeft"?Tn({x:m+S,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},T):a==="insideRight"?Tn({x:m+p-S,y:o+d/2,textAnchor:A,verticalAnchor:"middle"},T):a==="insideTop"?Tn({x:f+c/2,y:o+v,textAnchor:"middle",verticalAnchor:b},T):a==="insideBottom"?Tn({x:h+u/2,y:o+d-v,textAnchor:"middle",verticalAnchor:y},T):a==="insideTopLeft"?Tn({x:f+S,y:o+v,textAnchor:j,verticalAnchor:b},T):a==="insideTopRight"?Tn({x:f+c-S,y:o+v,textAnchor:A,verticalAnchor:b},T):a==="insideBottomLeft"?Tn({x:h+S,y:o+d-v,textAnchor:j,verticalAnchor:y},T):a==="insideBottomRight"?Tn({x:h+u-S,y:o+d-v,textAnchor:A,verticalAnchor:y},T):a&&typeof a=="object"&&(kt(a.x)||xc(a.x))&&(kt(a.y)||xc(a.y))?Tn({x:i+ds(a.x,p),y:o+ds(a.y,d),textAnchor:"end",verticalAnchor:"end"},T):Tn({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},ike={angle:0,offset:5,zIndex:Jn.label,position:"middle",textBreakAll:!1};function ou(e){var t=ta(e,ike),{viewBox:r,position:n,value:a,children:s,content:i,className:o="",textBreakAll:c,labelRef:u}=t,d=eke(),f=_H(),h=n==="center"?f:d??f,m,p,g;if(r==null?m=h:HS(r)?m=r:m=$U(r),!m||rn(a)&&rn(s)&&!k.isValidElement(i)&&typeof i!="function")return null;var x=Tn(Tn({},t),{},{viewBox:m});if(k.isValidElement(i)){var{labelRef:v}=x,y=iL(x,q5e);return k.cloneElement(i,y)}if(typeof i=="function"){var{content:b}=x,N=iL(x,G5e);if(p=k.createElement(i,N),k.isValidElement(p))return p}else p=tke(t);var S=Os(t);if(HS(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return nke(t,n,p,S,m);g=ake(m,t.offset,t.position)}else g=ske(t,m);return k.createElement(si,{zIndex:t.zIndex},k.createElement(ww,Ql({ref:u,className:fr("recharts-label",o)},S,g,{textAnchor:U5e(S.textAnchor)?S.textAnchor:g.textAnchor,breakAll:c}),p))}ou.displayName="Label";var oke=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?k.createElement(ou,Ql({key:"label-implicit"},n)):_l(e)?k.createElement(ou,Ql({key:"label-implicit",value:e},n)):k.isValidElement(e)?e.type===ou?k.cloneElement(e,Tn({key:"label-implicit"},n)):k.createElement(ou,Ql({key:"label-implicit",content:e},n)):v_(e)?k.createElement(ou,Ql({key:"label-implicit",content:e},n)):e&&typeof e=="object"?k.createElement(ou,Ql({},e,{key:"label-implicit"},n)):null};function lke(e){var{label:t,labelRef:r}=e,n=_H();return oke(t,n,r)||null}var EH={},CH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(CH);var TH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(TH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CH,r=TH,n=I2;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(EH);var cke=EH.last;const uke=Tl(cke);var dke=["valueAccessor"],fke=["dataKey","clockWise","id","textBreakAll","zIndex"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(null,arguments)}function lL(e,t){if(e==null)return{};var r,n,a=hke(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mke=e=>Array.isArray(e.value)?uke(e.value):e.value,PH=k.createContext(void 0),OH=PH.Provider,LH=k.createContext(void 0),pke=LH.Provider;function gke(){return k.useContext(PH)}function xke(){return k.useContext(LH)}function Jv(e){var{valueAccessor:t=mke}=e,r=lL(e,dke),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:o}=r,c=lL(r,fke),u=gke(),d=xke(),f=u||d;return!f||!f.length?null:k.createElement(si,{zIndex:o??Jn.label},k.createElement(Ta,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=rn(n)?t(h,m):Or(h&&h.payload,n),x=rn(s)?{}:{id:"".concat(s,"-").concat(m)};return k.createElement(ou,Tb({key:"label-".concat(m)},Os(h),c,x,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:i,viewBox:h.viewBox,index:m,zIndex:0}))})))}Jv.displayName="LabelList";function y_(e){var{label:t}=e;return t?t===!0?k.createElement(Jv,{key:"labelList-implicit"}):k.isValidElement(t)||v_(t)?k.createElement(Jv,{key:"labelList-implicit",content:t}):typeof t=="object"?k.createElement(Jv,Tb({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(null,arguments)}var FH=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=fr("recharts-dot",a);return kt(t)&&kt(r)&&kt(n)?k.createElement("circle",VS({},_i(e),LA(e),{className:s,cx:t,cy:r,r:n})):null},DH=e=>e.graphicalItems.polarItems,vke=Fe([nn,jx],U6),kw=Fe([DH,hn,vke],$6),yke=Fe([kw],W6),Nw=Fe([yke,cw],H6),bke=Fe([Nw,hn,kw],q6);Fe([Nw,hn,kw],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=Or(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Or(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var cL=()=>{},wke=Fe([Nw,hn,kw,xw,nn],X6),kke=Fe([hn,K6,Y6,cL,wke,cL,ir,nn],Z6),IH=Fe([hn,ir,Nw,bke,Sx,nn,kke],J6),Nke=Fe([IH,hn,Gh],t_);Fe([hn,IH,Nke,nn],n_);var Ske={radiusAxis:{},angleAxis:{}},MH=ai({name:"polarAxis",initialState:Ske,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:d7e,removeRadiusAxis:f7e,addAngleAxis:h7e,removeAngleAxis:m7e}=MH.actions,jke=MH.reducer;function uL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(r),!0).forEach(function(n){Ake(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ake(e,t,r){return(t=_ke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ke(e){var t=Eke(e,"string");return typeof t=="symbol"?t:t+""}function Eke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cke=(e,t)=>t,b_=Fe([DH,Cke],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Tke=[],w_=(e,t,r)=>(r==null?void 0:r.length)===0?Tke:r,RH=Fe([cw,b_,w_],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>dL(dL({},t.presentationProps),s.props))),a!=null)return a}}),Pke=Fe([RH,b_,w_],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=Or(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:zh(i,t.dataKey),color:o,payload:n,type:t.legendType}})}),Oke=Fe([RH,b_,w_,da],(e,t,r,n)=>{if(!(t==null||e==null))return O4e({offset:n,pieSettings:t,displayedData:e,cells:r})}),BH={exports:{}},Ir={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_=Symbol.for("react.transitional.element"),N_=Symbol.for("react.portal"),Sw=Symbol.for("react.fragment"),jw=Symbol.for("react.strict_mode"),Aw=Symbol.for("react.profiler"),_w=Symbol.for("react.consumer"),Ew=Symbol.for("react.context"),Cw=Symbol.for("react.forward_ref"),Tw=Symbol.for("react.suspense"),Pw=Symbol.for("react.suspense_list"),Ow=Symbol.for("react.memo"),Lw=Symbol.for("react.lazy"),Lke=Symbol.for("react.view_transition"),Fke=Symbol.for("react.client.reference");function po(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case k_:switch(e=e.type,e){case Sw:case Aw:case jw:case Tw:case Pw:case Lke:return e;default:switch(e=e&&e.$$typeof,e){case Ew:case Cw:case Lw:case Ow:return e;case _w:return e;default:return t}}case N_:return t}}}Ir.ContextConsumer=_w;Ir.ContextProvider=Ew;Ir.Element=k_;Ir.ForwardRef=Cw;Ir.Fragment=Sw;Ir.Lazy=Lw;Ir.Memo=Ow;Ir.Portal=N_;Ir.Profiler=Aw;Ir.StrictMode=jw;Ir.Suspense=Tw;Ir.SuspenseList=Pw;Ir.isContextConsumer=function(e){return po(e)===_w};Ir.isContextProvider=function(e){return po(e)===Ew};Ir.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===k_};Ir.isForwardRef=function(e){return po(e)===Cw};Ir.isFragment=function(e){return po(e)===Sw};Ir.isLazy=function(e){return po(e)===Lw};Ir.isMemo=function(e){return po(e)===Ow};Ir.isPortal=function(e){return po(e)===N_};Ir.isProfiler=function(e){return po(e)===Aw};Ir.isStrictMode=function(e){return po(e)===jw};Ir.isSuspense=function(e){return po(e)===Tw};Ir.isSuspenseList=function(e){return po(e)===Pw};Ir.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sw||e===Aw||e===jw||e===Tw||e===Pw||typeof e=="object"&&e!==null&&(e.$$typeof===Lw||e.$$typeof===Ow||e.$$typeof===Ew||e.$$typeof===_w||e.$$typeof===Cw||e.$$typeof===Fke||e.getModuleId!==void 0)};Ir.typeOf=po;BH.exports=Ir;var Dke=BH.exports,fL=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",hL=null,Xk=null,zH=e=>{if(e===hL&&Array.isArray(Xk))return Xk;var t=[];return k.Children.forEach(e,r=>{rn(r)||(Dke.isFragment(r)?t=t.concat(zH(r.props.children)):t.push(r))}),Xk=t,hL=e,t};function S_(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>fL(a)):n=[fL(t)],zH(e).forEach(a=>{var s=v0(a,"type.displayName")||v0(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var UH=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,$H={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})($H);var Ike=$H.isPlainObject;const Mke=Tl(Ike);var mL,pL,gL,xL,vL;function yL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(r),!0).forEach(function(n){Rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rke(e,t,r){return(t=Bke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bke(e){var t=zke(e,"string");return typeof t=="symbol"?t:t+""}function zke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(null,arguments)}function Ym(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wL=(e,t,r,n,a)=>{var s=r-n,i;return i=xn(mL||(mL=Ym(["M ",",",""])),e,t),i+=xn(pL||(pL=Ym(["L ",",",""])),e+r,t),i+=xn(gL||(gL=Ym(["L ",",",""])),e+r-s/2,t+a),i+=xn(xL||(xL=Ym(["L ",",",""])),e+r-s/2-n,t+a),i+=xn(vL||(vL=Ym(["L ",","," Z"])),e,t),i},Uke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$ke=e=>{var t=ta(e,Uke),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=k.useRef(null),[m,p]=k.useState(-1),g=k.useRef(a),x=k.useRef(s),v=k.useRef(i),y=k.useRef(r),b=k.useRef(n),N=yx(e,"trapezoid-");if(k.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var K=h.current.getTotalLength();K&&p(K)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var S=fr("recharts-trapezoid",o);if(!f)return k.createElement("g",null,k.createElement("path",Pb({},Os(t),{className:S,d:wL(r,n,a,s,i)})));var A=g.current,j=x.current,C=v.current,E=y.current,F=b.current,O="0px ".concat(m===-1?1:m,"px"),T="".concat(m,"px 0px"),H=r$(["strokeDasharray"],u,c);return k.createElement(vx,{animationId:N,key:N,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},K=>{var se=Jr(A,a,K),M=Jr(j,s,K),B=Jr(C,i,K),Y=Jr(E,r,K),z=Jr(F,n,K);h.current&&(g.current=se,x.current=M,v.current=B,y.current=Y,b.current=z);var Q=K>0?{transition:H,strokeDasharray:T}:{strokeDasharray:O};return k.createElement("path",Pb({},Os(t),{className:S,d:wL(Y,z,se,M,B),ref:h,style:bL(bL({},Q),t.style)}))})},Wke=["option","shapeType","activeClassName"];function Hke(e,t){if(e==null)return{};var r,n,a=Vke(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(r),!0).forEach(function(n){qke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qke(e,t,r){return(t=Gke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gke(e){var t=Kke(e,"string");return typeof t=="symbol"?t:t+""}function Kke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yke(e,t){return Ob(Ob({},t),e)}function Xke(e,t){return e==="symbols"}function NL(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return k.createElement(i$,r);case"trapezoid":return k.createElement($ke,r);case"sector":return k.createElement(u$,r);case"symbols":if(Xke(t))return k.createElement(OA,r);break;case"curve":return k.createElement(i6,r);default:return null}}function Zke(e){return k.isValidElement(e)?e.props:e}function j_(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=Hke(e,Wke),s;if(k.isValidElement(t))s=k.cloneElement(t,Ob(Ob({},a),Zke(t)));else if(typeof t=="function")s=t(a,a.index);else if(Mke(t)&&typeof t!="boolean"){var i=Yke(t,a);s=k.createElement(NL,{shapeType:r,elementProps:i})}else{var o=a;s=k.createElement(NL,{shapeType:r,elementProps:o})}return a.isActive?k.createElement(Ta,{className:n},s):s}var A_=(e,t,r)=>{var n=Ur();return(a,s)=>i=>{e==null||e(a,s,i),n(KW({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},__=e=>{var t=Ur();return(r,n)=>a=>{e==null||e(r,n,a),t(d2e())}},E_=(e,t,r)=>{var n=Ur();return(a,s)=>i=>{e==null||e(a,s,i),n(f2e({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function C_(e){var{tooltipEntrySettings:t}=e,r=Ur(),n=gs(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(o2e(t)):a.current!==t&&r(l2e({prev:a.current,next:t})),a.current=t)},[t,r,n]),k.useLayoutEffect(()=>()=>{a.current&&(r(c2e(a.current)),a.current=null)},[r]),null}function WH(e){var{legendPayload:t}=e,r=Ur(),n=gs(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(ZU(t)):a.current!==t&&r(JU({prev:a.current,next:t})),a.current=t)},[r,n,t]),k.useLayoutEffect(()=>()=>{a.current&&(r(QU(a.current)),a.current=null)},[r]),null}function Jke(e){var{legendPayload:t}=e,r=Ur(),n=Nt(ir),a=k.useRef(null);return k.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(ZU(t)):a.current!==t&&r(JU({prev:a.current,next:t})),a.current=t)},[r,n,t]),k.useLayoutEffect(()=>()=>{a.current&&(r(QU(a.current)),a.current=null)},[r]),null}var Zk,Qke=()=>{var[e]=k.useState(()=>wg("uid-"));return e},e4e=(Zk=CD.useId)!==null&&Zk!==void 0?Zk:Qke;function t4e(e,t){var r=e4e();return t||(e?"".concat(e,"-").concat(r):r)}var r4e=k.createContext(void 0),T_=e=>{var{id:t,type:r,children:n}=e,a=t4e("recharts-".concat(r),t);return k.createElement(r4e.Provider,{value:a},n(a))},n4e={cartesianItems:[],polarItems:[]},HH=ai({name:"graphicalItems",initialState:n4e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=$o(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Zr()},removeCartesianGraphicalItem:{reducer(e,t){var r=$o(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Zr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zr()},removePolarGraphicalItem:{reducer(e,t){var r=$o(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Zr()}}}),{addCartesianGraphicalItem:a4e,replaceCartesianGraphicalItem:s4e,removeCartesianGraphicalItem:i4e,addPolarGraphicalItem:o4e,removePolarGraphicalItem:l4e}=HH.actions,c4e=HH.reducer,u4e=e=>{var t=Ur(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(a4e(e)):r.current!==e&&t(s4e({prev:r.current,next:e})),r.current=e},[t,e]),k.useLayoutEffect(()=>()=>{r.current&&(t(i4e(r.current)),r.current=null)},[t]),null},VH=k.memo(u4e);function d4e(e){var t=Ur();return k.useLayoutEffect(()=>(t(o4e(e)),()=>{t(l4e(e))}),[t,e]),null}var f4e=["key"],h4e=["onMouseEnter","onClick","onMouseLeave"],m4e=["id"],p4e=["id"];function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(n){g4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g4e(e,t,r){return(t=x4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x4e(e){var t=v4e(e,"string");return typeof t=="symbol"?t:t+""}function v4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(null,arguments)}function Fw(e,t){if(e==null)return{};var r,n,a=y4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b4e(e){var t=k.useMemo(()=>S_(e.children,Lx),[e.children]),r=Nt(n=>Pke(n,e.id,t));return r==null?null:k.createElement(Jke,{legendPayload:r})}var w4e=k.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:zh(o,t),hide:c,type:u,color:i,unit:"",graphicalItemId:d}};return k.createElement(C_,{tooltipEntrySettings:f})}),k4e=(e,t)=>e>t?"start":e<t?"end":"middle",N4e=(e,t,r)=>ds(typeof t=="function"?t(e):t,r,r*.8),S4e=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,o=o$(s,i),c=a+ds(e.cx,s,s/2),u=n+ds(e.cy,i,i/2),d=ds(e.innerRadius,o,0),f=N4e(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},j4e=(e,t)=>{var r=_a(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function A4e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var _4e=(e,t)=>{if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return e(t);var r=fr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Fw(t,f4e);return k.createElement(i6,qu({},a,{type:"linear",className:r}))},E4e=(e,t,r)=>{if(k.isValidElement(e))return k.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),k.isValidElement(n)))return n;var a=fr("recharts-pie-label-text",A4e(e));return k.createElement(ww,qu({},t,{alignmentBaseline:"middle",className:a}),n)};function C4e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var o=_i(r),c=g0(a),u=g0(s),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Zn(h.cx,h.cy,h.outerRadius+d,p),x=wn(wn(wn(wn({},o),h),{},{stroke:"none"},c),{},{index:m,textAnchor:k4e(g.x,h.cx)},g),v=wn(wn(wn(wn({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Zn(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return k.createElement(si,{zIndex:Jn.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},k.createElement(Ta,null,s&&_4e(s,v),E4e(a,x,Or(h,i))))});return k.createElement(Ta,{className:"recharts-pie-labels"},f)}function T4e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?k.createElement(y_,{label:a}):k.createElement(C4e,{sectors:t,props:r,showLabels:n})}function P4e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:i}=e,o=Nt(Vu),c=Nt(f_),u=Nt(Z2e),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,m=Fw(a,h4e),p=A_(d,a.dataKey,i),g=__(h),x=E_(f,a.dataKey,i);return t==null||t.length===0?null:k.createElement(k.Fragment,null,t.map((v,y)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var b=u==null||u===i,N=String(y)===o&&(c==null||a.dataKey===c)&&b,S=o?n:null,A=r&&N?r:S,j=wn(wn({},v),{},{stroke:v.stroke,tabIndex:-1,[FU]:y,[DU]:i});return k.createElement(Ta,qu({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},fx(m,v,y),{onMouseEnter:p(v,y),onMouseLeave:g(v,y),onClick:x(v,y)}),k.createElement(j_,qu({option:s??A,index:y,shapeType:"sector",isActive:N},j)))}))}function O4e(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=j4e(o,c),p=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(A=>Or(A,u,0)!==0).length,v=(p>=360?x:x-1)*g,y=p-x*h-v,b=n.reduce((A,j)=>{var C=Or(j,u,0);return A+(kt(C)?C:0)},0),N;if(b>0){var S;N=n.map((A,j)=>{var C=Or(A,u,0),E=Or(A,d,j),F=S4e(r,s,A),O=(kt(C)?C:0)/b,T,H=wn(wn({},A),a&&a[j]&&a[j].props);j?T=S.endAngle+_a(m)*g*(C!==0?1:0):T=o;var K=T+_a(m)*((C!==0?h:0)+O*y),se=(T+K)/2,M=(F.innerRadius+F.outerRadius)/2,B=[{name:E,value:C,payload:H,dataKey:u,type:f,graphicalItemId:r.id}],Y=Zn(F.cx,F.cy,M,se);return S=wn(wn(wn(wn({},r.presentationProps),{},{percent:O,cornerRadius:typeof i=="string"?parseFloat(i):i,name:E,tooltipPayload:B,midAngle:se,middleRadius:M,tooltipPosition:Y},H),F),{},{value:C,dataKey:u,startAngle:T,endAngle:K,payload:H,paddingAngle:_a(m)*g}),S})}return N}function L4e(e){var{showLabels:t,sectors:r,children:n}=e,a=k.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return k.createElement(pke,{value:t?a:void 0},n)}function F4e(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=yx(t,"recharts-pie-"),p=r.current,[g,x]=k.useState(!1),v=k.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),y=k.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return k.createElement(L4e,{showLabels:!g,sectors:a},k.createElement(vx,{animationId:m,begin:i,duration:o,isActive:s,easing:c,onAnimationStart:y,onAnimationEnd:v,key:m},b=>{var N=[],S=a&&a[0],A=S==null?void 0:S.startAngle;return a==null||a.forEach((j,C)=>{var E=p&&p[C],F=C>0?v0(j,"paddingAngle",0):0;if(E){var O=Jr(E.endAngle-E.startAngle,j.endAngle-j.startAngle,b),T=wn(wn({},j),{},{startAngle:A+F,endAngle:A+O+F});N.push(T),A=T.endAngle}else{var{endAngle:H,startAngle:K}=j,se=Jr(0,H-K,b),M=wn(wn({},j),{},{startAngle:A+F,endAngle:A+se+F});N.push(M),A=M.endAngle}}),r.current=N,k.createElement(Ta,null,k.createElement(P4e,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),k.createElement(T4e,{showLabels:!g,sectors:a,props:t}),t.children)}var D4e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Jn.area};function I4e(e){var{id:t}=e,r=Fw(e,m4e),{hide:n,className:a,rootTabIndex:s}=e,i=k.useMemo(()=>S_(e.children,Lx),[e.children]),o=Nt(d=>Oke(d,t,i)),c=k.useRef(null),u=fr("recharts-pie",a);return n||o==null?(c.current=null,k.createElement(Ta,{tabIndex:s,className:u})):k.createElement(si,{zIndex:e.zIndex},k.createElement(w4e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),k.createElement(Ta,{tabIndex:s,className:u},k.createElement(F4e,{props:wn(wn({},r),{},{sectors:o}),previousSectorsRef:c,id:t})))}function qH(e){var t=ta(e,D4e),{id:r}=t,n=Fw(t,p4e),a=_i(n);return k.createElement(T_,{id:r,type:"pie"},s=>k.createElement(k.Fragment,null,k.createElement(d4e,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),k.createElement(b4e,qu({},n,{id:s})),k.createElement(I4e,qu({},n,{id:s}))))}qH.displayName="Pie";var M4e=["points"];function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(n){R4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R4e(e,t,r){return(t=B4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4e(e){var t=z4e(e,"string");return typeof t=="symbol"?t:t+""}function z4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(null,arguments)}function U4e(e,t){if(e==null)return{};var r,n,a=$4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function W4e(e){var{option:t,dotProps:r,className:n}=e;if(k.isValidElement(t))return k.cloneElement(t,r);if(typeof t=="function")return t(r);var a=fr(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,o=U4e(s,M4e);return k.createElement(FH,Lb({},o,{className:a}))}function H4e(e,t){return e==null?!1:t?!0:e.length===1}function V4e(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:o,clipPathId:c,zIndex:u=Jn.scatter}=e;if(!H4e(t,r))return null;var d=UH(r),f=Dfe(r),h=t.map((p,g)=>{var x,v,y=Jk(Jk(Jk({r:3},i),f),{},{index:g,cx:(x=p.x)!==null&&x!==void 0?x:void 0,cy:(v=p.y)!==null&&v!==void 0?v:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return k.createElement(W4e,{key:"dot-".concat(g),option:r,dotProps:y,className:a})}),m={};return o&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),k.createElement(si,{zIndex:u},k.createElement(Ta,Lb({className:n},m),h))}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){q4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q4e(e,t,r){return(t=G4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G4e(e){var t=K4e(e,"string");return typeof t=="symbol"?t:t+""}function K4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GH=0,Y4e={xAxis:{},yAxis:{},zAxis:{}},KH=ai({name:"cartesianAxis",initialState:Y4e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Zr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Zr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Zr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=_L(_L({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:X4e,replaceXAxis:Z4e,removeXAxis:J4e,addYAxis:Q4e,replaceYAxis:eNe,removeYAxis:tNe,addZAxis:p7e,replaceZAxis:g7e,removeZAxis:x7e,updateYAxisWidth:rNe}=KH.actions,nNe=KH.reducer,aNe=Fe([da],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),sNe=Fe([aNe,Oc,Lc],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),P_=()=>Nt(sNe),iNe=()=>Nt(rwe);function EL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EL(Object(r),!0).forEach(function(n){oNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oNe(e,t,r){return(t=lNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lNe(e){var t=cNe(e,"string");return typeof t=="symbol"?t:t+""}function cNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uNe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Qk(Qk(Qk({},o),g0(a)),LA(a)),u;return k.isValidElement(a)?u=k.cloneElement(a,c):typeof a=="function"?u=a(c):u=k.createElement(FH,c),k.createElement(Ta,{className:"recharts-active-dot",clipPath:i},u)};function dNe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=Jn.activeDot}=e,o=Nt(Vu),c=iNe();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return rn(u)?null:k.createElement(si,{zIndex:i},k.createElement(uNe,{point:u,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var CL=(e,t,r)=>{var n=r??e;if(!rn(n))return ds(n,t,0)},fNe=(e,t,r)=>{var n={},a=e.filter(fw),s=e.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(i).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=CL(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=CL(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]};function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(n){hNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hNe(e,t,r){return(t=mNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mNe(e){var t=pNe(e,"string");return typeof t=="symbol"?t:t+""}function pNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gNe(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=ds(e,r,0,!0),o,c=[];if(fn(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((v,y)=>v+(y.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-i,size:0};o=n.reduce((v,y)=>{var b,N={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:m.offset+m.size+i,size:u?d:(b=y.barSize)!==null&&b!==void 0?b:0}},S=[...v,N];return m=S[S.length-1].position,S},c)}else{var p=ds(t,r,0,!0);r-2*p-(s-1)*i<=0&&(i=0);var g=(r-2*p-(s-1)*i)/s;g>1&&(g>>=0);var x=fn(a)?Math.min(g,a):g;o=n.reduce((v,y,b)=>[...v,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p+(g+i)*b+(g-x)/2,size:x}}],c)}return o}}var xNe=(e,t,r,n,a,s,i)=>{var o=rn(i)?t:i,c=gNe(r,n,a!==s?a:s,e,o);return a!==s&&c!=null&&(c=c.map(u=>Nv(Nv({},u),{},{position:Nv(Nv({},u.position),{},{offset:u.position.offset-a/2})}))),c},vNe=(e,t)=>{var r=B6(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}};function yNe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&fn(e.zIndex)?e.zIndex:t}var YH=e=>{var{chartData:t}=e,r=Ur(),n=gs();return k.useEffect(()=>n?()=>{}:(r(VO(t)),()=>{r(VO(void 0))}),[t,r,n]),null},PL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},XH=ai({name:"brush",initialState:PL,reducers:{setBrushSettings(e,t){return t.payload==null?PL:t.payload}}}),{setBrushSettings:v7e}=XH.actions,bNe=XH.reducer;function wNe(e,t,r){return(t=kNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kNe(e){var t=NNe(e,"string");return typeof t=="symbol"?t:t+""}function NNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class O_{static create(t){return new O_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}wNe(O_,"EPS",1e-4);function SNe(e){return(e%180+180)%180}var jNe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=SNe(a),i=s*Math.PI/180,o=Math.atan(n/r),c=i>o&&i<Math.PI-o?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},ANe={dots:[],areas:[],lines:[]},ZH=ai({name:"referenceElements",initialState:ANe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=$o(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=$o(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=$o(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:y7e,removeDot:b7e,addArea:w7e,removeArea:k7e,addLine:N7e,removeLine:S7e}=ZH.actions,_Ne=ZH.reducer,ENe=k.createContext(void 0),CNe=e=>{var{children:t}=e,[r]=k.useState("".concat(wg("recharts"),"-clip")),n=P_();if(n==null)return null;var{x:a,y:s,width:i,height:o}=n;return k.createElement(ENe.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:a,y:s,height:o,width:i}))),t)};function JH(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function TNe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jNe(n,r)}function PNe(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:o}=e;return t===1?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}function Dg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function ONe(e,t){return JH(e,t+1)}function LNe(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:o}=t,c=0,u=1,d=i,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:JH(n,u)};var g=c,x,v=()=>(x===void 0&&(x=r(p,g)),x),y=p.coordinate,b=c===0||Dg(e,y,v,d,o);b||(c=0,d=i,u+=1),b&&(d=y+e*(v()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function FNe(e,t,r,n,a){var s=(n||[]).slice(),i=s.length;if(i===0)return[];for(var{start:o,end:c}=t,u=1;u<=i;u++){for(var d=(i-1)%u,f=o,h=!0,m=function(){var y=n[p],b=p,N,S=()=>(N===void 0&&(N=r(y,b)),N),A=y.coordinate,j=p===d||Dg(e,A,S,f,c);if(!j)return h=!1,1;j&&(f=A+e*(S()/2+a))},p=d;p<i&&!m();p+=u);if(h){for(var g=[],x=d;x<i;x+=u)g.push(n[x]);return g}}return[]}function OL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(r),!0).forEach(function(n){DNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DNe(e,t,r){return(t=INe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function INe(e){var t=MNe(e,"string");return typeof t=="symbol"?t:t+""}function MNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RNe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:c}=t,u=function(h){var m=s[h],p,g=()=>(p===void 0&&(p=r(m,h)),p);if(h===i-1){var x=e*(m.coordinate+e*g()/2-c);s[h]=m=Qa(Qa({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else s[h]=m=Qa(Qa({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=Dg(e,m.tickCoord,g,o,c);v&&(c=m.tickCoord-e*(g()/2+a),s[h]=Qa(Qa({},m),{},{isShow:!0}))}},d=i-1;d>=0;d--)u(d);return s}function BNe(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:c,end:u}=t;if(s){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);if(i[o-1]=d=Qa(Qa({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Dg(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),i[o-1]=Qa(Qa({},d),{},{isShow:!0}))}}for(var p=s?o-1:o,g=function(y){var b=i[y],N,S=()=>(N===void 0&&(N=r(b,y)),N);if(y===0){var A=e*(b.coordinate-e*S()/2-c);i[y]=b=Qa(Qa({},b),{},{tickCoord:A<0?b.coordinate-A*e:b.coordinate})}else i[y]=b=Qa(Qa({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=Dg(e,b.tickCoord,S,c,u);j&&(c=b.tickCoord+e*(S()/2+a),i[y]=Qa(Qa({},b),{},{isShow:!0}))}},x=0;x<p;x++)g(x);return i}function L_(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(kt(c)||rw.isSsr){var h;return(h=ONe(a,kt(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Tp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(b,N)=>{var S=typeof u=="function"?u(b.value,N):b.value;return p==="width"?TNe(Tp(S,{fontSize:t,letterSpacing:r}),g,f):Tp(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?_a(a[1].coordinate-a[0].coordinate):1,y=PNe(s,v,p);return c==="equidistantPreserveStart"?LNe(v,y,x,a,i):c==="equidistantPreserveEnd"?FNe(v,y,x,a,i):(c==="preserveStart"||c==="preserveStartEnd"?m=BNe(v,y,x,a,i,c==="preserveStartEnd"):m=RNe(v,y,x,a,i),m.filter(b=>b.isShow))}var zNe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+s,u=i+c+o+(r?n:0);return Math.round(u)}return 0},UNe=["axisLine","width","height","className","hide","ticks","axisType"];function $Ne(e,t){if(e==null)return{};var r,n,a=WNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function LL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(r),!0).forEach(function(n){HNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HNe(e,t,r){return(t=VNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VNe(e){var t=qNe(e,"string");return typeof t=="symbol"?t:t+""}function qNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jn.axis};function GNe(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=Yn(Yn(Yn({},c),_i(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!i||s==="bottom"&&i);u=Yn(Yn({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);u=Yn(Yn({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return k.createElement("line",k0({},u,{className:fr("recharts-cartesian-axis-line",v0(o,"className"))}))}function KNe(e,t,r,n,a,s,i,o,c){var u,d,f,h,m,p,g=o?-1:1,x=e.tickSize||i,v=kt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,h=r+ +!o*a,f=h-g*x,p=f-g*c,m=v;break;case"left":f=h=e.coordinate,d=t+ +!o*n,u=d-g*x,m=u-g*c,p=v;break;case"right":f=h=e.coordinate,d=t+ +o*n,u=d+g*x,m=u+g*c,p=v;break;default:u=d=e.coordinate,h=r+ +o*a,f=h+g*x,p=f+g*c,m=v;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function YNe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function XNe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ZNe(e){var{option:t,tickProps:r,value:n}=e,a,s=fr(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(t))a=k.cloneElement(t,Yn(Yn({},r),{},{className:s}));else if(typeof t=="function")a=t(Yn(Yn({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=fr(i,t==null?void 0:t.className)),a=k.createElement(ww,k0({},r,{className:i}),n)}return a}var JNe=k.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:x,tickMargin:v,fontSize:y,letterSpacing:b,getTicksConfig:N,events:S,axisType:A}=e,j=L_(Yn(Yn({},N),{},{ticks:r}),y,b),C=YNe(d,f),E=XNe(d,f),F=_i(N),O=g0(n),T={};typeof a=="object"&&(T=a);var H=Yn(Yn({},F),{},{fill:"none"},T),K=j.map(B=>Yn({entry:B},KNe(B,h,m,p,g,d,x,f,v))),se=K.map(B=>{var{entry:Y,line:z}=B;return k.createElement(Ta,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},a&&k.createElement("line",k0({},H,z,{className:fr("recharts-cartesian-axis-tick-line",v0(a,"className"))})))}),M=K.map((B,Y)=>{var{entry:z,tick:Q}=B,de=Yn(Yn(Yn(Yn({textAnchor:C,verticalAnchor:E},F),{},{stroke:"none",fill:s},O),Q),{},{index:Y,payload:z,visibleTicksCount:j.length,tickFormatter:i,padding:c},u);return k.createElement(Ta,k0({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},fx(S,z,Y)),n&&k.createElement(ZNe,{option:n,tickProps:de,value:"".concat(typeof i=="function"?i(z.value,Y):z.value).concat(o||"")}))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(A,"-ticks")},M.length>0&&k.createElement(si,{zIndex:Jn.label},k.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(A,"-tick-labels"),ref:t},M)),se.length>0&&k.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(A,"-tick-lines")},se))}),QNe=k.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:o,axisType:c}=e,u=$Ne(e,UNe),[d,f]=k.useState(""),[h,m]=k.useState(""),p=k.useRef(null);k.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return zNe({ticks:p.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=k.useCallback(x=>{if(x){var v=x.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=v;var y=v[0];if(y){var b=window.getComputedStyle(y),N=b.fontSize,S=b.letterSpacing;(N!==d||S!==h)&&(f(N),m(S))}}},[d,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:k.createElement(si,{zIndex:e.zIndex},k.createElement(Ta,{className:fr("recharts-cartesian-axis",s)},k.createElement(GNe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:_i(e)}),k.createElement(JNe,{ref:g,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),k.createElement(J5e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},k.createElement(lke,{label:e.label,labelRef:e.labelRef}),e.children)))}),F_=k.forwardRef((e,t)=>{var r=ta(e,uc);return k.createElement(QNe,k0({},r,{ref:t}))});F_.displayName="CartesianAxis";var eSe=["x1","y1","x2","y2","key"],tSe=["offset"],rSe=["xAxisId","yAxisId"],nSe=["xAxisId","yAxisId"];function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(n){aSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aSe(e,t,r){return(t=sSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sSe(e){var t=iSe(e,"string");return typeof t=="symbol"?t:t+""}function iSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Md.apply(null,arguments)}function Fb(e,t){if(e==null)return{};var r,n,a=oSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:o}=e;return k.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function QH(e){var{option:t,lineItemProps:r}=e,n;if(k.isValidElement(t))n=k.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:o,y2:c,key:u}=r,d=Fb(r,eSe),f=(a=_i(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=Fb(f,tSe);n=k.createElement("line",Md({},m,{x1:s,y1:i,x2:o,y2:c,fill:"none",key:u}))}return n}function cSe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=Fb(e,rSe),c=a.map((u,d)=>{var f=as(as({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return k.createElement(QH,{key:"line-".concat(d),option:n,lineItemProps:f})});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function uSe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=Fb(e,nSe),c=a.map((u,d)=>{var f=as(as({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return k.createElement(QH,{option:n,lineItemProps:f,key:"line-".concat(d)})});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function dSe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+i-f:u[h+1]-f;if(p<=0)return null;var g=h%t.length;return k.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function fSe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+i-f:u[h+1]-f;if(p<=0)return null;var g=h%r.length;return k.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var hSe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return PU(L_(as(as(as({},uc),r),{},{ticks:OU(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},mSe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return PU(L_(as(as(as({},uc),r),{},{ticks:OU(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},pSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Jn.grid};function D_(e){var t=r6(),r=n6(),n=WU(),a=as(as({},ta(e,pSe)),{},{x:kt(e.x)?e.x:n.left,y:kt(e.y)?e.y:n.top,width:kt(e.width)?e.width:n.width,height:kt(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=gs(),g=Nt(E=>FO(E,"xAxis",s,p)),x=Nt(E=>FO(E,"yAxis",i,p));if(!El(u)||!El(d)||!kt(o)||!kt(c))return null;var v=a.verticalCoordinatesGenerator||hSe,y=a.horizontalCoordinatesGenerator||mSe,{horizontalPoints:b,verticalPoints:N}=a;if((!b||!b.length)&&typeof y=="function"){var S=h&&h.length,A=y({yAxis:x?as(as({},x),{},{ticks:S?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);lb(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(b=A)}if((!N||!N.length)&&typeof v=="function"){var j=m&&m.length,C=v({xAxis:g?as(as({},g),{},{ticks:j?m:g.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);lb(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(N=C)}return k.createElement(si,{zIndex:a.zIndex},k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(lSe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),k.createElement(dSe,Md({},a,{horizontalPoints:b})),k.createElement(fSe,Md({},a,{verticalPoints:N})),k.createElement(cSe,Md({},a,{offset:n,horizontalPoints:b,xAxis:g,yAxis:x})),k.createElement(uSe,Md({},a,{offset:n,verticalPoints:N,xAxis:g,yAxis:x}))))}D_.displayName="CartesianGrid";var gSe={},eV=ai({name:"errorBars",initialState:gSe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:j7e,replaceErrorBar:A7e,removeErrorBar:_7e}=eV.actions,xSe=eV.reducer,vSe=["children"];function ySe(e,t){if(e==null)return{};var r,n,a=bSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kSe=k.createContext(wSe);function tV(e){var{children:t}=e,r=ySe(e,vSe);return k.createElement(kSe.Provider,{value:r},t)}function I_(e,t){var r,n,a=Nt(u=>Ic(u,e)),s=Nt(u=>Mc(u,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ba.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:wa.allowDataOverflow,c=i||o;return{needClip:c,needClipX:i,needClipY:o}}function rV(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=P_(),{needClipX:s,needClipY:i,needClip:o}=I_(t,r);if(!o||!a)return null;var{x:c,y:u,width:d,height:f}=a;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:s?c:c-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}var nV=(e,t,r,n)=>Hu(e,"xAxis",t,n),aV=(e,t,r,n)=>Wu(e,"xAxis",t,n),sV=(e,t,r,n)=>Hu(e,"yAxis",r,n),iV=(e,t,r,n)=>Wu(e,"yAxis",r,n),NSe=Fe([ir,nV,sV,aV,iV],(e,t,r,n,a)=>nd(e,"xAxis")?xh(t,n,!1):xh(r,a,!1)),SSe=(e,t,r,n,a)=>a;function jSe(e){return e.type==="line"}var ASe=Fe([pw,SSe],(e,t)=>e.filter(jSe).find(r=>r.id===t)),_Se=Fe([ir,nV,sV,aV,iV,ASe,NSe,T6],(e,t,r,n,a,s,i,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return v3e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:m})}});function ESe(e){var t=g0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),o=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(o)||o<0)&&(o=n),{r:i,strokeWidth:o}}return{r,strokeWidth:n}}var CSe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=k;function TSe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PSe=typeof Object.is=="function"?Object.is:TSe,OSe=Fx.useSyncExternalStore,LSe=Fx.useRef,FSe=Fx.useEffect,DSe=Fx.useMemo,ISe=Fx.useDebugValue;CSe.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=LSe(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=DSe(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&i.hasValue){var p=i.value;if(a(p,m))return f=p}return f=m}if(p=f,PSe(d,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(d=m,p):(d=m,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=OSe(e,s[0],s[1]);return FSe(function(){i.hasValue=!0,i.value=o},[o]),ISe(o),o};function MSe(e){e()}function RSe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){MSe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var DL={notify(){},get:()=>[]};function BSe(e,t){let r,n=DL,a=0,s=!1;function i(g){d();const x=n.subscribe(g);let v=!1;return()=>{v||(v=!0,x(),f())}}function o(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=RSe())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=DL)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var zSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",USe=zSe(),$Se=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WSe=$Se(),HSe=()=>USe||WSe?k.useLayoutEffect:k.useEffect,VSe=HSe();function IL(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function qSe(e,t){if(IL(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!IL(e[r[a]],t[r[a]]))return!1;return!0}var e4=Symbol.for("react-redux-context"),t4=typeof globalThis<"u"?globalThis:{};function GSe(){if(!k.createContext)return{};const e=t4[e4]??(t4[e4]=new Map);let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var KSe=GSe();function YSe(e){const{children:t,context:r,serverState:n,store:a}=e,s=k.useMemo(()=>{const c=BSe(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=k.useMemo(()=>a.getState(),[a]);VSe(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const o=r||KSe;return k.createElement(o.Provider,{value:s},t)}var XSe=YSe,ZSe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function JSe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Dw(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(ZSe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!qSe(e[n],t[n]))return!1}else if(!JSe(e[n],t[n]))return!1;return!0}var QSe=["id"],e3e=["type","layout","connectNulls","needClip","shape"],t3e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(null,arguments)}function ML(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(r),!0).forEach(function(n){r3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r3e(e,t,r){return(t=n3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3e(e){var t=a3e(e,"string");return typeof t=="symbol"?t:t+""}function a3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M_(e,t){if(e==null)return{};var r,n,a=s3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i3e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:zh(r,t),payload:e}]},o3e=k.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:zh(i,t),hide:o,type:u,color:n,unit:c,graphicalItemId:d}};return k.createElement(C_,{tooltipEntrySettings:f})}),oV=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function l3e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var c3e=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return oV(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){o=[...r.slice(0,c),s-u];break}var d=o.length%2===0?[0,i]:[i];return[...l3e(r,a),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function u3e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:o}=n,c=M_(n,QSe),u=_i(c);return k.createElement(V4e,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:i,clipPathId:t})}function d3e(e){var{showLabels:t,children:r,points:n}=e,a=k.useMemo(()=>n==null?void 0:n.map(s=>{var i,o,c={x:(i=s.x)!==null&&i!==void 0?i:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ul(ul({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return k.createElement(OH,{value:t?a:void 0},r)}function RL(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:o,connectNulls:c,needClip:u,shape:d}=s,f=M_(s,e3e),h=ul(ul({},Os(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:o,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return k.createElement(k.Fragment,null,(n==null?void 0:n.length)>1&&k.createElement(j_,Ig({shapeType:"curve",option:d},h,{pathRef:r})),k.createElement(u3e,{points:n,clipPathId:t,props:s}))}function f3e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function h3e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:x}=r,v=a.current,y=yx(i,"recharts-line-"),b=k.useRef(y),[N,S]=k.useState(!1),A=!N,j=k.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),C=k.useCallback(()=>{typeof x=="function"&&x(),S(!0)},[x]),E=f3e(n.current),F=k.useRef(0);b.current!==y&&(F.current=s.current,b.current=y);var O=F.current;return k.createElement(d3e,{points:i,showLabels:A},r.children,k.createElement(vx,{animationId:y,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:j,onAnimationStart:C,key:y},T=>{var H=Jr(O,E+O,T),K=Math.min(H,E),se;if(c)if(o){var M="".concat(o).split(/[,\s]+/gim).map(z=>parseFloat(z));se=c3e(K,E,M)}else se=oV(E,K);else se=o==null?void 0:String(o);if(T>0&&E>0&&(a.current=i,s.current=Math.max(s.current,K)),v){var B=v.length/i.length,Y=T===1?i:i.map((z,Q)=>{var de=Math.floor(Q*B);if(v[de]){var L=v[de];return ul(ul({},z),{},{x:Jr(L.x,z.x,T),y:Jr(L.y,z.y,T)})}return h?ul(ul({},z),{},{x:Jr(m*2,z.x,T),y:Jr(p/2,z.y,T)}):ul(ul({},z),{},{x:z.x,y:z.y})});return a.current=Y,k.createElement(RL,{props:r,points:Y,clipPathId:t,pathRef:n,strokeDasharray:se})}return k.createElement(RL,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:se})}),k.createElement(y_,{label:r.label}))}function m3e(e){var{clipPathId:t,props:r}=e,n=k.useRef(null),a=k.useRef(0),s=k.useRef(null);return k.createElement(h3e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var p3e=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Or(e.payload,t)}};class g3e extends k.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:o,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=fr("recharts-line",a),g=f,{r:x,strokeWidth:v}=ESe(r),y=UH(r),b=x*2+v,N=h?"url(#clipPath-".concat(y?"":"dots-").concat(g,")"):void 0;return k.createElement(si,{zIndex:m},k.createElement(Ta,{className:p},h&&k.createElement("defs",null,k.createElement(rV,{clipPathId:g,xAxisId:s,yAxisId:i}),!y&&k.createElement("clipPath",{id:"clipPath-dots-".concat(g)},k.createElement("rect",{x:c-b/2,y:o-b/2,width:u+b,height:d+b}))),k.createElement(tV,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:p3e,errorBarOffset:0},k.createElement(m3e,{props:this.props,clipPathId:g}))),k.createElement(dNe,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var lV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Jn.line,type:"linear"};function x3e(e){var t=ta(e,lV),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,x=M_(t,t3e),{needClip:v}=I_(m,p),y=P_(),b=Uh(),N=gs(),S=Nt(F=>_Se(F,m,p,N,g));if(b!=="horizontal"&&b!=="vertical"||S==null||y==null)return null;var{height:A,width:j,x:C,y:E}=y;return k.createElement(g3e,Ig({},x,{id:g,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:S,layout:b,height:A,width:j,left:C,top:E,needClip:v}))}function v3e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=Or(u,i);if(t==="horizontal"){var h=H8({axis:r,ticks:a,bandSize:o,entry:u,index:d}),m=rn(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var p=rn(f)?null:r.scale(f),g=H8({axis:n,ticks:s,bandSize:o,entry:u,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:u}}).filter(Boolean)}function y3e(e){var t=ta(e,lV),r=gs();return k.createElement(T_,{id:t.id,type:"line"},n=>k.createElement(k.Fragment,null,k.createElement(WH,{legendPayload:i3e(t)}),k.createElement(o3e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),k.createElement(VH,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),k.createElement(x3e,Ig({},t,{id:n}))))}var cV=k.memo(y3e,Dw);cV.displayName="Line";function I0(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:GH}function M0(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:GH}var b3e="Invariant failed";function w3e(e,t){throw new Error(b3e)}function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qS.apply(null,arguments)}function Db(e){return k.createElement(j_,qS({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var k3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(kt(t))return t;var s=kt(n)||rn(n);return s?t(n,a):(s||w3e(),r)}},N3e=(e,t,r)=>r,S3e=(e,t)=>t,Dx=Fe([pw,S3e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),j3e=Fe([Dx],e=>e==null?void 0:e.maxBarSize),A3e=(e,t,r,n)=>n,_3e=Fe([ir,pw,I0,M0,N3e],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),E3e=(e,t,r)=>{var n=ir(e),a=I0(e,t),s=M0(e,t);if(!(a==null||s==null))return n==="horizontal"?MS(e,"yAxis",s,r):MS(e,"xAxis",a,r)},C3e=(e,t)=>{var r=ir(e),n=I0(e,t),a=M0(e,t);if(!(n==null||a==null))return r==="horizontal"?LO(e,"xAxis",n):LO(e,"yAxis",a)},T3e=Fe([_3e,ebe,C3e],fNe),P3e=(e,t,r)=>{var n,a,s=Dx(e,t);if(s!=null){var i=I0(e,t),o=M0(e,t);if(!(i==null||o==null)){var c=ir(e),u=cW(e),{maxBarSize:d}=s,f=rn(d)?u:d,h,m;return c==="horizontal"?(h=Hu(e,"xAxis",i,r),m=Wu(e,"xAxis",i,r)):(h=Hu(e,"yAxis",o,r),m=Wu(e,"yAxis",o,r)),(n=(a=xh(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},uV=(e,t,r)=>{var n=ir(e),a=I0(e,t),s=M0(e,t);if(!(a==null||s==null)){var i,o;return n==="horizontal"?(i=Hu(e,"xAxis",a,r),o=Wu(e,"xAxis",a,r)):(i=Hu(e,"yAxis",s,r),o=Wu(e,"yAxis",s,r)),xh(i,o)}},O3e=Fe([T3e,cW,Qye,uW,P3e,uV,j3e],xNe),L3e=(e,t,r)=>{var n=I0(e,t);if(n!=null)return Hu(e,"xAxis",n,r)},F3e=(e,t,r)=>{var n=M0(e,t);if(n!=null)return Hu(e,"yAxis",n,r)},D3e=(e,t,r)=>{var n=I0(e,t);if(n!=null)return Wu(e,"xAxis",n,r)},I3e=(e,t,r)=>{var n=M0(e,t);if(n!=null)return Wu(e,"yAxis",n,r)},M3e=Fe([O3e,Dx],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),R3e=Fe([E3e,Dx],vNe),B3e=Fe([da,e6,L3e,F3e,D3e,I3e,M3e,ir,Uye,uV,R3e,Dx,A3e],(e,t,r,n,a,s,i,o,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=c;if(!(f==null||i==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:x}=f,v;if(x!=null&&x.length>0?v=x:v=m==null?void 0:m.slice(p,g+1),v!=null)return mje({layout:o,barSettings:f,pos:i,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:v,offset:e,cells:h,dataStartIndex:p})}}),z3e=["index"];function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GS.apply(null,arguments)}function U3e(e,t){if(e==null)return{};var r,n,a=$3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dV=k.createContext(void 0),W3e=e=>{var t=k.useContext(dV);if(t!=null)return t.stackId;if(e!=null)return Wpe(e)},H3e=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),V3e=e=>{var t=k.useContext(dV);if(t!=null){var{stackId:r}=t;return"url(#".concat(H3e(r,e),")")}},q3e=e=>{var{index:t}=e,r=U3e(e,z3e),n=V3e(t);return k.createElement(Ta,GS({className:"recharts-bar-stack-layer",clipPath:n},r))},G3e=["onMouseEnter","onMouseLeave","onClick"],K3e=["value","background","tooltipPosition"],Y3e=["id"],X3e=["onMouseEnter","onClick","onMouseLeave"];function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(null,arguments)}function BL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(r),!0).forEach(function(n){Z3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z3e(e,t,r){return(t=J3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J3e(e){var t=Q3e(e,"string");return typeof t=="symbol"?t:t+""}function Q3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ib(e,t){if(e==null)return{};var r,n,a=eje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tje=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:zh(r,t),payload:e}]},rje=k.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:o,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:zh(s,t),hide:i,type:c,color:a,unit:o,graphicalItemId:u}};return k.createElement(C_,{tooltipEntrySettings:d})});function nje(e){var t=Nt(Vu),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:o,onClick:c}=s,u=Ib(s,G3e),d=A_(i,n,s.id),f=__(o),h=E_(c,n,s.id);if(!a||r==null)return null;var m=g0(a);return k.createElement(si,{zIndex:yNe(a,Jn.barBackground)},r.map((p,g)=>{var{value:x,background:v,tooltipPosition:y}=p,b=Ib(p,K3e);if(!v)return null;var N=d(p,g),S=f(p,g),A=h(p,g),j=js(js(js(js(js({option:a,isActive:String(g)===t},b),{},{fill:"#eee"},v),m),fx(u,p,g)),{},{onMouseEnter:N,onMouseLeave:S,onClick:A,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return k.createElement(Db,Nc({key:"background-bar-".concat(g)},j))}))}function aje(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return js(js({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return k.createElement(OH,{value:t?a:void 0},r)}function sje(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,o=Nt(Vu),c=Nt(f_),u=r&&String(s)===o&&(c==null||i===c),d=u?r:t;return u?k.createElement(si,{zIndex:Jn.activeBar},k.createElement(Db,Nc({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))):k.createElement(Db,Nc({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))}function ije(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return k.createElement(Db,Nc({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function oje(e){var t,{data:r,props:n}=e,a=(t=_i(n))!==null&&t!==void 0?t:{},{id:s}=a,i=Ib(a,Y3e),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=Ib(n,X3e),p=A_(d,c,s),g=__(h),x=E_(f,c,s);return r?k.createElement(k.Fragment,null,r.map((v,y)=>k.createElement(q3e,Nc({index:y,key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(y),className:"recharts-bar-rectangle"},fx(m,v,y),{onMouseEnter:p(v,y),onMouseLeave:g(v,y),onClick:x(v,y)}),u?k.createElement(sje,{shape:o,activeBar:u,baseProps:i,entry:v,index:y,dataKey:c}):k.createElement(ije,{shape:o,baseProps:i,entry:v,index:y,dataKey:c})))):null}function lje(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=yx(t,"recharts-bar-"),[m,p]=k.useState(!1),g=!m,x=k.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),v=k.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return k.createElement(aje,{showLabels:g,rects:n},k.createElement(vx,{animationId:h,begin:i,duration:o,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:v,key:h},y=>{var b=y===1?n:n==null?void 0:n.map((N,S)=>{var A=f&&f[S];if(A)return js(js({},N),{},{x:Jr(A.x,N.x,y),y:Jr(A.y,N.y,y),width:Jr(A.width,N.width,y),height:Jr(A.height,N.height,y)});if(a==="horizontal"){var j=Jr(0,N.height,y),C=Jr(N.stackedBarStart,N.y,y);return js(js({},N),{},{y:C,height:j})}var E=Jr(0,N.width,y),F=Jr(N.stackedBarStart,N.x,y);return js(js({},N),{},{width:E,x:F})});return y>0&&(r.current=b??null),b==null?null:k.createElement(Ta,null,k.createElement(oje,{props:t,data:b}))}),k.createElement(y_,{label:t.label}),t.children)}function cje(e){var t=k.useRef(null);return k.createElement(lje,{previousRectanglesRef:t,props:e})}var fV=0,uje=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Or(e,t)}};class dje extends k.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=fr("recharts-bar",a),f=u;return k.createElement(Ta,{className:d,id:u},o&&k.createElement("defs",null,k.createElement(rV,{clipPathId:f,xAxisId:s,yAxisId:i})),k.createElement(Ta,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},k.createElement(nje,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),k.createElement(cje,this.props)))}}var fje={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:fV,xAxisId:0,yAxisId:0,zIndex:Jn.bar};function hje(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=I_(t,r),h=Uh(),m=gs(),p=S_(e.children,Lx),g=Nt(y=>B3e(y,e.id,m,p));if(h!=="vertical"&&h!=="horizontal")return null;var x,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?x=0:x=h==="vertical"?v.height/2:v.width/2,k.createElement(tV,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:uje,errorBarOffset:x},k.createElement(dje,Nc({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function mje(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:g}=e,x=t==="horizontal"?o:i,v=d?x.scale.domain():null,y=Hpe({numericAxis:x}),b=x.scale(y);return f.map((N,S)=>{var A,j,C,E,F,O;if(d){var T=d[S+g];if(T==null)return null;A=Rpe(T,v)}else A=Or(N,r),Array.isArray(A)||(A=[y,A]);var H=k3e(n,fV)(A[1],S);if(t==="horizontal"){var K,[se,M]=[o.scale(A[0]),o.scale(A[1])];j=V8({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:N,index:S}),C=(K=M??se)!==null&&K!==void 0?K:void 0,E=a.size;var B=se-M;if(F=Ho(B)?0:B,O={x:j,y:h.top,width:E,height:h.height},Math.abs(H)>0&&Math.abs(F)<Math.abs(H)){var Y=_a(F||H)*(Math.abs(H)-Math.abs(F));C-=Y,F+=Y}}else{var[z,Q]=[i.scale(A[0]),i.scale(A[1])];if(j=z,C=V8({axis:o,ticks:u,bandSize:s,offset:a.offset,entry:N,index:S}),E=Q-z,F=a.size,O={x:h.left,y:C,width:h.width,height:F},Math.abs(H)>0&&Math.abs(E)<Math.abs(H)){var de=_a(E||H)*(Math.abs(H)-Math.abs(E));E+=de}}if(j==null||C==null||E==null||F==null)return null;var L=js(js({},N),{},{stackedBarStart:b,x:j,y:C,width:E,height:F,value:d?A:A[1],payload:N,background:O,tooltipPosition:{x:j+E/2,y:C+F/2},parentViewBox:p},m&&m[S]&&m[S].props);return L}).filter(Boolean)}function pje(e){var t=ta(e,fje),r=W3e(t.stackId),n=gs();return k.createElement(T_,{id:t.id,type:"bar"},a=>k.createElement(k.Fragment,null,k.createElement(WH,{legendPayload:tje(t)}),k.createElement(rje,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),k.createElement(VH,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),k.createElement(si,{zIndex:t.zIndex},k.createElement(hje,Nc({},t,{id:a})))))}var hV=k.memo(pje,Dw);hV.displayName="Bar";var gje=["domain","range"],xje=["domain","range"];function zL(e,t){if(e==null)return{};var r,n,a=vje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UL(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function mV(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=zL(e,gje),{domain:s,range:i}=t,o=zL(t,xje);return!UL(r,s)||!UL(n,i)?!1:Dw(a,o)}var yje=["dangerouslySetInnerHTML","ticks","scale"],bje=["id","scale"];function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(null,arguments)}function $L(e,t){if(e==null)return{};var r,n,a=wje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kje(e){var t=Ur(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(X4e(e)):r.current!==e&&t(Z4e({prev:r.current,next:e})),r.current=e},[e,t]),k.useLayoutEffect(()=>()=>{r.current&&(t(J4e(r.current)),r.current=null)},[t]),null}var Nje=e=>{var{xAxisId:t,className:r}=e,n=Nt(e6),a=gs(),s="xAxis",i=Nt(v=>$W(v,s,t,a)),o=Nt(v=>RW(v,t)),c=Nt(v=>Zbe(v,t)),u=Nt(v=>yW(v,t));if(o==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=$L(e,yje),{id:p,scale:g}=u,x=$L(u,bje);return k.createElement(F_,KS({},m,x,{x:c.x,y:c.y,width:o.width,height:o.height,className:fr("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:i,axisType:s}))},Sje={allowDataOverflow:ba.allowDataOverflow,allowDecimals:ba.allowDecimals,allowDuplicatedCategory:ba.allowDuplicatedCategory,angle:ba.angle,axisLine:uc.axisLine,height:ba.height,hide:!1,includeHidden:ba.includeHidden,interval:ba.interval,minTickGap:ba.minTickGap,mirror:ba.mirror,orientation:ba.orientation,padding:ba.padding,reversed:ba.reversed,scale:ba.scale,tick:ba.tick,tickCount:ba.tickCount,tickLine:uc.tickLine,tickSize:uc.tickSize,type:ba.type,xAxisId:0},jje=e=>{var t=ta(e,Sje);return k.createElement(k.Fragment,null,k.createElement(kje,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),k.createElement(Nje,t))},R_=k.memo(jje,mV);R_.displayName="XAxis";var Aje=["dangerouslySetInnerHTML","ticks","scale"],_je=["id","scale"];function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YS.apply(null,arguments)}function WL(e,t){if(e==null)return{};var r,n,a=Eje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Eje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cje(e){var t=Ur(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(Q4e(e)):r.current!==e&&t(eNe({prev:r.current,next:e})),r.current=e},[e,t]),k.useLayoutEffect(()=>()=>{r.current&&(t(tNe(r.current)),r.current=null)},[t]),null}var Tje=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=k.useRef(null),i=k.useRef(null),o=Nt(e6),c=gs(),u=Ur(),d="yAxis",f=Nt(A=>BW(A,t)),h=Nt(A=>Qbe(A,t)),m=Nt(A=>$W(A,d,t,c)),p=Nt(A=>bW(A,t));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!f||v_(a)||k.isValidElement(a)||p==null)){var A=s.current;if(A){var j=A.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&u(rNe({id:t,width:j}))}}},[m,f,u,a,t,n,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x,scale:v}=e,y=WL(e,Aje),{id:b,scale:N}=p,S=WL(p,_je);return k.createElement(F_,YS({},y,S,{ref:s,labelRef:i,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:fr("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:m,axisType:d}))},Pje={allowDataOverflow:wa.allowDataOverflow,allowDecimals:wa.allowDecimals,allowDuplicatedCategory:wa.allowDuplicatedCategory,angle:wa.angle,axisLine:uc.axisLine,hide:!1,includeHidden:wa.includeHidden,interval:wa.interval,minTickGap:wa.minTickGap,mirror:wa.mirror,orientation:wa.orientation,padding:wa.padding,reversed:wa.reversed,scale:wa.scale,tick:wa.tick,tickCount:wa.tickCount,tickLine:uc.tickLine,tickSize:uc.tickSize,type:wa.type,width:wa.width,yAxisId:0},Oje=e=>{var t=ta(e,Pje);return k.createElement(k.Fragment,null,k.createElement(Cje,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),k.createElement(Tje,t))},B_=k.memo(Oje,mV);B_.displayName="YAxis";var Lje=(e,t)=>t,z_=Fe([Lje,ir,xW,ha,aH,Rc,pwe,da],kwe),U_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},pV=uo("mouseClick"),gV=px();gV.startListening({actionCreator:pV,effect:(e,t)=>{var r=e.payload,n=z_(t.getState(),U_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(h2e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var XS=uo("mouseMove"),xV=px(),Sv=null;xV.startListening({actionCreator:XS,effect:(e,t)=>{var r=e.payload;Sv!==null&&cancelAnimationFrame(Sv);var n=U_(r);Sv=requestAnimationFrame(()=>{var a=t.getState(),s=i_(a,a.tooltip.settings.shared);if(s==="axis"){var i=z_(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(XW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(YW())}Sv=null})}});function Fje(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var HL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},vV=ai({name:"rootProps",initialState:HL,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:HL.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Dje=vV.reducer,{updateOptions:Ije}=vV.actions,yV=ai({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Mje}=yV.actions,Rje=yV.reducer,bV=uo("keyDown"),wV=uo("focus"),$_=px();$_.startListening({actionCreator:bV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=o_(a,Xh(r),Ex(r),Px(r)),o=i==null?-1:Number(i);if(!(!Number.isFinite(o)||o<0)){var c=Rc(r);if(s==="Enter"){var u=Cb(r,"axis","hover",String(a.index));t.dispatch(BS({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=n2e(r),f=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=o+h*f;if(!(c==null||m>=c.length||m<0)){var p=Cb(r,"axis","hover",String(m));t.dispatch(BS({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});$_.startListening({actionCreator:wV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=Cb(r,"axis","hover",String(s));t.dispatch(BS({active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Gi=uo("externalEvent"),kV=px(),r4=new Map;kV.startListening({actionCreator:Gi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=r4.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:Q2e(o),activeDataKey:f_(o),activeIndex:Vu(o),activeLabel:oH(o),activeTooltipIndex:Vu(o),isTooltipActive:ewe(o)};r(c,n)}finally{r4.delete(a)}});r4.set(a,i)}}});var Bje=Fe([Kh],e=>e.tooltipItemPayloads),zje=Fe([Bje,Tx,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.graphicalItemId===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),NV=uo("touchMove"),SV=px();SV.startListening({actionCreator:NV,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=i_(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var i=z_(n,U_({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(XW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(FU),f=(o=u.getAttribute(DU))!==null&&o!==void 0?o:void 0,h=Yh(n).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=zje(n,d,f);t.dispatch(KW({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var Uje=rU({brush:bNe,cartesianAxis:nNe,chartData:Jwe,errorBars:xSe,graphicalItems:c4e,layout:Ope,legend:Ige,options:Gwe,polarAxis:jke,polarOptions:Rje,referenceElements:_Ne,rootProps:Dje,tooltip:m2e,zIndex:Iwe}),$je=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return npe({reducer:Uje,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([gV.middleware,xV.middleware,$_.middleware,kV.middleware,SV.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(xU({type:"raf"}))},devTools:{serialize:{replacer:Fje},name:"recharts-".concat(r)}})};function jV(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=gs(),s=k.useRef(null);if(a)return r;s.current==null&&(s.current=$je(t,n));var i=WA;return k.createElement(XSe,{context:i,store:s.current},r)}function Wje(e){var{layout:t,margin:r}=e,n=Ur(),a=gs();return k.useEffect(()=>{a||(n(Cpe(t)),n(Epe(r)))},[n,a,t,r]),null}var AV=k.memo(Wje,Dw);function _V(e){var t=Ur();return k.useEffect(()=>{t(Ije(e))},[t,e]),null}function VL(e){var{zIndex:t,isPanorama:r}=e,n=k.useRef(null),a=Ur();return k.useLayoutEffect(()=>(n.current&&a(Fwe({zIndex:t,element:n.current,isPanorama:r})),()=>{a(Dwe({zIndex:t,isPanorama:r}))}),[a,t,r]),k.createElement("g",{tabIndex:-1,ref:n})}function qL(e){var{children:t,isPanorama:r}=e,n=Nt(Swe);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return k.createElement(k.Fragment,null,a.map(i=>k.createElement(VL,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>k.createElement(VL,{key:i,zIndex:i,isPanorama:r})))}var Hje=["children"];function Vje(e,t){if(e==null)return{};var r,n,a=qje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(null,arguments)}var Gje={width:"100%",height:"100%",display:"block"},Kje=k.forwardRef((e,t)=>{var r=r6(),n=n6(),a=t$();if(!El(r)||!El(n))return null;var{children:s,otherAttributes:i,title:o,desc:c}=e,u,d;return i!=null&&(typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0),k.createElement(_A,Mb({},i,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:Gje,ref:t}),s)}),Yje=e=>{var{children:t}=e,r=Nt(X2);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return k.createElement(_A,{width:n,height:a,x:i,y:s},t)},GL=k.forwardRef((e,t)=>{var{children:r}=e,n=Vje(e,Hje),a=gs();return a?k.createElement(Yje,null,k.createElement(qL,{isPanorama:!0},r)):k.createElement(Kje,Mb({ref:t},n),k.createElement(qL,{isPanorama:!1},r))});function Xje(){var e=Ur(),[t,r]=k.useState(null),n=Nt(Xpe);return k.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;fn(s)&&s!==n&&e(Ppe(s))}},[t,e,n]),r}function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zje(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(n){Jje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jje(e,t,r){return(t=Qje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qje(e){var t=eAe(e,"string");return typeof t=="symbol"?t:t+""}function eAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(null,arguments)}var tAe=()=>(o5e(),null);function Rb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var rAe=k.forwardRef((e,t)=>{var r,n,a=k.useRef(null),[s,i]=k.useState({containerWidth:Rb((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Rb((n=e.style)===null||n===void 0?void 0:n.height)}),o=k.useCallback((u,d)=>{i(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=k.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:x}=p[0].contentRect;o(g,x)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,o]);return k.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[o]),k.createElement(k.Fragment,null,k.createElement(J2,{width:s.containerWidth,height:s.containerHeight}),k.createElement("div",N0({ref:c},e)))}),nAe=k.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=k.useState({containerWidth:Rb(r),containerHeight:Rb(n)}),i=k.useCallback((c,u)=>{s(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=k.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();i(u,d)}},[t,i]);return k.createElement(k.Fragment,null,k.createElement(J2,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",N0({ref:o},e)))}),aAe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return k.createElement(k.Fragment,null,k.createElement(J2,{width:r,height:n}),k.createElement("div",N0({ref:t},e)))}),sAe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return xc(r)||xc(n)?k.createElement(nAe,N0({},e,{ref:t})):k.createElement(aAe,N0({},e,{ref:t}))});function iAe(e){return e===!0?rAe:sAe}var oAe=k.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:x,width:v,responsive:y,dispatchTouchEvents:b=!0}=e,N=k.useRef(null),S=Ur(),[A,j]=k.useState(null),[C,E]=k.useState(null),F=Xje(),O=t6(),T=(O==null?void 0:O.width)>0?O.width:v,H=(O==null?void 0:O.height)>0?O.height:a,K=k.useCallback(G=>{F(G),typeof t=="function"&&t(G),j(G),E(G),G!=null&&(N.current=G)},[F,t,j,E]),se=k.useCallback(G=>{S(pV(G)),S(Gi({handler:s,reactEvent:G}))},[S,s]),M=k.useCallback(G=>{S(XS(G)),S(Gi({handler:u,reactEvent:G}))},[S,u]),B=k.useCallback(G=>{S(YW()),S(Gi({handler:d,reactEvent:G}))},[S,d]),Y=k.useCallback(G=>{S(XS(G)),S(Gi({handler:f,reactEvent:G}))},[S,f]),z=k.useCallback(()=>{S(wV())},[S]),Q=k.useCallback(G=>{S(bV(G.key))},[S]),de=k.useCallback(G=>{S(Gi({handler:i,reactEvent:G}))},[S,i]),L=k.useCallback(G=>{S(Gi({handler:o,reactEvent:G}))},[S,o]),R=k.useCallback(G=>{S(Gi({handler:c,reactEvent:G}))},[S,c]),U=k.useCallback(G=>{S(Gi({handler:h,reactEvent:G}))},[S,h]),I=k.useCallback(G=>{S(Gi({handler:g,reactEvent:G}))},[S,g]),X=k.useCallback(G=>{b&&S(NV(G)),S(Gi({handler:p,reactEvent:G}))},[S,b,p]),V=k.useCallback(G=>{S(Gi({handler:m,reactEvent:G}))},[S,m]),ee=iAe(y);return k.createElement(mH.Provider,{value:A},k.createElement(rz.Provider,{value:C},k.createElement(ee,{width:T??(x==null?void 0:x.width),height:H??(x==null?void 0:x.height),className:fr("recharts-wrapper",n),style:Zje({position:"relative",cursor:"default",width:T,height:H},x),onClick:se,onContextMenu:de,onDoubleClick:L,onFocus:z,onKeyDown:Q,onMouseDown:R,onMouseEnter:M,onMouseLeave:B,onMouseMove:Y,onMouseUp:U,onTouchEnd:V,onTouchMove:X,onTouchStart:I,ref:K},k.createElement(tAe,null),r)))}),lAe=["width","height","responsive","children","className","style","compact","title","desc"];function cAe(e,t){if(e==null)return{};var r,n,a=uAe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EV=k.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:o,compact:c,title:u,desc:d}=e,f=cAe(e,lAe),h=_i(f);return c?k.createElement(k.Fragment,null,k.createElement(J2,{width:r,height:n}),k.createElement(GL,{otherAttributes:h,title:u,desc:d},s)):k.createElement(oAe,{className:i,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(GL,{otherAttributes:h,title:u,desc:d,ref:t},k.createElement(CNe,null,s)))});function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZS.apply(null,arguments)}var dAe={top:5,right:5,bottom:5,left:5},fAe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:dAe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},CV=k.forwardRef(function(t,r){var n,a=ta(t.categoricalChartProps,fAe),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return k.createElement(jV,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},k.createElement(YH,{chartData:u.data}),k.createElement(AV,{layout:a.layout,margin:a.margin}),k.createElement(_V,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),k.createElement(EV,ZS({},a,{ref:r})))}),hAe=["axis"],mAe=k.forwardRef((e,t)=>k.createElement(CV,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hAe,tooltipPayloadSearcher:x_,categoricalChartProps:e,ref:t})),pAe=["axis","item"],gAe=k.forwardRef((e,t)=>k.createElement(CV,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pAe,tooltipPayloadSearcher:x_,categoricalChartProps:e,ref:t}));function xAe(e){var t=Ur();return k.useEffect(()=>{t(Mje(e))},[t,e]),null}var vAe=["layout"];function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JS.apply(null,arguments)}function yAe(e,t){if(e==null)return{};var r,n,a=bAe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wAe={top:5,right:5,bottom:5,left:5},TV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wAe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},kAe=k.forwardRef(function(t,r){var n,a=ta(t.categoricalChartProps,TV),{layout:s}=a,i=yAe(a,vAe),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return k.createElement(jV,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},k.createElement(YH,{chartData:a.data}),k.createElement(AV,{layout:s,margin:a.margin}),k.createElement(_V,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),k.createElement(xAe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),k.createElement(EV,JS({},i,{ref:r})))});function YL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(r),!0).forEach(function(n){NAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NAe(e,t,r){return(t=SAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SAe(e){var t=jAe(e,"string");return typeof t=="symbol"?t:t+""}function jAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AAe=["item"],_Ae=XL(XL({},TV),{},{layout:"centric",startAngle:0,endAngle:360}),EAe=k.forwardRef((e,t)=>{var r=ta(e,_Ae);return k.createElement(kAe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:AAe,tooltipPayloadSearcher:x_,categoricalChartProps:r,ref:t})});const ZL=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],CAe=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!0);k.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await Ee.get("/payments/reports");t(c.data)}catch(c){console.error("Failed to fetch financial reports",c)}finally{n(!1)}};if(r)return l.jsx("div",{className:"p-8 text-center text-gray-600 dark:text-gray-400",children:"Loading analytics..."});if(!e)return l.jsx("div",{className:"p-8 text-center text-gray-600 dark:text-gray-400",children:"No data available"});const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=e.monthlyRevenue.map((c,u)=>({name:s[u],revenue:c})),o=e.paymentMethods.map(c=>({name:c.method.replace("_"," "),value:c.amount}));return l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("h3",{className:"font-semibold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(ki,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Monthly Revenue (",new Date().getFullYear(),")"]})}),l.jsx("div",{className:"h-80",children:l.jsx(mS,{width:"100%",height:"100%",children:l.jsxs(gAe,{data:i,children:[l.jsx(D_,{strokeDasharray:"3 3",vertical:!1}),l.jsx(R_,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),l.jsx(B_,{fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:c=>`K${(c/1e3).toFixed(0)}k`}),l.jsx($S,{formatter:c=>[`ZMW ${c.toLocaleString()}`,"Revenue"],contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),l.jsx(hV,{dataKey:"revenue",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("h3",{className:"font-semibold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(eee,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Revenue by Payment Method"]})}),l.jsx("div",{className:"h-80 flex items-center justify-center",children:l.jsx(mS,{width:"100%",height:"100%",children:l.jsxs(EAe,{children:[l.jsx(qH,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:o.map((c,u)=>l.jsx(Lx,{fill:ZL[u%ZL.length]},`cell-${u}`))}),l.jsx($S,{formatter:c=>[`ZMW ${c.toLocaleString()}`,"Amount"]}),l.jsx(e$,{layout:"vertical",verticalAlign:"middle",align:"right"})]})})})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("h3",{className:"font-semibold text-lg text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[l.jsx(hs,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),"Collection Rate per Class"]}),l.jsx("div",{className:"space-y-4",children:e.classCollection.map(c=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-gray-200",children:c.className}),l.jsxs("span",{className:"text-slate-500 dark:text-gray-400",children:[c.percentage,"% (",c.totalCollected.toLocaleString()," / ",c.totalDue.toLocaleString(),")"]})]}),l.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${c.percentage>=80?"bg-emerald-500":c.percentage>=50?"bg-amber-500":"bg-red-500"}`,style:{width:`${c.percentage}%`}})})]},c.className))})]})]})},Iw=({isOpen:e,onClose:t,entityName:r,apiEndpoint:n,templateFields:a,onSuccess:s,instructions:i=[]})=>{const[o,c]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState(null),[m,p]=k.useState(null);if(!e)return null;const g=()=>{const S="data:text/csv;charset=utf-8,"+a.join(","),A=encodeURI(S),j=document.createElement("a");j.setAttribute("href",A),j.setAttribute("download",`${r.toLowerCase()}_import_template.csv`),document.body.appendChild(j),j.click(),document.body.removeChild(j)},x=S=>{S.target.files&&S.target.files[0]&&(c(S.target.files[0]),h(null),p(null))},v=S=>{const A=S.trim().split(`
`),j=A[0].split(",").map(C=>C.trim());return A.slice(1).map(C=>{const E=C.split(",").map(O=>O.trim()),F={};return j.forEach((O,T)=>{let H=E[T];(O==="gradeLevel"||O==="percentage"||O==="amount"||O==="applicableGrade")&&(H=parseFloat(H)),F[O]=H}),F})},y=async()=>{var S,A;if(!o){h("Please select a file");return}d(!0),h(null),p(null);try{const j=await o.text(),C=v(j),E=await Ee.post(n,C);p(E.data.message||`Successfully imported ${E.data.count} ${r.toLowerCase()}`),c(null),setTimeout(()=>{s(),t()},2e3)}catch(j){h(((A=(S=j.response)==null?void 0:S.data)==null?void 0:A.error)||`Failed to import ${r.toLowerCase()}`)}finally{d(!1)}},b=[`Upload a CSV file with ${r.toLowerCase()} details.`,`Required columns: ${a.join(", ")}.`,"Download the template CSV for the correct format."],N=i.length>0?i:b;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold",children:["Import ",r]}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:l.jsx(ea,{size:24})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[l.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Instructions"}),l.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 space-y-1",children:[N.map((S,A)=>l.jsx("li",{children:S},A)),l.jsx("li",{children:l.jsx("button",{onClick:g,className:"underline font-medium hover:text-blue-900",children:"Download Template CSV"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("label",{className:"flex-1 flex items-center justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 transition-colors",children:[l.jsx(Ni,{size:20,className:"mr-2 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:o?o.name:"Choose file..."}),l.jsx("input",{type:"file",accept:".csv",onChange:x,className:"hidden"})]})})]}),f&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[l.jsx(pc,{className:"text-red-600 mr-3 flex-shrink-0",size:20}),l.jsx("div",{className:"text-sm text-red-800",children:f})]}),m&&l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start",children:[l.jsx(ca,{className:"text-green-600 mr-3 flex-shrink-0",size:20}),l.jsx("div",{className:"text-sm text-green-800",children:m})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:u,children:"Cancel"}),l.jsx("button",{onClick:y,disabled:!o||u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ni,{size:18,className:"mr-2"}),"Import"]})})]})]})]})})})},TAe=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(!1),[i,o]=k.useState(null),[c,u]=k.useState({name:"",percentage:"",description:""}),[d,f]=k.useState(!1);k.useEffect(()=>{h()},[]);const h=async()=>{try{const x=await Ee.get("/scholarships");t(x.data)}catch(x){console.error("Error fetching scholarships:",x)}finally{n(!1)}},m=async x=>{x.preventDefault();try{const v={...c,percentage:Number(c.percentage)};i?await Ee.put(`/scholarships/${i}`,v):await Ee.post("/scholarships",v),s(!1),o(null),u({name:"",percentage:"",description:""}),h()}catch(v){console.error("Error saving scholarship:",v),alert("Failed to save scholarship")}},p=x=>{o(x.id),u({name:x.name,percentage:x.percentage.toString(),description:x.description||""}),s(!0)},g=async x=>{if(confirm("Are you sure you want to delete this scholarship?"))try{await Ee.delete(`/scholarships/${x}`),h()}catch(v){console.error("Error deleting scholarship:",v),alert("Failed to delete scholarship")}};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 dark:text-white",children:"Scholarship Programs"}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:()=>f(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-green-700 transition-colors",children:[l.jsx(Ni,{size:20}),l.jsx("span",{children:"Import Scholarships"})]}),l.jsxs("button",{onClick:()=>{o(null),u({name:"",percentage:"",description:""}),s(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:20}),l.jsx("span",{children:"Add Scholarship"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(x=>{var v;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-lg",children:l.jsx(jl,{size:24})}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>p(x),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:l.jsx(Al,{size:16})}),l.jsx("button",{onClick:()=>g(x.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:l.jsx(Cs,{size:16})})]})]}),l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1",children:x.name}),l.jsxs("div",{className:"flex items-baseline mb-4",children:[l.jsxs("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[x.percentage,"%"]}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-gray-400 ml-2",children:"Discount"})]}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mb-4 min-h-[40px]",children:x.description||"No description provided"}),l.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-slate-500 dark:text-gray-400",children:"Beneficiaries"}),l.jsxs("span",{className:"font-medium text-slate-800 dark:text-white",children:[((v=x._count)==null?void 0:v.students)||0," Students"]})]})]},x.id)}),e.length===0&&!r&&l.jsxs("div",{className:"col-span-full text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-600",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4",children:l.jsx(jl,{className:"text-slate-400",size:24})}),l.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No scholarships found"}),l.jsx("p",{className:"text-slate-500 dark:text-gray-400 mt-1",children:"Create a scholarship program to get started"})]})]}),a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-900 dark:text-white",children:i?"Edit Scholarship":"New Scholarship"}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Program Name"}),l.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"e.g. Presidential Scholarship",value:c.name,onChange:x=>u({...c,name:x.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Discount Percentage (%)"}),l.jsx("input",{type:"number",required:!0,min:"0",max:"100",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"0-100",value:c.percentage,onChange:x=>u({...c,percentage:x.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Description"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",rows:3,placeholder:"Optional description...",value:c.description,onChange:x=>u({...c,description:x.target.value})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:i?"Update":"Create"})]})]})]})}),l.jsx(Iw,{isOpen:d,onClose:()=>f(!1),entityName:"Scholarships",apiEndpoint:"/api/v1/scholarships/bulk",templateFields:["name","percentage","description"],onSuccess:h,instructions:["Upload a CSV file with scholarship details.","Required columns: name, percentage.","Optional column: description.","Percentage should be a number between 0 and 100."]})]})},PAe=({students:e,classes:t,value:r,onChange:n})=>{const[a,s]=k.useState("search"),[i,o]=k.useState(""),[c,u]=k.useState(""),[d,f]=k.useState(""),[h,m]=k.useState(!1),[p,g]=k.useState(0),x=k.useRef(null),v=k.useRef(null),y=k.useMemo(()=>e.find(E=>E.id===r),[e,r]),b=k.useMemo(()=>{let E=e;if(a==="search"&&i.trim()){const F=i.toLowerCase();E=e.filter(O=>O.firstName.toLowerCase().includes(F)||O.lastName.toLowerCase().includes(F)||O.admissionNumber.toLowerCase().includes(F)||`${O.firstName} ${O.lastName}`.toLowerCase().includes(F))}else if(a==="admission"&&c.trim()){const F=c.toLowerCase();E=e.filter(O=>O.admissionNumber.toLowerCase().includes(F))}else a==="class"&&d?E=e.filter(F=>{var O;return((O=F.class)==null?void 0:O.id)===d}):a==="search"&&!i.trim()&&(E=[]);return E.slice(0,10)},[e,a,i,c,d]);k.useEffect(()=>{const E=F=>{x.current&&!x.current.contains(F.target)&&m(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const N=E=>{if(!h){(E.key==="ArrowDown"||E.key==="Enter")&&m(!0);return}switch(E.key){case"ArrowDown":E.preventDefault(),g(F=>Math.min(F+1,b.length-1));break;case"ArrowUp":E.preventDefault(),g(F=>Math.max(F-1,0));break;case"Enter":E.preventDefault(),b[p]&&S(b[p]);break;case"Escape":m(!1);break}},S=E=>{n(E.id),o(""),u(""),m(!1)},A=()=>{n(""),o(""),u(""),f("")},j=()=>{if(!c.trim())return;const E=e.find(F=>F.admissionNumber.toLowerCase()===c.toLowerCase());E?S(E):m(!0)},C=[{id:"search",icon:ei,label:"Search"},{id:"admission",icon:BT,label:"Admission #"},{id:"class",icon:In,label:"By Class"}];return l.jsx("div",{ref:x,className:"relative",children:y?l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:[y.firstName[0],y.lastName[0]]}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-slate-800",children:[y.firstName," ",y.lastName]}),l.jsxs("p",{className:"text-sm text-slate-500",children:[y.admissionNumber,y.class&&`  ${y.class.name}`]})]})]}),l.jsx("button",{type:"button",onClick:A,className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:l.jsx(ea,{size:18})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex mb-2 bg-slate-100 rounded-lg p-0.5",children:C.map(({id:E,icon:F,label:O})=>l.jsxs("button",{type:"button",onClick:()=>{s(E),m(!1),o(""),u(""),f("")},className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-all ${a===E?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[l.jsx(F,{size:14}),O]},E))}),a==="search"&&l.jsxs("div",{className:"relative",children:[l.jsx(ei,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{ref:v,type:"text",value:i,onChange:E=>{o(E.target.value),m(!0),g(0)},onFocus:()=>i&&m(!0),onKeyDown:N,placeholder:"Type student name or admission number...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a==="admission"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(BT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",value:c,onChange:E=>{u(E.target.value.toUpperCase()),m(!0),g(0)},onKeyDown:E=>{E.key==="Enter"?(E.preventDefault(),j()):N(E)},placeholder:"e.g. STU2024001",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 uppercase"})]}),l.jsx("button",{type:"button",onClick:j,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Find"})]}),a==="class"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsxs("select",{value:d,onChange:E=>{f(E.target.value),m(!!E.target.value),g(0)},className:"w-full pl-10 pr-10 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white",children:[l.jsx("option",{value:"",children:"Select a class first..."}),t.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]}),l.jsx(Lj,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:18})]}),d&&l.jsxs("p",{className:"text-xs text-slate-500",children:[b.length," student",b.length!==1?"s":""," in this class"]})]}),h&&b.length>0&&l.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:b.map((E,F)=>l.jsxs("button",{type:"button",onClick:()=>S(E),onMouseEnter:()=>g(F),className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${F===p?"bg-blue-50":"hover:bg-slate-50"}`,children:[l.jsxs("div",{className:"w-9 h-9 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium text-sm",children:[E.firstName[0],E.lastName[0]]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-medium text-slate-800 truncate",children:[E.firstName," ",E.lastName]}),l.jsxs("p",{className:"text-sm text-slate-500 truncate",children:[E.admissionNumber,E.class&&`  ${E.class.name}`]})]})]},E.id))}),h&&(a==="search"&&i&&b.length===0||a==="admission"&&c&&b.length===0||a==="class"&&d&&b.length===0)&&l.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg p-4 text-center",children:[l.jsx(lo,{className:"mx-auto text-slate-300 mb-2",size:32}),l.jsx("p",{className:"text-slate-500 text-sm",children:"No students found"})]})]})})},OAe=({students:e,onPaymentSuccess:t})=>{var E;const[r,n]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,m]=k.useState(null),[p,g]=k.useState({studentId:"",amount:"",phone:"",country:"zm",operator:"airtel"}),[x,v]=k.useState("ALL");k.useEffect(()=>{y()},[]);const y=async()=>{try{s(!0);const F=await Ee.get("/payments/mobile-money");n(F.data.data||[])}catch(F){console.error("Error fetching mobile money collections:",F)}finally{s(!1)}},b=async F=>{var O,T,H,K;if(F.preventDefault(),!c){u(!0);try{const se=await Ee.post("/payments/mobile-money/initiate",{studentId:p.studentId,amount:Number(p.amount),phone:p.phone,country:p.country,operator:p.operator});alert(` ${se.data.message}

Reference: ${se.data.collection.reference}
Amount: ZMW ${se.data.collection.amount}

The customer should authorize the payment on their phone.`),o(!1),g({studentId:"",amount:"",phone:"",country:"zm",operator:"airtel"}),y()}catch(se){console.error("Error initiating mobile money payment:",se),alert(((T=(O=se.response)==null?void 0:O.data)==null?void 0:T.error)||((K=(H=se.response)==null?void 0:H.data)==null?void 0:K.message)||"Failed to initiate payment")}finally{u(!1)}}},N=async F=>{var O;f(F);try{const H=(await Ee.get(`/payments/mobile-money/status/${F}`)).data.collection;H.status==="SUCCESSFUL"?(alert(` Payment completed successfully!

Transaction ID: ${((O=H.payment)==null?void 0:O.transactionId)||"N/A"}`),y(),t==null||t()):H.status==="FAILED"?(alert(` Payment failed: ${H.reasonForFailure||"Unknown error"}`),y()):alert(` Payment still pending.

Status: ${H.status.replace("_"," ")}

The customer needs to authorize the payment on their phone.`)}catch(T){console.error("Error checking status:",T),alert("Failed to check payment status")}finally{f(null)}},S=F=>{const O=e.find(T=>T.id===F);g({...p,studentId:F,phone:(O==null?void 0:O.guardianPhone)||p.phone})},A=F=>{switch(F){case"SUCCESSFUL":return l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(ca,{size:12}),"Successful"]});case"FAILED":return l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[l.jsx(uh,{size:12}),"Failed"]});case"PAY_OFFLINE":return l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[l.jsx(Sl,{size:12}),"Awaiting Authorization"]});default:return l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:[l.jsx(pc,{size:12}),"Pending"]})}},j=F=>{switch(F.toLowerCase()){case"airtel":return l.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Airtel"});case"mtn":return l.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs font-medium rounded",children:"MTN"});case"tnm":return l.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"TNM"});default:return l.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-700 text-xs font-medium rounded",children:F})}},C=r.filter(F=>x==="ALL"||F.status===x);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(jN,{className:"text-blue-600 dark:text-blue-400",size:24}),"Mobile Money Collections"]}),l.jsx("p",{className:"text-slate-500 dark:text-gray-400 mt-1",children:"Request payments directly from customer phones via Lenco"})]}),l.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg",children:[l.jsx(Du,{size:18}),"Request Payment"]})]}),l.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:["ALL","PENDING","PAY_OFFLINE","SUCCESSFUL","FAILED"].map(F=>l.jsx("button",{onClick:()=>v(F),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${x===F?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-gray-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:F==="ALL"?"All":F==="PAY_OFFLINE"?"Awaiting Auth":F.charAt(0)+F.slice(1).toLowerCase()},F))}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Date"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Student"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Phone"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Operator"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Amount (ZMW)"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Reference"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Status"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a?l.jsx("tr",{children:l.jsxs("td",{colSpan:8,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:[l.jsx(Wd,{className:"inline-block animate-spin mr-2",size:18}),"Loading collections..."]})}):C.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4",children:l.jsx(jN,{className:"text-slate-400",size:32})}),l.jsx("p",{className:"text-slate-500 dark:text-gray-400 font-medium",children:"No mobile money collections found"}),l.jsx("p",{className:"text-slate-400 text-sm mt-1",children:'Click "Request Payment" to initiate a collection'})]})})}):C.map(F=>l.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsxs("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:[new Date(F.initiatedAt).toLocaleDateString(),l.jsx("div",{className:"text-xs text-slate-400",children:new Date(F.initiatedAt).toLocaleTimeString()})]}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsxs("div",{className:"font-medium text-slate-800 dark:text-white",children:[F.student.firstName," ",F.student.lastName]}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:F.student.admissionNumber})]}),l.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300 font-mono text-sm",children:F.phone}),l.jsx("td",{className:"px-6 py-4",children:j(F.operator)}),l.jsx("td",{className:"px-6 py-4 font-medium text-slate-800 dark:text-white",children:Number(F.amount).toLocaleString()}),l.jsx("td",{className:"px-6 py-4 font-mono text-xs text-slate-600 dark:text-gray-400",children:F.reference}),l.jsxs("td",{className:"px-6 py-4",children:[A(F.status),F.reasonForFailure&&l.jsx("div",{className:"text-xs text-red-500 mt-1",children:F.reasonForFailure})]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(F.status==="PENDING"||F.status==="PAY_OFFLINE")&&l.jsx("button",{onClick:()=>N(F.reference),disabled:d===F.reference,title:"Check Status",className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50",children:l.jsx(Wd,{size:18,className:d===F.reference?"animate-spin":""})}),l.jsxs("button",{onClick:()=>m(F),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-gray-300 bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600 rounded-lg transition-colors border border-slate-200 dark:border-slate-600",children:[l.jsx(Py,{size:16}),"View"]})]})})]},F.id))})]})})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(ex,{className:"text-blue-600 dark:text-blue-400",size:20}),"Request Mobile Money Payment"]}),l.jsx("button",{onClick:()=>o(!1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(ea,{size:20,className:"text-slate-500"})})]}),l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Student"}),l.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:p.studentId,onChange:F=>S(F.target.value),children:[l.jsx("option",{value:"",children:"Select a student"}),e.map(F=>l.jsxs("option",{value:F.id,children:[F.firstName," ",F.lastName," (",F.admissionNumber,")"]},F.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Amount (ZMW)"}),l.jsx("input",{type:"number",required:!0,min:"1",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"0.00",value:p.amount,onChange:F=>g({...p,amount:F.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Phone Number"}),l.jsx("input",{type:"tel",required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"e.g. 260971234567",value:p.phone,onChange:F=>g({...p,phone:F.target.value})}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400 mt-1",children:"Enter phone number with country code (e.g. 260 for Zambia)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Country"}),l.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:p.country,onChange:F=>{const O=F.target.value;g({...p,country:O,operator:"airtel"})},children:[l.jsx("option",{value:"zm",children:"Zambia"}),l.jsx("option",{value:"mw",children:"Malawi"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Mobile Operator"}),l.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:p.operator,onChange:F=>g({...p,operator:F.target.value}),children:p.country==="zm"?l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"airtel",children:"Airtel Money"}),l.jsx("option",{value:"mtn",children:"MTN Mobile Money"})]}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"airtel",children:"Airtel Money"}),l.jsx("option",{value:"tnm",children:"TNM Mpamba"})]})})]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(pc,{className:"text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",size:18}),l.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[l.jsx("p",{className:"font-medium mb-1",children:"How it works:"}),l.jsxs("ol",{className:"list-decimal list-inside text-blue-700 dark:text-blue-400 space-y-1",children:[l.jsx("li",{children:"Payment request is sent to the customer's phone"}),l.jsx("li",{children:"Customer enters their PIN to authorize"}),l.jsx("li",{children:"Payment is confirmed and recorded automatically"})]})]})]})}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:c,className:`px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center gap-2 transition-all ${c?"opacity-70 cursor-not-allowed":""}`,children:c?l.jsxs(l.Fragment,{children:[l.jsx(Wd,{size:16,className:"animate-spin"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Du,{size:16}),"Send Payment Request"]})})]})]})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-700",children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:"Transaction Details"}),l.jsx("button",{onClick:()=>m(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-gray-300 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-full p-1 transition-colors",children:l.jsx(ea,{size:20})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-slate-50 dark:bg-slate-700 rounded-xl border border-slate-100 dark:border-slate-600",children:[l.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-2",children:["ZMW ",Number(h.amount).toLocaleString()]}),A(h.status),h.reasonForFailure&&l.jsx("p",{className:"text-sm text-red-500 mt-2 text-center",children:h.reasonForFailure})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Student Name"}),l.jsxs("span",{className:"font-medium text-slate-800 dark:text-white",children:[h.student.firstName," ",h.student.lastName]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Admission Number"}),l.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:h.student.admissionNumber})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Phone Number"}),l.jsx("span",{className:"font-mono text-slate-800 dark:text-white",children:h.phone})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Operator"}),l.jsx("div",{className:"mt-1",children:j(h.operator)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Date Initiated"}),l.jsx("span",{className:"text-slate-800 dark:text-white",children:new Date(h.initiatedAt).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Collection Ref"}),l.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-gray-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded inline-block",children:h.reference})]}),((E=h.payment)==null?void 0:E.transactionId)&&l.jsxs("div",{className:"col-span-2 pt-2 border-t border-slate-100 dark:border-slate-700 mt-2",children:[l.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Transaction ID (Receipt)"}),l.jsx("span",{className:"font-mono text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-3 py-1.5 rounded-lg block w-full",children:h.payment.transactionId})]})]}),l.jsx("div",{className:"pt-4 mt-2 border-t border-slate-100 dark:border-slate-700 flex justify-end",children:l.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-gray-300 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:"Close"})})]})]})})]})};var Zh={},LAe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},PV={},Pi={};let W_;const FAe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Pi.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Pi.getSymbolTotalCodewords=function(t){return FAe[t]};Pi.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Pi.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');W_=t};Pi.isKanjiModeEnabled=function(){return typeof W_<"u"};Pi.toSJIS=function(t){return W_(t)};var Mw={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(Mw);function OV(){this.buffer=[],this.length=0}OV.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var DAe=OV;function Ix(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Ix.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};Ix.prototype.get=function(e,t){return this.data[e*this.size+t]};Ix.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Ix.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var IAe=Ix,LV={};(function(e){const t=Pi.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,s=t(n),i=s===145?26:Math.ceil((s-13)/(2*a-2))*2,o=[s-7];for(let c=1;c<a-1;c++)o[c]=o[c-1]-i;return o.push(6),o.reverse()},e.getPositions=function(n){const a=[],s=e.getRowColCoords(n),i=s.length;for(let o=0;o<i;o++)for(let c=0;c<i;c++)o===0&&c===0||o===0&&c===i-1||o===i-1&&c===0||a.push([s[o],s[c]]);return a}})(LV);var FV={};const MAe=Pi.getSymbolSize,JL=7;FV.getPositions=function(t){const r=MAe(t);return[[0,0],[r-JL,0],[0,r-JL]]};var DV={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const s=a.size;let i=0,o=0,c=0,u=null,d=null;for(let f=0;f<s;f++){o=c=0,u=d=null;for(let h=0;h<s;h++){let m=a.get(f,h);m===u?o++:(o>=5&&(i+=t.N1+(o-5)),u=m,o=1),m=a.get(h,f),m===d?c++:(c>=5&&(i+=t.N1+(c-5)),d=m,c=1)}o>=5&&(i+=t.N1+(o-5)),c>=5&&(i+=t.N1+(c-5))}return i},e.getPenaltyN2=function(a){const s=a.size;let i=0;for(let o=0;o<s-1;o++)for(let c=0;c<s-1;c++){const u=a.get(o,c)+a.get(o,c+1)+a.get(o+1,c)+a.get(o+1,c+1);(u===4||u===0)&&i++}return i*t.N2},e.getPenaltyN3=function(a){const s=a.size;let i=0,o=0,c=0;for(let u=0;u<s;u++){o=c=0;for(let d=0;d<s;d++)o=o<<1&2047|a.get(u,d),d>=10&&(o===1488||o===93)&&i++,c=c<<1&2047|a.get(d,u),d>=10&&(c===1488||c===93)&&i++}return i*t.N3},e.getPenaltyN4=function(a){let s=0;const i=a.data.length;for(let c=0;c<i;c++)s+=a.data[c];return Math.abs(Math.ceil(s*100/i/5)-10)*t.N4};function r(n,a,s){switch(n){case e.Patterns.PATTERN000:return(a+s)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(a+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return a*s%2+a*s%3===0;case e.Patterns.PATTERN110:return(a*s%2+a*s%3)%2===0;case e.Patterns.PATTERN111:return(a*s%3+(a+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,s){const i=s.size;for(let o=0;o<i;o++)for(let c=0;c<i;c++)s.isReserved(c,o)||s.xor(c,o,r(a,c,o))},e.getBestMask=function(a,s){const i=Object.keys(e.Patterns).length;let o=0,c=1/0;for(let u=0;u<i;u++){s(u),e.applyMask(u,a);const d=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(u,a),d<c&&(c=d,o=u)}return o}})(DV);var Rw={};const bu=Mw,jv=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Av=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Rw.getBlocksCount=function(t,r){switch(r){case bu.L:return jv[(t-1)*4+0];case bu.M:return jv[(t-1)*4+1];case bu.Q:return jv[(t-1)*4+2];case bu.H:return jv[(t-1)*4+3];default:return}};Rw.getTotalCodewordsCount=function(t,r){switch(r){case bu.L:return Av[(t-1)*4+0];case bu.M:return Av[(t-1)*4+1];case bu.Q:return Av[(t-1)*4+2];case bu.H:return Av[(t-1)*4+3];default:return}};var IV={},Bw={};const Pp=new Uint8Array(512),Bb=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Pp[r]=t,Bb[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Pp[r]=Pp[r-255]})();Bw.log=function(t){if(t<1)throw new Error("log("+t+")");return Bb[t]};Bw.exp=function(t){return Pp[t]};Bw.mul=function(t,r){return t===0||r===0?0:Pp[Bb[t]+Bb[r]]};(function(e){const t=Bw;e.mul=function(n,a){const s=new Uint8Array(n.length+a.length-1);for(let i=0;i<n.length;i++)for(let o=0;o<a.length;o++)s[i+o]^=t.mul(n[i],a[o]);return s},e.mod=function(n,a){let s=new Uint8Array(n);for(;s.length-a.length>=0;){const i=s[0];for(let c=0;c<a.length;c++)s[c]^=t.mul(a[c],i);let o=0;for(;o<s.length&&s[o]===0;)o++;s=s.slice(o)}return s},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let s=0;s<n;s++)a=e.mul(a,new Uint8Array([1,t.exp(s)]));return a}})(IV);const MV=IV;function H_(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}H_.prototype.initialize=function(t){this.degree=t,this.genPoly=MV.generateECPolynomial(this.degree)};H_.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=MV.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const s=new Uint8Array(this.degree);return s.set(n,a),s}return n};var RAe=H_,RV={},id={},V_={};V_.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Il={};const BV="[0-9]+",BAe="[A-Z $%*+\\-./:]+";let Mg="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Mg=Mg.replace(/u/g,"\\u");const zAe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Mg+`)(?:.|[\r
]))+`;Il.KANJI=new RegExp(Mg,"g");Il.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Il.BYTE=new RegExp(zAe,"g");Il.NUMERIC=new RegExp(BV,"g");Il.ALPHANUMERIC=new RegExp(BAe,"g");const UAe=new RegExp("^"+Mg+"$"),$Ae=new RegExp("^"+BV+"$"),WAe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Il.testKanji=function(t){return UAe.test(t)};Il.testNumeric=function(t){return $Ae.test(t)};Il.testAlphanumeric=function(t){return WAe.test(t)};(function(e){const t=V_,r=Il;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,i){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?s.ccBits[0]:i<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return r.testNumeric(s)?e.NUMERIC:r.testAlphanumeric(s)?e.ALPHANUMERIC:r.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(s,i){if(e.isValid(s))return s;try{return n(s)}catch{return i}}})(id);(function(e){const t=Pi,r=Rw,n=Mw,a=id,s=V_,i=7973,o=t.getBCHDigit(i);function c(h,m,p){for(let g=1;g<=40;g++)if(m<=e.getCapacity(g,p,h))return g}function u(h,m){return a.getCharCountIndicator(h,m)+4}function d(h,m){let p=0;return h.forEach(function(g){const x=u(g.mode,m);p+=x+g.getBitsLength()}),p}function f(h,m){for(let p=1;p<=40;p++)if(d(h,p)<=e.getCapacity(p,m,a.MIXED))return p}e.from=function(m,p){return s.isValid(m)?parseInt(m,10):p},e.getCapacity=function(m,p,g){if(!s.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=a.BYTE);const x=t.getSymbolTotalCodewords(m),v=r.getTotalCodewordsCount(m,p),y=(x-v)*8;if(g===a.MIXED)return y;const b=y-u(g,m);switch(g){case a.NUMERIC:return Math.floor(b/10*3);case a.ALPHANUMERIC:return Math.floor(b/11*2);case a.KANJI:return Math.floor(b/13);case a.BYTE:default:return Math.floor(b/8)}},e.getBestVersionForData=function(m,p){let g;const x=n.from(p,n.M);if(Array.isArray(m)){if(m.length>1)return f(m,x);if(m.length===0)return 1;g=m[0]}else g=m;return c(g.mode,g.getLength(),x)},e.getEncodedBits=function(m){if(!s.isValid(m)||m<7)throw new Error("Invalid QR Code version");let p=m<<12;for(;t.getBCHDigit(p)-o>=0;)p^=i<<t.getBCHDigit(p)-o;return m<<12|p}})(RV);var zV={};const QS=Pi,UV=1335,HAe=21522,QL=QS.getBCHDigit(UV);zV.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;QS.getBCHDigit(a)-QL>=0;)a^=UV<<QS.getBCHDigit(a)-QL;return(n<<10|a)^HAe};var $V={};const VAe=id;function Nh(e){this.mode=VAe.NUMERIC,this.data=e.toString()}Nh.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Nh.prototype.getLength=function(){return this.data.length};Nh.prototype.getBitsLength=function(){return Nh.getBitsLength(this.data.length)};Nh.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,s*3+1))};var qAe=Nh;const GAe=id,n4=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Sh(e){this.mode=GAe.ALPHANUMERIC,this.data=e}Sh.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Sh.prototype.getLength=function(){return this.data.length};Sh.prototype.getBitsLength=function(){return Sh.getBitsLength(this.data.length)};Sh.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=n4.indexOf(this.data[r])*45;n+=n4.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(n4.indexOf(this.data[r]),6)};var KAe=Sh;const YAe=id;function jh(e){this.mode=YAe.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}jh.getBitsLength=function(t){return t*8};jh.prototype.getLength=function(){return this.data.length};jh.prototype.getBitsLength=function(){return jh.getBitsLength(this.data.length)};jh.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var XAe=jh;const ZAe=id,JAe=Pi;function Ah(e){this.mode=ZAe.KANJI,this.data=e}Ah.getBitsLength=function(t){return t*13};Ah.prototype.getLength=function(){return this.data.length};Ah.prototype.getBitsLength=function(){return Ah.getBitsLength(this.data.length)};Ah.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=JAe.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var QAe=Ah,WV={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var s={},i={};i[n]=0;var o=t.PriorityQueue.make();o.push(n,0);for(var c,u,d,f,h,m,p,g,x;!o.empty();){c=o.pop(),u=c.value,f=c.cost,h=r[u]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],p=f+m,g=i[d],x=typeof i[d]>"u",(x||g>p)&&(i[d]=p,o.push(d,p),s[d]=u))}if(typeof a<"u"&&typeof i[a]>"u"){var v=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(v)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],s=n;s;)a.push(s),r[s],s=r[s];return a.reverse(),a},find_path:function(r,n,a){var s=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(s,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(WV);var e6e=WV.exports;(function(e){const t=id,r=qAe,n=KAe,a=XAe,s=QAe,i=Il,o=Pi,c=e6e;function u(v){return unescape(encodeURIComponent(v)).length}function d(v,y,b){const N=[];let S;for(;(S=v.exec(b))!==null;)N.push({data:S[0],index:S.index,mode:y,length:S[0].length});return N}function f(v){const y=d(i.NUMERIC,t.NUMERIC,v),b=d(i.ALPHANUMERIC,t.ALPHANUMERIC,v);let N,S;return o.isKanjiModeEnabled()?(N=d(i.BYTE,t.BYTE,v),S=d(i.KANJI,t.KANJI,v)):(N=d(i.BYTE_KANJI,t.BYTE,v),S=[]),y.concat(b,N,S).sort(function(j,C){return j.index-C.index}).map(function(j){return{data:j.data,mode:j.mode,length:j.length}})}function h(v,y){switch(y){case t.NUMERIC:return r.getBitsLength(v);case t.ALPHANUMERIC:return n.getBitsLength(v);case t.KANJI:return s.getBitsLength(v);case t.BYTE:return a.getBitsLength(v)}}function m(v){return v.reduce(function(y,b){const N=y.length-1>=0?y[y.length-1]:null;return N&&N.mode===b.mode?(y[y.length-1].data+=b.data,y):(y.push(b),y)},[])}function p(v){const y=[];for(let b=0;b<v.length;b++){const N=v[b];switch(N.mode){case t.NUMERIC:y.push([N,{data:N.data,mode:t.ALPHANUMERIC,length:N.length},{data:N.data,mode:t.BYTE,length:N.length}]);break;case t.ALPHANUMERIC:y.push([N,{data:N.data,mode:t.BYTE,length:N.length}]);break;case t.KANJI:y.push([N,{data:N.data,mode:t.BYTE,length:u(N.data)}]);break;case t.BYTE:y.push([{data:N.data,mode:t.BYTE,length:u(N.data)}])}}return y}function g(v,y){const b={},N={start:{}};let S=["start"];for(let A=0;A<v.length;A++){const j=v[A],C=[];for(let E=0;E<j.length;E++){const F=j[E],O=""+A+E;C.push(O),b[O]={node:F,lastCount:0},N[O]={};for(let T=0;T<S.length;T++){const H=S[T];b[H]&&b[H].node.mode===F.mode?(N[H][O]=h(b[H].lastCount+F.length,F.mode)-h(b[H].lastCount,F.mode),b[H].lastCount+=F.length):(b[H]&&(b[H].lastCount=F.length),N[H][O]=h(F.length,F.mode)+4+t.getCharCountIndicator(F.mode,y))}}S=C}for(let A=0;A<S.length;A++)N[S[A]].end=0;return{map:N,table:b}}function x(v,y){let b;const N=t.getBestModeForData(v);if(b=t.from(y,N),b!==t.BYTE&&b.bit<N.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(b)+`.
 Suggested mode is: `+t.toString(N));switch(b===t.KANJI&&!o.isKanjiModeEnabled()&&(b=t.BYTE),b){case t.NUMERIC:return new r(v);case t.ALPHANUMERIC:return new n(v);case t.KANJI:return new s(v);case t.BYTE:return new a(v)}}e.fromArray=function(y){return y.reduce(function(b,N){return typeof N=="string"?b.push(x(N,null)):N.data&&b.push(x(N.data,N.mode)),b},[])},e.fromString=function(y,b){const N=f(y,o.isKanjiModeEnabled()),S=p(N),A=g(S,b),j=c.find_path(A.map,"start","end"),C=[];for(let E=1;E<j.length-1;E++)C.push(A.table[j[E]].node);return e.fromArray(m(C))},e.rawSplit=function(y){return e.fromArray(f(y,o.isKanjiModeEnabled()))}})($V);const zw=Pi,a4=Mw,t6e=DAe,r6e=IAe,n6e=LV,a6e=FV,e3=DV,t3=Rw,s6e=RAe,zb=RV,i6e=zV,o6e=id,s4=$V;function l6e(e,t){const r=e.size,n=a6e.getPositions(t);for(let a=0;a<n.length;a++){const s=n[a][0],i=n[a][1];for(let o=-1;o<=7;o++)if(!(s+o<=-1||r<=s+o))for(let c=-1;c<=7;c++)i+c<=-1||r<=i+c||(o>=0&&o<=6&&(c===0||c===6)||c>=0&&c<=6&&(o===0||o===6)||o>=2&&o<=4&&c>=2&&c<=4?e.set(s+o,i+c,!0,!0):e.set(s+o,i+c,!1,!0))}}function c6e(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function u6e(e,t){const r=n6e.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],s=r[n][1];for(let i=-2;i<=2;i++)for(let o=-2;o<=2;o++)i===-2||i===2||o===-2||o===2||i===0&&o===0?e.set(a+i,s+o,!0,!0):e.set(a+i,s+o,!1,!0)}}function d6e(e,t){const r=e.size,n=zb.getEncodedBits(t);let a,s,i;for(let o=0;o<18;o++)a=Math.floor(o/3),s=o%3+r-8-3,i=(n>>o&1)===1,e.set(a,s,i,!0),e.set(s,a,i,!0)}function i4(e,t,r){const n=e.size,a=i6e.getEncodedBits(t,r);let s,i;for(s=0;s<15;s++)i=(a>>s&1)===1,s<6?e.set(s,8,i,!0):s<8?e.set(s+1,8,i,!0):e.set(n-15+s,8,i,!0),s<8?e.set(8,n-s-1,i,!0):s<9?e.set(8,15-s-1+1,i,!0):e.set(8,15-s-1,i,!0);e.set(n-8,8,1,!0)}function f6e(e,t){const r=e.size;let n=-1,a=r-1,s=7,i=0;for(let o=r-1;o>0;o-=2)for(o===6&&o--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,o-c)){let u=!1;i<t.length&&(u=(t[i]>>>s&1)===1),e.set(a,o-c,u),s--,s===-1&&(i++,s=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function h6e(e,t,r){const n=new t6e;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),o6e.getCharCountIndicator(c.mode,e)),c.write(n)});const a=zw.getSymbolTotalCodewords(e),s=t3.getTotalCodewordsCount(e,t),i=(a-s)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const o=(i-n.getLengthInBits())/8;for(let c=0;c<o;c++)n.put(c%2?17:236,8);return m6e(n,e,t)}function m6e(e,t,r){const n=zw.getSymbolTotalCodewords(t),a=t3.getTotalCodewordsCount(t,r),s=n-a,i=t3.getBlocksCount(t,r),o=n%i,c=i-o,u=Math.floor(n/i),d=Math.floor(s/i),f=d+1,h=u-d,m=new s6e(h);let p=0;const g=new Array(i),x=new Array(i);let v=0;const y=new Uint8Array(e.buffer);for(let j=0;j<i;j++){const C=j<c?d:f;g[j]=y.slice(p,p+C),x[j]=m.encode(g[j]),p+=C,v=Math.max(v,C)}const b=new Uint8Array(n);let N=0,S,A;for(S=0;S<v;S++)for(A=0;A<i;A++)S<g[A].length&&(b[N++]=g[A][S]);for(S=0;S<h;S++)for(A=0;A<i;A++)b[N++]=x[A][S];return b}function p6e(e,t,r,n){let a;if(Array.isArray(e))a=s4.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=s4.rawSplit(e);u=zb.getBestVersionForData(d,r)}a=s4.fromString(e,u||40)}else throw new Error("Invalid data");const s=zb.getBestVersionForData(a,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const i=h6e(t,r,a),o=zw.getSymbolSize(t),c=new r6e(o);return l6e(c,t),c6e(c),u6e(c,t),i4(c,r,0),t>=7&&d6e(c,t),f6e(c,i),isNaN(n)&&(n=e3.getBestMask(c,i4.bind(null,c,r))),e3.applyMask(n,c),i4(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}PV.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=a4.M,a,s;return typeof r<"u"&&(n=a4.from(r.errorCorrectionLevel,a4.M),a=zb.from(r.version),s=e3.from(r.maskPattern),r.toSJISFunc&&zw.setToSJISFunction(r.toSJISFunc)),p6e(t,a,n,s)};var HV={},q_={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:s,scale:s?4:i,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const s=e.getScale(n,a);return Math.floor((n+a.margin*2)*s)},e.qrToImageData=function(n,a,s){const i=a.modules.size,o=a.modules.data,c=e.getScale(i,s),u=Math.floor((i+s.margin*2)*c),d=s.margin*c,f=[s.color.light,s.color.dark];for(let h=0;h<u;h++)for(let m=0;m<u;m++){let p=(h*u+m)*4,g=s.color.light;if(h>=d&&m>=d&&h<u-d&&m<u-d){const x=Math.floor((h-d)/c),v=Math.floor((m-d)/c);g=f[o[x*i+v]?1:0]}n[p++]=g.r,n[p++]=g.g,n[p++]=g.b,n[p]=g.a}}})(q_);(function(e){const t=q_;function r(a,s,i){a.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=i,s.width=i,s.style.height=i+"px",s.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,i,o){let c=o,u=i;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),i||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(s.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return t.qrToImageData(h.data,s,c),r(f,u,d),f.putImageData(h,0,0),u},e.renderToDataURL=function(s,i,o){let c=o;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),c||(c={});const u=e.render(s,i,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(HV);var VV={};const g6e=q_;function eF(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function o4(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function x6e(e,t,r){let n="",a=0,s=!1,i=0;for(let o=0;o<e.length;o++){const c=Math.floor(o%t),u=Math.floor(o/t);!c&&!s&&(s=!0),e[o]?(i++,o>0&&c>0&&e[o-1]||(n+=s?o4("M",c+r,.5+u+r):o4("m",a,0),a=0,s=!1),c+1<t&&e[o+1]||(n+=o4("h",i),i=0)):a++}return n}VV.render=function(t,r,n){const a=g6e.getOptions(r),s=t.modules.size,i=t.modules.data,o=s+a.margin*2,c=a.color.light.a?"<path "+eF(a.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",u="<path "+eF(a.color.dark,"stroke")+' d="'+x6e(i,s,a.margin)+'"/>',d='viewBox="0 0 '+o+" "+o+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const v6e=LAe,r3=PV,qV=HV,y6e=VV;function G_(e,t,r,n,a){const s=[].slice.call(arguments,1),i=s.length,o=typeof s[i-1]=="function";if(!o&&!v6e())throw new Error("Callback required as last argument");if(o){if(i<2)throw new Error("Too few arguments provided");i===2?(a=r,r=t,t=n=void 0):i===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(r=t,t=n=void 0):i===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=r3.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=r3.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}Zh.create=r3.create;Zh.toCanvas=G_.bind(null,qV.render);Zh.toDataURL=G_.bind(null,qV.renderToDataURL);Zh.toString=G_.bind(null,function(e,t,r){return y6e.render(e,r)});const b6e=e=>e===0?"Nursery":`Grade ${e}`,w6e=()=>{const[e,t]=k.useState("payments"),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,o]=k.useState([]),[c,u]=k.useState([]),[d,f]=k.useState([]),[h,m]=k.useState(!0),[p,g]=k.useState(!1),[x,v]=k.useState(!1),[y,b]=k.useState(!1),[N,S]=k.useState(null),[A,j]=k.useState(""),[C,E]=k.useState({start:"",end:""}),[F,O]=k.useState("ALL"),[T,H]=k.useState("ALL"),[K,se]=k.useState({totalRevenue:0,totalTransactions:0,pendingFees:0,overdueStudentsCount:0}),[M,B]=k.useState({name:"",amount:"",academicTermId:"",applicableGrade:""}),[Y,z]=k.useState(null),[Q,de]=k.useState(""),[L,R]=k.useState(""),[U,I]=k.useState({studentId:"",amount:"",method:"CASH",notes:""}),[X,V]=k.useState(!1),[ee,G]=k.useState(!1),[ue,ve]=k.useState("completed"),[q,Me]=k.useState([]),[He,Ae]=k.useState(!1),[le,De]=k.useState([]),[Je,Ve]=k.useState(!1);k.useEffect(()=>{ge(),tt(),ut(),bt(),ze(),ye()},[]);const ye=async()=>{try{const be=await Ee.get("/payments/stats");se(be.data)}catch(be){console.error("Error fetching finance stats:",be)}},ge=async()=>{try{const be=await Ee.get("/payments");be.data.data&&Array.isArray(be.data.data)?n(be.data.data):Array.isArray(be.data)?n(be.data):n([])}catch(be){console.error("Error fetching payments:",be)}finally{m(!1)}},ze=async()=>{try{const Dt=(await Ee.get("/students")).data.map(Ot=>({id:Ot.id,firstName:Ot.firstName,lastName:Ot.lastName,admissionNumber:Ot.admissionNumber,guardianPhone:Ot.guardianPhone||"",class:Ot.class||void 0}));f(Dt)}catch(be){console.error("Error fetching students:",be)}},tt=async()=>{try{const be=await Ee.get("/fees/templates");s(be.data)}catch(be){console.error("Error fetching fee templates:",be)}},ut=async()=>{try{const be=await Ee.get("/academic-terms");o(be.data)}catch(be){console.error("Error fetching academic terms:",be)}},bt=async()=>{try{const be=await Ee.get("/classes");u(be.data)}catch(be){console.error("Error fetching classes:",be)}},St=async()=>{try{Y?await Ee.put(`/fees/templates/${Y.id}`,{...M,amount:Number(M.amount),applicableGrade:Number(M.applicableGrade)}):await Ee.post("/fees/templates",{...M,amount:Number(M.amount),applicableGrade:Number(M.applicableGrade)}),v(!1),z(null),B({name:"",amount:"",academicTermId:"",applicableGrade:""}),tt()}catch(be){console.error("Error saving fee template:",be),alert("Failed to save fee template")}},At=be=>{z(be),B({name:be.name,amount:be.amount.toString(),academicTermId:be.academicTermId,applicableGrade:be.applicableGrade.toString()}),v(!0)},Ft=async be=>{var Dt,Ot;if(window.confirm("Are you sure you want to delete this fee template?"))try{await Ee.delete(`/fees/templates/${be}`),tt()}catch(It){console.error("Error deleting fee template:",It),alert(((Ot=(Dt=It.response)==null?void 0:Dt.data)==null?void 0:Ot.error)||"Failed to delete fee template")}},xt=async()=>{var be,Dt;if(!(!N||!Q))try{const Ot=await Ee.post("/fees/assign-class",{feeTemplateId:N,classId:Q,dueDate:L||void 0});b(!1),de(""),R(""),S(null);const It=Ot.data;let jt=`Successfully assigned fee to ${It.assigned} student(s)`;It.alreadyAssigned>0&&(jt+=`
${It.alreadyAssigned} student(s) already had this fee assigned`),It.failed>0&&(jt+=`
${It.failed} assignment(s) failed`),alert(jt)}catch(Ot){console.error("Error assigning fee:",Ot);const It=((Dt=(be=Ot.response)==null?void 0:be.data)==null?void 0:Dt.error)||"Failed to assign fee";alert(typeof It=="string"?It:JSON.stringify(It))}},[st,rt]=k.useState(!1),ar=async(be,Dt=!1)=>{var Ot,It,jt;if(be.preventDefault(),!st){rt(!0);try{await Ee.post("/payments",{...U,amount:Number(U.amount),forceCreate:Dt}),g(!1),I({studentId:"",amount:"",method:"CASH",notes:""}),ge()}catch(qt){if(console.error("Error recording payment:",qt),((Ot=qt.response)==null?void 0:Ot.status)===409&&((jt=(It=qt.response)==null?void 0:It.data)==null?void 0:jt.warning)==="POTENTIAL_DUPLICATE"){const ra=qt.response.data.existingPayment,Ge=` Potential Duplicate Detected!

A similar payment was found:
 Amount: ZMW ${ra.amount}
 Transaction ID: ${ra.transactionId}
 Method: ${ra.method}
 Date: ${new Date(ra.paymentDate).toLocaleString()}

${qt.response.data.message}

Do you want to record this payment anyway?`;if(window.confirm(Ge))try{await Ee.post("/payments",{...U,amount:Number(U.amount),forceCreate:!0}),g(!1),I({studentId:"",amount:"",method:"CASH",notes:""}),ge()}catch(xr){console.error("Error on retry:",xr),alert("Failed to record payment")}}else alert("Failed to record payment")}finally{rt(!1)}}},_t=async be=>{var Ot,It;const Dt=window.prompt("Please provide a reason for voiding this payment:");if(!Dt||Dt.trim().length<5){Dt!==null&&alert("Please provide a reason with at least 5 characters");return}try{await Ee.post(`/payments/${be}/void`,{reason:Dt}),alert("Payment voided successfully"),ge()}catch(jt){console.error("Error voiding payment:",jt),alert(((It=(Ot=jt.response)==null?void 0:Ot.data)==null?void 0:It.message)||"Failed to void payment")}},$r=r.filter(be=>{var Ge,xr;const Dt=be.student.firstName.toLowerCase().includes(A.toLowerCase())||be.student.lastName.toLowerCase().includes(A.toLowerCase())||be.student.admissionNumber.toLowerCase().includes(A.toLowerCase())||((Ge=be.transactionId)==null?void 0:Ge.toLowerCase().includes(A.toLowerCase())),Ot=F==="ALL"||be.method===F,It=T==="ALL"||((xr=be.student.class)==null?void 0:xr.id)===T,jt=new Date(be.paymentDate),qt=(!C.start||jt>=new Date(C.start))&&(!C.end||jt<=new Date(C.end)),ra=ue==="completed"?be.status==="COMPLETED":be.status==="VOIDED";return Dt&&Ot&&It&&qt&&ra}),rr=async()=>{Ae(!0);try{const be=await Ee.get("/fee-reminders/outstanding");Me(be.data)}catch(be){console.error("Error fetching debtors:",be)}finally{Ae(!1)}},gr=async(be,Dt=!1)=>{Ve(!0);try{const Ot=await Ee.post("/fee-reminders/send",{studentIds:be||le,isOverdue:Dt});alert(`${Ot.data.message}

Emails sent: ${Ot.data.results.emailsSent}
SMS sent: ${Ot.data.results.smsSent}`),De([])}catch(Ot){console.error("Error sending reminders:",Ot),alert("Failed to send reminders")}finally{Ve(!1)}},Is=async be=>{var Dt;try{const Ot=await Ee.get("/settings"),It=Ot.data.schoolName||"School",jt=Ot.data.schoolAddress||"",qt=Ot.data.schoolPhone||"",ra=Ot.data.schoolEmail||"",Ge=new Et,xr=Ge.internal.pageSize.getWidth(),xs=Ge.internal.pageSize.getHeight(),Pt=JSON.stringify({id:be.id,student:`${be.student.firstName} ${be.student.lastName}`,amount:be.amount,date:be.paymentDate,school:It,verified:!0}),vs=await Zh.toDataURL(Pt,{width:120,margin:0,color:{dark:"#1e293b",light:"#ffffff"}}),jn=[30,58,138],pa=[241,245,249],Wr=[30,41,59],vr=[100,116,139];Ge.setFillColor(...jn),Ge.rect(0,0,xr,5,"F"),Ge.setTextColor(...jn),Ge.setFontSize(18),Ge.setFont("times","bold"),Ge.text(It.toUpperCase(),14,20),Ge.setFont("helvetica","normal"),Ge.setFontSize(9),Ge.setTextColor(...vr);let te=26;jt&&(Ge.text(jt,14,te),te+=5),(qt||ra)&&Ge.text([qt,ra].filter(Boolean).join(" | "),14,te);const he=40;Ge.setDrawColor(226,232,240),Ge.line(14,he,xr-14,he);const oe=he+15;Ge.setFont("helvetica","bold"),Ge.setFontSize(10),Ge.setTextColor(...vr),Ge.text("OFFICIAL RECEIPT",14,oe),Ge.setFontSize(16),Ge.setTextColor(0,0,0),Ge.text(`#${be.id.substring(0,8).toUpperCase()}`,14,oe+8),Ge.setFontSize(10),Ge.setTextColor(...vr),Ge.text("Date Issued:",xr-50,oe,{align:"right"}),Ge.setFont("helvetica","bold"),Ge.setTextColor(...Wr),Ge.text(new Date(be.paymentDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),xr-14,oe,{align:"right"}),Ge.setFillColor(220,252,231),Ge.setTextColor(22,163,74),Ge.roundedRect(xr-44,oe+3,30,8,4,4,"F"),Ge.setFontSize(7),Ge.text("VERIFIED",xr-29,oe+8,{align:"center"});const ce=80,me=(xr-34)/2;Ge.setFont("helvetica","bold"),Ge.setFontSize(11),Ge.setTextColor(...jn),Ge.text("STUDENT INFORMATION",14,ce),Ge.setFontSize(10),Ge.setFont("helvetica","normal"),Ge.setTextColor(...vr),Ge.text("Name:",14,ce+10),Ge.text("Admission No:",14,ce+17),Ge.text("Class:",14,ce+24),Ge.setTextColor(...Wr),Ge.setFont("helvetica","bold"),Ge.text(`${be.student.firstName} ${be.student.lastName}`,50,ce+10),Ge.text(be.student.admissionNumber,50,ce+17),Ge.text(((Dt=be.student.class)==null?void 0:Dt.name)||"N/A",50,ce+24);const pe=14+me+6;Ge.setFont("helvetica","bold"),Ge.setFontSize(11),Ge.setTextColor(...jn),Ge.text("PAYMENT DETAILS",pe,ce),Ge.setFontSize(10),Ge.setFont("helvetica","normal"),Ge.setTextColor(...vr),Ge.text("Payment Method:",pe,ce+10),Ge.text("Reference No:",pe,ce+17),Ge.text("Received By:",pe,ce+24),Ge.setTextColor(...Wr),Ge.setFont("helvetica","bold"),Ge.text(be.method.replace("_"," "),pe+40,ce+10),Ge.text(be.transactionId||"N/A",pe+40,ce+17),Ge.text(be.recordedBy.fullName,pe+40,ce+24),C2(Ge,{startY:ce+40,head:[["DESCRIPTION","AMOUNT (ZMW)"]],body:[["School Fees Payment",Number(be.amount).toLocaleString("en-US",{minimumFractionDigits:2})]],theme:"plain",headStyles:{fillColor:[248,250,252],textColor:[71,85,105],fontStyle:"bold",fontSize:9,halign:"left",cellPadding:10,lineWidth:{bottom:.5},lineColor:[226,232,240]},bodyStyles:{fontSize:11,textColor:[15,23,42],cellPadding:12,valign:"middle",lineWidth:{bottom:.5},lineColor:[241,245,249]},columnStyles:{1:{halign:"right",fontStyle:"bold"}},margin:{left:14,right:14}});const Ce=Ge.lastAutoTable.finalY+10;Ge.setFillColor(...pa),Ge.roundedRect(xr-70,Ce,56,20,1,1,"F"),Ge.setFontSize(9),Ge.setTextColor(...vr),Ge.text("Total Amount",xr-65,Ce+7),Ge.setFontSize(14),Ge.setTextColor(...jn),Ge.setFont("helvetica","bold"),Ge.text(`ZMW ${Number(be.amount).toLocaleString("en-US",{minimumFractionDigits:2})}`,xr-65,Ce+15);const Be=xs-50;Ge.setDrawColor(226,232,240),Ge.line(14,Be-5,xr-14,Be-5),Ge.addImage(vs,"PNG",14,Be+5,25,25),Ge.setFontSize(10),Ge.setTextColor(...jn),Ge.setFont("helvetica","bold"),Ge.text("VERIFIED DOCUMENT",45,Be+12),Ge.setFontSize(8),Ge.setFont("helvetica","normal"),Ge.setTextColor(...vr),Ge.text("This receipt is system-generated and includes a secure QR code.",45,Be+18),Ge.text("No signature is required. Scan the QR code to verify authenticity.",45,Be+23),Ge.setFontSize(8),Ge.setTextColor(203,213,225),Ge.text(`Generated on ${new Date().toLocaleString()}`,xr-14,xs-10,{align:"right"}),Ge.save(`receipt_${be.student.lastName}_${be.id.substring(0,8)}.pdf`)}catch(Ot){console.error("Error generating receipt:",Ot),alert("Failed to generate receipt")}},nr=be=>{De(Dt=>Dt.includes(be)?Dt.filter(Ot=>Ot!==be):[...Dt,be])},Oi=()=>{le.length===q.length?De([]):De(q.map(be=>be.id))};return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Finance & Payments"}),l.jsx("p",{className:"text-slate-500 dark:text-gray-400",children:"Manage school fees and transactions"})]}),l.jsxs("div",{className:"flex space-x-3",children:[e==="fees"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>V(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-green-700 transition-colors",children:[l.jsx(Ni,{size:20}),l.jsx("span",{children:"Import Fee Templates"})]}),l.jsxs("button",{onClick:()=>{z(null),B({name:"",amount:"",academicTermId:"",applicableGrade:""}),v(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:20}),l.jsx("span",{children:"Create Fee Template"})]})]}),e==="payments"&&l.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:20}),l.jsx("span",{children:"Record Payment"})]})]})]}),l.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg w-full md:w-fit mb-6 overflow-x-auto scrollbar-hide",children:[l.jsx("button",{onClick:()=>t("payments"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="payments"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Payments"}),l.jsxs("button",{onClick:()=>t("mobile-money"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${e==="mobile-money"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:[l.jsx(jN,{size:16}),"Mobile Money"]}),l.jsx("button",{onClick:()=>t("fees"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="fees"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Fee Structures"}),l.jsx("button",{onClick:()=>t("scholarships"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="scholarships"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Scholarships"}),l.jsxs("button",{onClick:()=>t("reports"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${e==="reports"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:[l.jsx(ki,{size:16}),"Reports"]}),l.jsxs("button",{onClick:()=>{t("reminders"),rr()},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${e==="reminders"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:[l.jsx(ch,{size:16}),"Reminders"]})]}),e==="reports"?l.jsx(CAe,{}):e==="scholarships"?l.jsx(TAe,{}):e==="mobile-money"?l.jsx(OAe,{students:d,onPaymentSuccess:ge}):e==="reminders"?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Fee Reminders"}),l.jsx("p",{className:"text-slate-500 dark:text-gray-400",children:"Send payment reminders to parents with outstanding fees"})]}),l.jsxs("div",{className:"flex gap-3",children:[le.length>0&&l.jsxs("button",{onClick:()=>gr(),disabled:Je,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[l.jsx(Du,{size:18}),"Send Reminder (",le.length,")"]}),l.jsxs("button",{onClick:()=>gr(q.map(be=>be.id),!0),disabled:Je||q.length===0,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 transition-colors",children:[l.jsx(ch,{size:18}),"Send to All Overdue"]})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 w-12",children:l.jsx("input",{type:"checkbox",checked:le.length===q.length&&q.length>0,onChange:Oi,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Student"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Class"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Guardian"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Outstanding"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Status"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:He?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:"Loading students with outstanding fees..."})}):q.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-3",children:l.jsx(SN,{className:"text-green-600 dark:text-green-400",size:24})}),l.jsx("p",{className:"font-medium text-slate-700 dark:text-white",children:"All fees are paid!"}),l.jsx("p",{className:"text-sm dark:text-gray-400",children:"No students with outstanding balances"})]})})}):q.map(be=>l.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${le.includes(be.id)?"bg-blue-50 dark:bg-blue-900/30":""}`,children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("input",{type:"checkbox",checked:le.includes(be.id),onChange:()=>nr(be.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsxs("div",{className:"font-medium text-slate-800 dark:text-white",children:[be.firstName," ",be.lastName]}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:be.admissionNumber})]}),l.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:be.className||"N/A"}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("div",{className:"text-slate-800 dark:text-white",children:be.guardianName||"N/A"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:be.guardianPhone||"No phone"}),be.guardianEmail&&l.jsx("div",{className:"text-xs text-blue-600",children:be.guardianEmail})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("span",{className:"text-lg font-bold text-red-600",children:["ZMW ",Number(be.outstandingAmount).toLocaleString()]})}),l.jsx("td",{className:"px-6 py-4",children:be.isOverdue?l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Overdue"}):l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pending"})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("button",{onClick:()=>gr([be.id],be.isOverdue),disabled:Je,className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors disabled:opacity-50",children:[l.jsx(Du,{size:14}),"Send"]})})]},be.id))})]})})}),q.length>0&&l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400",children:"Total Students"}),l.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:q.length})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Total Outstanding"}),l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["ZMW ",q.reduce((be,Dt)=>be+Number(Dt.outstandingAmount),0).toLocaleString()]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Overdue Students"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:q.filter(be=>be.isOverdue).length})]})]})})]}):e==="payments"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-lg",children:l.jsx(SN,{size:24})}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-gray-400",children:"Total Revenue"})]}),l.jsxs("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["ZMW ",K.totalRevenue.toLocaleString()]}),l.jsx("p",{className:"text-sm text-green-600 mt-1",children:"All time revenue"})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg",children:l.jsx(hl,{size:24})}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-gray-400",children:"Transactions"})]}),l.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:K.totalTransactions}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-1",children:"Total transactions"})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg",children:l.jsx(hs,{size:24})}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-gray-400",children:"Pending Fees"})]}),l.jsxs("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["ZMW ",K.pendingFees.toLocaleString()]}),l.jsxs("p",{className:"text-sm text-red-500 mt-1",children:[K.overdueStudentsCount," students overdue"]})]})]}),l.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg mb-6 w-fit",children:[l.jsx("button",{onClick:()=>ve("completed"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${ue==="completed"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Valid Payments"}),l.jsx("button",{onClick:()=>ve("voided"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${ue==="voided"?"bg-white dark:bg-slate-800 text-red-600 shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Voided Transactions"})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),l.jsx("input",{type:"text",placeholder:"Search by student name, ID, or reference...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white",value:A,onChange:be=>j(be.target.value)})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>G(!0),className:`px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors border ${T!=="ALL"||F!=="ALL"||C.start||C.end?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[l.jsx(Fj,{size:18}),l.jsx("span",{children:"Filter"}),(T!=="ALL"||F!=="ALL"||C.start||C.end)&&l.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-600 text-white text-xs rounded-full",children:[T!=="ALL",F!=="ALL",C.start||C.end].filter(Boolean).length})]}),l.jsx(JB,{data:$r.map(be=>{var Dt;return{date:new Date(be.paymentDate).toLocaleDateString(),studentName:`${be.student.firstName} ${be.student.lastName}`,admissionNumber:be.student.admissionNumber,className:((Dt=be.student.class)==null?void 0:Dt.name)||"No Class",amount:Number(be.amount).toFixed(2),method:be.method.replace("_"," "),transactionId:be.transactionId||"-",notes:be.notes||"-",recordedBy:be.recordedBy.fullName}}),columns:[{key:"date",header:"Date"},{key:"studentName",header:"Student Name"},{key:"admissionNumber",header:"Admission #"},{key:"className",header:"Class"},{key:"amount",header:"Amount (ZMW)"},{key:"method",header:"Method"},{key:"transactionId",header:"Transaction ID"},{key:"notes",header:"Notes"},{key:"recordedBy",header:"Recorded By"}],filename:`payments_export_${new Date().toISOString().split("T")[0]}`})]})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Date"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Student"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Class"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Amount (ZMW)"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Method"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Transaction ID"}),ue==="voided"?l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Void Reason"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Voided By"})]}):l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Notes"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Recorded By"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300 text-right",children:"Actions"})]})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:h?l.jsx("tr",{children:l.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:"Loading payments..."})}):$r.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:"No payments found"})}):$r.map(be=>{var Dt,Ot;return l.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:new Date(be.paymentDate).toLocaleDateString()}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsxs("div",{className:"font-medium text-slate-800 dark:text-white",children:[be.student.firstName," ",be.student.lastName]}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:be.student.admissionNumber})]}),l.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:((Dt=be.student.class)==null?void 0:Dt.name)||"No Class"}),l.jsx("td",{className:`px-6 py-4 font-medium ${be.status==="VOIDED"?"text-slate-400 dark:text-slate-500 line-through":"text-slate-800 dark:text-white"}`,children:Number(be.amount).toLocaleString()}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                            ${be.method==="CASH"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":be.method==="MOBILE_MONEY"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400"}`,children:be.method.replace("_"," ")})}),l.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300 font-mono text-sm",children:be.transactionId||"-"}),ue==="voided"?l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"px-6 py-4 text-red-600 dark:text-red-400 text-sm italic",children:be.voidReason||"No reason"}),l.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:((Ot=be.voidedBy)==null?void 0:Ot.fullName)||"Unknown"})]}):l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"px-6 py-4 text-slate-500 dark:text-gray-400 text-sm max-w-xs truncate",children:be.notes||"-"}),l.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:be.recordedBy.fullName}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsxs("button",{onClick:()=>Is(be),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-gray-200 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:"Download Receipt",children:[l.jsx(Ps,{size:14}),"Receipt"]}),l.jsxs("button",{onClick:()=>_t(be.id),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors",title:"Void this payment",children:[l.jsx(ea,{size:14}),"Void"]})]})})]})]},be.id)})})]})})})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.map(be=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1",children:be.name}),l.jsx("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-gray-300",children:b6e(be.applicableGrade)})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>At(be),className:"p-1 text-slate-400 hover:text-blue-600 transition-colors",children:l.jsx(Al,{size:16})}),l.jsx("button",{onClick:()=>Ft(be.id),className:"p-1 text-slate-400 hover:text-red-600 transition-colors",children:l.jsx(Cs,{size:16})})]})]}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mb-4",children:be.academicTerm.name}),l.jsx("div",{className:"flex items-baseline mb-6",children:l.jsxs("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["ZMW ",Number(be.amount).toLocaleString()]})}),l.jsxs("button",{onClick:()=>{S(be.id),b(!0)},className:"w-full py-2 px-4 bg-white border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(In,{size:18}),l.jsx("span",{children:"Assign to Class"})]})]},be.id)),a.length===0&&l.jsxs("div",{className:"col-span-full text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-600",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4",children:l.jsx(cs,{className:"text-slate-400 dark:text-gray-500",size:24})}),l.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No fee templates"}),l.jsx("p",{className:"text-slate-500 dark:text-gray-400 mt-1",children:"Create a fee template to get started"})]})]}),ee&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Filter Payments"}),l.jsx("button",{onClick:()=>G(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:l.jsx(ea,{size:20,className:"text-slate-500"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Class"}),l.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:T,onChange:be=>H(be.target.value),children:[l.jsx("option",{value:"ALL",children:"All Classes"}),c.map(be=>l.jsx("option",{value:be.id,children:be.name},be.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Payment Method"}),l.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:F,onChange:be=>O(be.target.value),children:[l.jsx("option",{value:"ALL",children:"All Methods"}),l.jsx("option",{value:"CASH",children:"Cash"}),l.jsx("option",{value:"MOBILE_MONEY",children:"Mobile Money"}),l.jsx("option",{value:"BANK_DEPOSIT",children:"Bank Deposit"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Date Range"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"date",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:C.start,onChange:be=>E({...C,start:be.target.value})}),l.jsx("span",{className:"text-slate-400",children:"to"}),l.jsx("input",{type:"date",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:C.end,onChange:be=>E({...C,end:be.target.value})})]})]})]}),l.jsxs("div",{className:"flex justify-between mt-6",children:[l.jsx("button",{onClick:()=>{H("ALL"),O("ALL"),E({start:"",end:""})},className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Clear All"}),l.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filters"})]})]})}),p&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Record New Payment"}),l.jsxs("form",{onSubmit:ar,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-2",children:"Find Student"}),l.jsx(PAe,{students:d,classes:c,value:U.studentId,onChange:be=>I({...U,studentId:be})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Amount (ZMW)"}),l.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"0.00",value:U.amount,onChange:be=>I({...U,amount:be.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Payment Method"}),l.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:U.method,onChange:be=>I({...U,method:be.target.value}),children:[l.jsx("option",{value:"CASH",children:"Cash"}),l.jsx("option",{value:"MOBILE_MONEY",children:"Mobile Money"}),l.jsx("option",{value:"BANK_DEPOSIT",children:"Bank Deposit"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Notes"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Optional notes about this payment",rows:2,value:U.notes,onChange:be=>I({...U,notes:be.target.value})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:st,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 ${st?"opacity-70 cursor-not-allowed":""}`,children:st?"Saving...":"Save Payment"})]})]})]})}),x&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:Y?"Edit Fee Template":"Create Fee Template"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Fee Name"}),l.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"e.g. Term 1 Tuition",value:M.name,onChange:be=>B({...M,name:be.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Amount (ZMW)"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"0.00",value:M.amount,onChange:be=>B({...M,amount:be.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Academic Term"}),l.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:M.academicTermId,onChange:be=>B({...M,academicTermId:be.target.value}),children:[l.jsx("option",{value:"",children:"Select Term"}),i.map(be=>l.jsx("option",{value:be.id,children:be.name},be.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Applicable Grade"}),l.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:M.applicableGrade,onChange:be=>B({...M,applicableGrade:be.target.value}),children:[l.jsx("option",{value:"",children:"Select Grade"}),l.jsx("option",{value:"0",children:"Nursery"}),[...Array(12)].map((be,Dt)=>l.jsxs("option",{value:Dt+1,children:["Grade ",Dt+1]},Dt+1))]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:St,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:Y?"Update Template":"Create Template"})]})]})}),y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Assign Fee to Class"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mb-4",children:"This will assign the selected fee to all active students in the selected class. Scholarship discounts will be applied automatically."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Select Class"}),l.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:Q,onChange:be=>de(be.target.value),children:[l.jsx("option",{value:"",children:"Select Class"}),c.map(be=>l.jsx("option",{value:be.id,children:be.name},be.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(hs,{size:16}),l.jsx("span",{children:"Payment Due Date (Optional)"})]})}),l.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:L,onChange:be=>R(be.target.value)}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400 mt-1",children:"Set a deadline for this fee payment"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{onClick:()=>{b(!1),R("")},className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:xt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Assign Fee"})]})]})}),l.jsx(Iw,{isOpen:X,onClose:()=>V(!1),entityName:"Fee Templates",apiEndpoint:"/api/v1/fees/templates/bulk",templateFields:["name","amount","applicableGrade"],onSuccess:tt,instructions:["Upload a CSV file with fee template details.","Required columns: name, amount, applicableGrade.","Amount should be a positive number.","Applicable grade: -2 (Baby Class), -1 (Middle), 0 (Nursery), 1-12 (Grades).","Academic term will be set to the current active term automatically."]})]})},k6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(""),[a,s]=k.useState(new Date().toISOString().split("T")[0]),[i,o]=k.useState([]),[c,u]=k.useState({}),[d,f]=k.useState(!1),[h,m]=k.useState(!1),[p,g]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const A=await Ee.get("/classes");t(A.data),A.data.length>0&&n(A.data[0].id)}catch(A){console.error("Error fetching classes:",A)}finally{g(!1)}})()},[]),k.useEffect(()=>{r&&x()},[r,a]);const x=async()=>{f(!0);try{const A=(await Ee.get(`/classes/${r}/students`)).data;o(A);const C=(await Ee.get("/attendance",{params:{classId:r,date:new Date(a).toISOString()}})).data,E={};A.forEach(F=>{const O=C.find(T=>T.studentId===F.id);O?E[F.id]=O.status:E[F.id]="PRESENT"}),u(E)}catch(S){console.error("Error fetching data:",S)}finally{f(!1)}},v=(S,A)=>{u(j=>({...j,[S]:A}))},y=()=>{const S={...c};i.forEach(A=>{S[A.id]="PRESENT"}),u(S)},b=async()=>{m(!0);try{const S=Object.entries(c).map(([A,j])=>({studentId:A,status:j}));await Ee.post("/attendance",{classId:r,date:new Date(a).toISOString(),records:S})}catch(S){console.error("Error saving attendance:",S),alert("Failed to save attendance")}finally{m(!1)}},N=k.useMemo(()=>{const S=i.length;if(S===0)return{present:0,absent:0,late:0,presentPct:0};const A=Object.values(c).filter(E=>E==="PRESENT").length,j=Object.values(c).filter(E=>E==="ABSENT").length,C=Object.values(c).filter(E=>E==="LATE").length;return{present:A,absent:j,late:C,presentPct:Math.round(A/S*100)}},[c,i]);return p?l.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading classes..."}):l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Attendance Register"}),l.jsx("p",{className:"text-slate-500",children:"Manage daily attendance records"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto bg-white p-2 rounded-lg shadow-sm border border-slate-200",children:[l.jsx("select",{value:r,onChange:S=>n(S.target.value),className:"px-4 py-2 border-r border-slate-200 focus:outline-none bg-transparent min-w-[150px]",children:e.map(S=>l.jsx("option",{value:S.id,children:S.name},S.id))}),l.jsx("input",{type:"date",value:a,onChange:S=>s(S.target.value),className:"px-4 py-2 focus:outline-none bg-transparent"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Total Students"}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:i.length})]}),l.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:l.jsx(In,{size:20})})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Present"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.present})]}),l.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-lg",children:l.jsx(ca,{size:20})})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Absent"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:N.absent})]}),l.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:l.jsx(uh,{size:20})})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Late"}),l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.late})]}),l.jsx("div",{className:"p-3 bg-yellow-50 text-yellow-600 rounded-lg",children:l.jsx(Sl,{size:20})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row justify-between items-center gap-4 bg-slate-50",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[l.jsx(hs,{size:20}),l.jsx("span",{className:"font-medium",children:new Date(a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),l.jsxs("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center space-x-1",children:[l.jsx(rg,{size:16}),l.jsx("span",{children:"Mark All Present"})]})]}),d?l.jsxs("div",{className:"p-12 text-center text-slate-500 flex flex-col items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"}),"Loading students..."]}):i.length===0?l.jsx("div",{className:"p-12 text-center text-slate-500",children:"No students found in this class."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 w-16",children:"#"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Student Name"}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Admission No."}),l.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-center",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200",children:i.map((S,A)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-slate-500",children:A+1}),l.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800",children:[S.firstName," ",S.lastName]}),l.jsx("td",{className:"px-6 py-4 text-slate-500 font-mono text-sm",children:S.admissionNumber}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex justify-center space-x-2",children:[l.jsx("button",{onClick:()=>v(S.id,"PRESENT"),className:`p-2 rounded-lg border transition-all ${c[S.id]==="PRESENT"?"bg-green-100 border-green-300 text-green-700 ring-2 ring-green-500 ring-offset-1":"bg-white border-slate-200 text-slate-400 hover:bg-slate-50"}`,title:"Present",children:l.jsx(ca,{size:20})}),l.jsx("button",{onClick:()=>v(S.id,"ABSENT"),className:`p-2 rounded-lg border transition-all ${c[S.id]==="ABSENT"?"bg-red-100 border-red-300 text-red-700 ring-2 ring-red-500 ring-offset-1":"bg-white border-slate-200 text-slate-400 hover:bg-slate-50"}`,title:"Absent",children:l.jsx(uh,{size:20})}),l.jsx("button",{onClick:()=>v(S.id,"LATE"),className:`p-2 rounded-lg border transition-all ${c[S.id]==="LATE"?"bg-yellow-100 border-yellow-300 text-yellow-700 ring-2 ring-yellow-500 ring-offset-1":"bg-white border-slate-200 text-slate-400 hover:bg-slate-50"}`,title:"Late",children:l.jsx(Sl,{size:20})})]})})]},S.id))})]})}),l.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50 flex justify-end",children:l.jsxs("button",{onClick:b,disabled:d||h||i.length===0,className:"bg-blue-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:[l.jsx(Qu,{size:20}),l.jsx("span",{children:h?"Saving...":"Save Attendance"})]})})]})]})},N6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(""),[a,s]=k.useState(1),[i,o]=k.useState([]),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,m]=k.useState({title:"",description:"",orderIndex:0});k.useEffect(()=>{p()},[]),k.useEffect(()=>{r&&a?g():o([])},[r,a]);const p=async()=>{try{const y=await Ee.get("/subjects");t(y.data),y.data.length>0&&n(y.data[0].id)}catch(y){console.error("Error fetching subjects:",y)}},g=async()=>{u(!0);try{const y=await Ee.get(`/syllabus/topics?subjectId=${r}&gradeLevel=${a}`);o(y.data)}catch(y){console.error("Error fetching topics:",y)}finally{u(!1)}},x=async y=>{y.preventDefault();try{await Ee.post("/syllabus/topics",{...h,subjectId:r,gradeLevel:a,orderIndex:Number(h.orderIndex)}),f(!1),m({title:"",description:"",orderIndex:i.length+1}),g()}catch(b){console.error("Error adding topic:",b),alert("Failed to add topic")}},v=async y=>{if(confirm("Are you sure you want to delete this topic?"))try{await Ee.delete(`/syllabus/topics/${y}`),g()}catch(b){console.error("Error deleting topic:",b)}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Subject"}),l.jsx("select",{value:r,onChange:y=>n(y.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 min-w-[200px]",children:e.map(y=>l.jsxs("option",{value:y.id,children:[y.name," (",y.code,")"]},y.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Grade Level"}),l.jsx("select",{value:a,onChange:y=>s(Number(y.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 min-w-[120px]",children:[...Array(12)].map((y,b)=>l.jsxs("option",{value:b+1,children:["Grade ",b+1]},b+1))})]})]}),l.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",disabled:!r,children:[l.jsx(Ca,{size:20}),"Add Topic"]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 font-medium text-gray-700",children:"Topics List"}),c?l.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading topics..."}):i.length===0?l.jsx("div",{className:"p-8 text-center text-gray-500",children:"No topics defined for this subject and grade."}):l.jsx("div",{className:"divide-y divide-gray-200",children:i.map(y=>l.jsxs("div",{className:"p-4 hover:bg-white transition-colors flex justify-between items-start group",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:y.title}),y.description&&l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),l.jsx("button",{onClick:()=>v(y.id),className:"text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Cs,{size:18})})]},y.id))})]})]}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Topic"}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic Title"}),l.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:h.title,onChange:y=>m({...h,title:y.target.value}),placeholder:"e.g. Introduction to Algebra"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:3,value:h.description,onChange:y=>m({...h,description:y.target.value}),placeholder:"Brief description of what this topic covers..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Index"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:h.orderIndex,onChange:y=>m({...h,orderIndex:Number(y.target.value)})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Topic"})]})]})]})})]})},GV=()=>{const[e,t]=k.useState("list"),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,o]=k.useState(!0),[c,u]=k.useState(""),[d,f]=k.useState(!1),[h,m]=k.useState(null),[p,g]=k.useState({name:"",code:"",teacherId:""}),[x,v]=k.useState(!1);k.useEffect(()=>{y(),b()},[]);const y=async()=>{try{const E=await Ee.get("/subjects");n(E.data)}catch(E){console.error("Failed to fetch subjects",E)}finally{o(!1)}},b=async()=>{try{const E=await Ee.get("/users?role=TEACHER");s(E.data)}catch(E){console.error("Failed to fetch teachers",E)}},N=async E=>{E.preventDefault();try{h?await Ee.put(`/subjects/${h.id}`,p):await Ee.post("/subjects",p),y(),f(!1),g({name:"",code:"",teacherId:""}),m(null)}catch(F){console.error("Failed to save subject",F),alert("Failed to save subject")}},S=async E=>{if(window.confirm("Are you sure you want to delete this subject?"))try{await Ee.delete(`/subjects/${E}`),y()}catch(F){console.error("Failed to delete subject",F)}},A=E=>{m(E),g({name:E.name,code:E.code,teacherId:E.teacherId||""}),f(!0)},j=()=>{m(null),g({name:"",code:"",teacherId:""}),f(!0)},C=r.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.code.toLowerCase().includes(c.toLowerCase()));return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Subjects Management"})}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 mb-6",children:[l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-slate-700",children:[l.jsxs("button",{onClick:()=>t("list"),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium transition-colors ${e==="list"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[l.jsx(VQ,{size:18}),"Subject List"]}),l.jsxs("button",{onClick:()=>t("syllabus"),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium transition-colors ${e==="syllabus"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[l.jsx(cs,{size:18}),"Syllabus Definition"]})]}),e==="list"?l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(ei,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search subjects...",value:c,onChange:E=>u(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Ni,{size:20}),l.jsx("span",{children:"Import Subjects"})]}),l.jsxs("button",{onClick:j,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:20}),l.jsx("span",{children:"Add Subject"})]})]})]}),l.jsx("div",{className:"overflow-x-auto border border-gray-100 dark:border-slate-700 rounded-lg",children:l.jsxs("table",{className:"w-full text-left text-sm text-gray-600 dark:text-gray-300",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Code"}),l.jsx("th",{className:"px-6 py-3",children:"Name"}),l.jsx("th",{className:"px-6 py-3",children:"Teacher"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:i?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Loading subjects..."})}):C.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No subjects found"})}):C.map(E=>{var F;return l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:E.code}),l.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:E.name}),l.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:((F=E.teacher)==null?void 0:F.fullName)||l.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic",children:"Not assigned"})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>A(E),className:"text-blue-600 hover:text-blue-800 p-1",children:l.jsx(Al,{size:18})}),l.jsx("button",{onClick:()=>S(E.id),className:"text-red-600 hover:text-red-800 p-1",children:l.jsx(Cs,{size:18})})]})})]},E.id)})})]})})]}):l.jsx("div",{className:"p-6",children:l.jsx(N6e,{})})]}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4",children:h?"Edit Subject":"Add Subject"}),l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject Name"}),l.jsx("input",{type:"text",required:!0,value:p.name,onChange:E=>g({...p,name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. Mathematics"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject Code"}),l.jsx("input",{type:"text",required:!0,value:p.code,onChange:E=>g({...p,code:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. MATH101"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Assign Teacher (Optional)"}),l.jsxs("select",{value:p.teacherId,onChange:E=>g({...p,teacherId:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"-- Select Teacher --"}),a.map(E=>l.jsx("option",{value:E.id,children:E.fullName},E.id))]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:h?"Update":"Create"})]})]})]})}),l.jsx(Iw,{isOpen:x,onClose:()=>v(!1),entityName:"Subjects",apiEndpoint:"/api/v1/subjects/bulk",templateFields:["name","code"],onSuccess:y,instructions:["Upload a CSV file with subject details.","Required columns: name, code.","Code should be a unique identifier (e.g., MATH, ENG, SCI)."]})]})},S6e=({classId:e,subjectId:t})=>{const[r,n]=k.useState("progress"),[a,s]=k.useState([]),[i,o]=k.useState([]),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,m]=k.useState({weekStartDate:"",title:"",content:"",termId:""}),[p,g]=k.useState([]);k.useEffect(()=>{e&&t&&(r==="progress"?v():y())},[e,t,r]),k.useEffect(()=>{x()},[]);const x=async()=>{try{const S=await Ee.get("/academic-terms");g(S.data);const A=S.data.find(j=>j.isActive);A&&m(j=>({...j,termId:A.id}))}catch(S){console.error("Error fetching terms:",S)}},v=async()=>{u(!0);try{const S=await Ee.get(`/syllabus/progress?classId=${e}&subjectId=${t}`);s(S.data)}catch(S){console.error("Error fetching progress:",S)}finally{u(!1)}},y=async()=>{u(!0);try{const S=await Ee.get(`/syllabus/lesson-plans?classId=${e}&subjectId=${t}`);o(S.data)}catch(S){console.error("Error fetching plans:",S)}finally{u(!1)}},b=async(S,A)=>{try{await Ee.put(`/syllabus/progress/${S}/${e}`,{status:A}),v()}catch(j){console.error("Error updating status:",j)}},N=async S=>{S.preventDefault();try{await Ee.post("/syllabus/lesson-plans",{...h,classId:e,subjectId:t,weekStartDate:new Date(h.weekStartDate).toISOString()}),f(!1),m(A=>({...A,title:"",content:""})),y()}catch(A){console.error("Error creating plan:",A),alert("Failed to create lesson plan")}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"border-b border-gray-200 flex",children:[l.jsx("button",{onClick:()=>n("progress"),className:`px-6 py-3 text-sm font-medium transition-colors ${r==="progress"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Curriculum Progress"}),l.jsx("button",{onClick:()=>n("plans"),className:`px-6 py-3 text-sm font-medium transition-colors ${r==="plans"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Lesson Plans"})]}),l.jsx("div",{className:"p-6",children:r==="progress"?l.jsx("div",{className:"space-y-4",children:c?l.jsx("div",{className:"text-center text-gray-500",children:"Loading progress..."}):a.length===0?l.jsx("div",{className:"text-center text-gray-500",children:"No topics defined for this subject."}):a.map(S=>l.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg border border-gray-100",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:S.title}),S.description&&l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:S.description})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>b(S.id,"PENDING"),className:`p-1.5 rounded-full transition-colors ${S.status==="PENDING"?"bg-gray-200 text-gray-600":"text-gray-300 hover:bg-gray-100"}`,title:"Pending",children:l.jsx(gR,{size:20})}),l.jsx("button",{onClick:()=>b(S.id,"IN_PROGRESS"),className:`p-1.5 rounded-full transition-colors ${S.status==="IN_PROGRESS"?"bg-blue-100 text-blue-600":"text-gray-300 hover:bg-gray-100"}`,title:"In Progress",children:l.jsx(Sl,{size:20})}),l.jsx("button",{onClick:()=>b(S.id,"COMPLETED"),className:`p-1.5 rounded-full transition-colors ${S.status==="COMPLETED"?"bg-green-100 text-green-600":"text-gray-300 hover:bg-gray-100"}`,title:"Completed",children:l.jsx(ca,{size:20})})]})]},S.id))}):l.jsxs("div",{children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[l.jsx(Ca,{size:18}),"Add Lesson Plan"]})}),l.jsx("div",{className:"space-y-4",children:c?l.jsx("div",{className:"text-center text-gray-500",children:"Loading plans..."}):i.length===0?l.jsx("div",{className:"text-center text-gray-500",children:"No lesson plans found."}):i.map(S=>l.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900",children:S.title}),l.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[l.jsx(hs,{size:12}),"Week of ",new Date(S.weekStartDate).toLocaleDateString()]})]}),l.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:S.teacher.fullName})]}),l.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:S.content})]},S.id))})]})}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Lesson Plan"}),l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Week Start Date"}),l.jsx("input",{type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:h.weekStartDate,onChange:S=>m({...h,weekStartDate:S.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),l.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:h.title,onChange:S=>m({...h,title:S.target.value}),placeholder:"e.g. Week 3: Quadratic Equations"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),l.jsx("textarea",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:6,value:h.content,onChange:S=>m({...h,content:S.target.value}),placeholder:"Detail your lesson plan here..."})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Plan"})]})]})]})})]})},j6e=e=>e===0?"Nursery":`Grade ${e}`,KV=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState(""),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,m]=k.useState(!1),[p,g]=k.useState(!1),[x,v]=k.useState(null),[y,b]=k.useState([]),[N,S]=k.useState([]),[A,j]=k.useState(""),[C,E]=k.useState([]),[F,O]=k.useState(!1),[T,H]=k.useState(null),[K,se]=k.useState(""),[M,B]=k.useState({name:"",gradeLevel:1,teacherId:"",academicTermId:"",subjectIds:[]}),[Y,z]=k.useState([]),[Q,de]=k.useState([]);k.useEffect(()=>{L(),R(),U(),I()},[]);const L=async()=>{try{const ye=await Ee.get("/classes");t(ye.data)}catch(ye){console.error("Failed to fetch classes",ye)}finally{s(!1)}},R=async()=>{try{const ye=await Ee.get("/subjects");n(ye.data)}catch(ye){console.error("Failed to fetch subjects",ye)}},U=async()=>{try{const ye=await Ee.get("/users/teachers");console.log("Teachers fetched:",ye.data),z(ye.data)}catch(ye){console.error("Failed to fetch teachers",ye)}},I=async()=>{try{const ye=await Ee.get("/academic-terms");console.log("Terms fetched:",ye.data),de(ye.data)}catch(ye){console.error("Failed to fetch terms",ye)}},X=async ye=>{try{const ge=await Ee.get(`/classes/${ye}/students`);b(ge.data)}catch(ge){console.error("Failed to fetch class students",ge)}},V=async()=>{try{const ye=await Ee.get("/students");S(ye.data)}catch(ye){console.error("Failed to fetch all students",ye)}},ee=async ye=>{v(ye),await X(ye.id),await V(),E([]),g(!0)},G=ye=>{H(ye),ye.subjects.length>0?se(ye.subjects[0].id):se(""),O(!0)},ue=async()=>{if(!(!x||C.length===0))try{await Ee.post(`/classes/${x.id}/students`,{studentIds:C}),await X(x.id),await L(),E([]),alert("Students added successfully")}catch(ye){console.error("Failed to add students",ye),alert("Failed to add students")}},ve=ye=>{E(ge=>ge.includes(ye)?ge.filter(ze=>ze!==ye):[...ge,ye])},q=async ye=>{ye.preventDefault();try{const ge={...M,gradeLevel:Number(M.gradeLevel)};d?await Ee.put(`/classes/${d.id}`,ge):await Ee.post("/classes",ge),L(),u(!1),He()}catch(ge){console.error("Failed to save class",ge),alert("Failed to save class. Ensure Teacher ID and Term ID are valid UUIDs.")}},Me=async ye=>{if(window.confirm("Are you sure you want to delete this class?"))try{await Ee.delete(`/classes/${ye}`),L()}catch(ge){console.error("Failed to delete class",ge)}},He=()=>{B({name:"",gradeLevel:1,teacherId:"",academicTermId:"",subjectIds:[]}),f(null)},Ae=ye=>{f(ye),B({name:ye.name,gradeLevel:ye.gradeLevel,teacherId:ye.teacherId,academicTermId:ye.academicTermId,subjectIds:ye.subjects.map(ge=>ge.id)}),u(!0)},le=()=>{He(),u(!0)},De=ye=>{B(ge=>{const ze=ge.subjectIds;return ze.includes(ye)?{...ge,subjectIds:ze.filter(tt=>tt!==ye)}:{...ge,subjectIds:[...ze,ye]}})},Je=e.filter(ye=>ye.name.toLowerCase().includes(i.toLowerCase())),Ve=N.filter(ye=>ye.classId!==(x==null?void 0:x.id)&&(ye.firstName.toLowerCase().includes(A.toLowerCase())||ye.lastName.toLowerCase().includes(A.toLowerCase())||ye.admissionNumber.includes(A)));return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Class Sections"}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Ni,{size:20}),l.jsx("span",{children:"Import Classes"})]}),l.jsxs("button",{onClick:le,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:20}),l.jsx("span",{children:"Add Class"})]})]})]}),a?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading classes..."})}):Je.length===0?l.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:l.jsx("p",{className:"text-gray-400 dark:text-gray-500 mb-2",children:"No classes defined. Create one to start adding students."})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Je.map(ye=>{var ge;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ye.name}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[j6e(ye.gradeLevel),"  ",ye._count.students," Students"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>G(ye),className:"text-gray-400 hover:text-purple-600",title:"Syllabus & Plans",children:l.jsx(Ps,{size:18})}),l.jsx("button",{onClick:()=>ee(ye),className:"text-gray-400 hover:text-green-600",title:"Manage Students",children:l.jsx(In,{size:18})}),l.jsx("button",{onClick:()=>Ae(ye),className:"text-gray-400 hover:text-blue-600",children:l.jsx(Al,{size:18})}),l.jsx("button",{onClick:()=>Me(ye.id),className:"text-gray-400 hover:text-red-600",children:l.jsx(Cs,{size:18})})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 flex items-center",children:[l.jsx(cs,{size:16,className:"mr-2"}),"Subjects (",ye.subjects.length,")"]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[ye.subjects.map(ze=>l.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-md font-medium border border-blue-100 dark:border-blue-800",children:ze.name},ze.id)),ye.subjects.length===0&&l.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 italic",children:"No subjects assigned"})]})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-slate-700 flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Teacher:"}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:((ge=ye.teacher)==null?void 0:ge.fullName)||"Unassigned"})]})]},ye.id)})}),F&&T&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-5xl my-8 h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Class Syllabus & Lesson Plans"}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Class: ",T.name]})]}),l.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx("span",{className:"text-2xl",children:""})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Subject"}),l.jsxs("select",{value:K,onChange:ye=>se(ye.target.value),className:"w-full md:w-1/3 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[T.subjects.length===0&&l.jsx("option",{value:"",children:"No subjects assigned"}),T.subjects.map(ye=>l.jsx("option",{value:ye.id,children:ye.name},ye.id))]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto pb-safe",children:K?l.jsx(S6e,{classId:T.id,subjectId:K}):l.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Please select a subject to view syllabus and lesson plans."})})]})}),p&&x&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-4xl my-8 h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Manage Students"}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Class: ",x.name]})]}),l.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx("span",{className:"text-2xl",children:""})})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-6 overflow-hidden",children:[l.jsxs("div",{className:"flex flex-col border dark:border-slate-700 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-3 border-b dark:border-slate-600 font-medium text-gray-700 dark:text-gray-200",children:["Current Students (",y.length,")"]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 pb-safe",children:y.length===0?l.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-center py-4",children:"No students in this class"}):y.map(ye=>l.jsx("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded hover:bg-gray-50 dark:hover:bg-slate-700",children:l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium dark:text-white",children:[ye.firstName," ",ye.lastName]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ye.admissionNumber})]})},ye.id))})]}),l.jsxs("div",{className:"flex flex-col border dark:border-slate-700 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-3 border-b dark:border-slate-600 font-medium text-gray-700 dark:text-gray-200 flex justify-between items-center",children:[l.jsx("span",{children:"Add Students"}),l.jsxs("button",{onClick:ue,disabled:C.length===0,className:`text-xs px-3 py-1 rounded ${C.length>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 dark:bg-slate-600 text-gray-400 dark:text-gray-500 cursor-not-allowed"}`,children:["Add Selected (",C.length,")"]})]}),l.jsx("div",{className:"p-2 border-b dark:border-slate-600",children:l.jsxs("div",{className:"relative",children:[l.jsx(ei,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search students...",value:A,onChange:ye=>j(ye.target.value),className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-200 dark:border-slate-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 pb-safe",children:Ve.length===0?l.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-center py-4",children:"No students found"}):Ve.map(ye=>{var ge;return l.jsxs("label",{className:"flex items-center space-x-3 p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:C.includes(ye.id),onChange:()=>ve(ye.id),className:"rounded text-blue-600 focus:ring-blue-500"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium dark:text-white",children:[ye.firstName," ",ye.lastName]}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ye.admissionNumber,"  Current Class: ",((ge=N.find(ze=>ze.id===ye.id))==null?void 0:ge.classId)===ye.classId?"Other":"None"]})]})]},ye.id)})})]})]})]})}),c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto pb-safe",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-2xl my-8 max-h-[90vh] overflow-y-auto pb-safe",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:d?"Edit Class":"Add Class"}),l.jsxs("form",{onSubmit:q,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class Name"}),l.jsx("input",{type:"text",required:!0,value:M.name,onChange:ye=>B({...M,name:ye.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. Grade 10A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Grade Level"}),l.jsxs("select",{required:!0,value:M.gradeLevel,onChange:ye=>B({...M,gradeLevel:parseInt(ye.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Grade"}),l.jsx("option",{value:"0",children:"Nursery"}),[...Array(12)].map((ye,ge)=>l.jsxs("option",{value:ge+1,children:["Grade ",ge+1]},ge+1))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Teacher"}),l.jsxs("select",{required:!0,value:M.teacherId,onChange:ye=>B({...M,teacherId:ye.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select a teacher"}),Y.map(ye=>l.jsx("option",{value:ye.id,children:ye.fullName},ye.id))]}),Y.length===0&&l.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No teachers found. Ensure teachers are added in the system."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academic Term"}),l.jsxs("select",{required:!0,value:M.academicTermId,onChange:ye=>B({...M,academicTermId:ye.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select a term"}),Q.map(ye=>l.jsx("option",{value:ye.id,children:ye.name},ye.id))]}),Q.length===0&&l.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No academic terms found. Please create a term first."})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assign Subjects"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-60 overflow-y-auto p-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700",children:r.map(ye=>l.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-slate-600 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:M.subjectIds.includes(ye.id),onChange:()=>De(ye.id),className:"rounded text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:ye.name})]},ye.id))})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:d?"Update Class":"Create Class"})]})]})]})}),l.jsx(Iw,{isOpen:h,onClose:()=>m(!1),entityName:"Classes",apiEndpoint:"/api/v1/classes/bulk",templateFields:["name","gradeLevel"],onSuccess:L,instructions:["Upload a CSV file with class details.","Required columns: name, gradeLevel.","Grade level should be a number (-2 for Baby Class, -1 for Middle, 0 for Nursery, 1-12 for grades)."]})]})},A6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(""),[i,o]=k.useState(!1),[c,u]=k.useState(null),[d,f]=k.useState({name:"",startDate:"",endDate:"",isActive:!1});k.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await Ee.get("/academic-terms");t(b.data)}catch(b){console.error("Failed to fetch terms",b)}finally{n(!1)}},m=async b=>{b.preventDefault();try{const N={...d,startDate:new Date(d.startDate).toISOString(),endDate:new Date(d.endDate).toISOString()};c?await Ee.put(`/academic-terms/${c.id}`,N):await Ee.post("/academic-terms",N),h(),o(!1),g()}catch(N){console.error("Failed to save term",N),alert("Failed to save term")}},p=async b=>{if(window.confirm("Are you sure you want to delete this term?"))try{await Ee.delete(`/academic-terms/${b}`),h()}catch(N){console.error("Failed to delete term",N)}},g=()=>{f({name:"",startDate:"",endDate:"",isActive:!1}),u(null)},x=b=>{u(b),f({name:b.name,startDate:new Date(b.startDate).toISOString().split("T")[0],endDate:new Date(b.endDate).toISOString().split("T")[0],isActive:b.isActive}),o(!0)},v=()=>{g(),o(!0)},y=e.filter(b=>b.name.toLowerCase().includes(a.toLowerCase()));return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Academic Terms"}),l.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:20}),l.jsx("span",{children:"Add Term"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(ei,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search terms...",value:a,onChange:b=>s(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 dark:text-white"})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm text-gray-600 dark:text-gray-300",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Name"}),l.jsx("th",{className:"px-6 py-3",children:"Start Date"}),l.jsx("th",{className:"px-6 py-3",children:"End Date"}),l.jsx("th",{className:"px-6 py-3",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Loading terms..."})}):y.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No terms found"})}):y.map(b=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:b.name}),l.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(b.startDate).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(b.endDate).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${b.isActive?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-slate-600 text-gray-600 dark:text-gray-300"}`,children:b.isActive?"Active":"Inactive"})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>x(b),className:"text-blue-600 hover:text-blue-800 p-1",children:l.jsx(Al,{size:18})}),l.jsx("button",{onClick:()=>p(b.id),className:"text-red-600 hover:text-red-800 p-1",children:l.jsx(Cs,{size:18})})]})})]},b.id))})]})})]}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:c?"Edit Term":"Add Term"}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Term Name"}),l.jsx("input",{type:"text",required:!0,value:d.name,onChange:b=>f({...d,name:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. Term 1 2025"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),l.jsx("input",{type:"date",required:!0,value:d.startDate,onChange:b=>f({...d,startDate:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),l.jsx("input",{type:"date",required:!0,value:d.endDate,onChange:b=>f({...d,endDate:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"isActive",checked:d.isActive,onChange:b=>f({...d,isActive:b.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4"}),l.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700 dark:text-gray-300",children:"Set as Active Term"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c?"Update":"Create"})]})]})]})})]})},_6e=({assessmentId:e,onClose:t})=>{var x,v,y,b,N;const[r,n]=k.useState([]),[a,s]=k.useState(!1),[i,o]=k.useState(!1),[c,u]=k.useState({text:"",type:"MULTIPLE_CHOICE",points:1,options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]});k.useEffect(()=>{d()},[e]);const d=async()=>{try{s(!0);const S=await Ee.get(`/online-assessments/${e}/questions`);n(S.data)}catch(S){console.error("Failed to fetch questions",S)}finally{s(!1)}},f=()=>{c.options&&u({...c,options:[...c.options,{text:"",isCorrect:!1}]})},h=(S,A,j)=>{if(!c.options)return;const C=[...c.options];A==="isCorrect"?(C.forEach(E=>E.isCorrect=!1),C[S].isCorrect=j):C[S].text=j,u({...c,options:C})},m=S=>{if(!c.options)return;const A=c.options.filter((j,C)=>C!==S);u({...c,options:A})},p=()=>{c.text&&(n([...r,c]),u({text:"",type:"MULTIPLE_CHOICE",points:1,options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}))},g=async()=>{try{o(!0);const S=r.filter(A=>!A.id);if(S.length===0){alert("No new questions to save");return}await Ee.post(`/online-assessments/${e}/questions`,{questions:S}),alert("Questions saved successfully"),d()}catch(S){console.error("Failed to save questions",S),alert("Failed to save questions")}finally{o(!1)}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Question Builder"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Close"}),l.jsxs("button",{onClick:g,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[l.jsx(Qu,{size:20}),i?"Saving...":"Save Questions"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6 border-r border-gray-200 pr-6",children:[l.jsx("h3",{className:"font-semibold text-gray-700",children:"Add New Question"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Text"}),l.jsx("textarea",{value:c.text,onChange:S=>u({...c,text:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",rows:3,placeholder:"Enter question text..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),l.jsxs("select",{value:c.type,onChange:S=>u({...c,type:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[l.jsx("option",{value:"MULTIPLE_CHOICE",children:"Multiple Choice"}),l.jsx("option",{value:"TRUE_FALSE",children:"True/False"}),l.jsx("option",{value:"SHORT_ANSWER",children:"Short Answer"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points"}),l.jsx("input",{type:"number",min:"1",value:c.points,onChange:S=>u({...c,points:Number(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),c.type==="MULTIPLE_CHOICE"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Options"}),(x=c.options)==null?void 0:x.map((S,A)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:"correctOption",checked:S.isCorrect,onChange:()=>h(A,"isCorrect",!0),className:"w-4 h-4 text-blue-600"}),l.jsx("input",{type:"text",value:S.text,onChange:j=>h(A,"text",j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:`Option ${A+1}`}),l.jsx("button",{onClick:()=>m(A),className:"text-red-500 hover:text-red-700",children:l.jsx(Cs,{size:18})})]},A)),l.jsxs("button",{onClick:f,className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[l.jsx(Ca,{size:16})," Add Option"]})]}),c.type==="TRUE_FALSE"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correct Answer"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"tfCorrect",checked:(y=(v=c.options)==null?void 0:v[0])==null?void 0:y.isCorrect,onChange:()=>{u({...c,options:[{text:"True",isCorrect:!0},{text:"False",isCorrect:!1}]})},className:"w-4 h-4 text-blue-600"}),l.jsx("span",{children:"True"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"tfCorrect",checked:(N=(b=c.options)==null?void 0:b[1])==null?void 0:N.isCorrect,onChange:()=>{u({...c,options:[{text:"True",isCorrect:!1},{text:"False",isCorrect:!0}]})},className:"w-4 h-4 text-blue-600"}),l.jsx("span",{children:"False"})]})]})]}),l.jsx("button",{onClick:p,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Add Question to List"})]}),l.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[l.jsxs("h3",{className:"font-semibold text-gray-700",children:["Questions (",r.length,")"]}),r.length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg",children:"No questions added yet."}),r.map((S,A)=>{var j;return l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 relative group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("span",{className:"font-medium text-gray-900",children:["Q",A+1,". ",S.text]}),l.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:S.type})]}),S.type==="MULTIPLE_CHOICE"&&l.jsx("ul",{className:"space-y-1 ml-4 mt-2",children:(j=S.options)==null?void 0:j.map((C,E)=>l.jsxs("li",{className:`text-sm flex items-center gap-2 ${C.isCorrect?"text-green-700 font-medium":"text-gray-600"}`,children:[C.isCorrect?l.jsx(ca,{size:14}):l.jsx("div",{className:"w-3.5"}),C.text]},E))}),l.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-right",children:[S.points," points"]}),!S.id&&l.jsx("button",{onClick:()=>{const C=r.filter((E,F)=>F!==A);n(C)},className:"absolute top-2 right-2 text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Cs,{size:16})})]},A)})]})]})]})},E6e=({classId:e,subjectId:t,termId:r,onBack:n,classNameStr:a,subjectNameStr:s})=>{const[i,o]=k.useState(!0),[c,u]=k.useState(null);k.useEffect(()=>{d()},[e,t,r]);const d=async()=>{try{o(!0);const m=await Ee.get("/assessments/gradebook",{params:{classId:e,subjectId:t,termId:r}});u(m.data)}catch(m){console.error("Failed to fetch gradebook",m)}finally{o(!1)}},f=k.useMemo(()=>{if(!c)return{rows:[],totalWeight:0};const{assessments:m,students:p,results:g}=c,x={};g.forEach(b=>{x[b.studentId]||(x[b.studentId]={}),x[b.studentId][b.assessmentId]=b.score});const v=m.reduce((b,N)=>b+Number(N.weight),0),y=p.map(b=>{let N=0;const S=m.map(A=>{var F;const j=(F=x[b.id])==null?void 0:F[A.id];if(j===void 0)return{raw:"-",weighted:0,percentage:0};const C=j/A.totalMarks,E=C*A.weight;return N+=E,{raw:j,weighted:E,percentage:C*100}});return{student:b,scores:S,totalWeightedScore:N}});return y.sort((b,N)=>N.totalWeightedScore-b.totalWeightedScore),{rows:y,totalWeight:v}},[c]),h=()=>{if(!c)return;const m=["Rank","Admission No","Student Name",...c.assessments.map(v=>`${v.title} (${v.weight}%)`),"Total (%)"],p=[[`Subject Gradebook: ${s} - ${a}`],m];f.rows.forEach((v,y)=>{const b=v.scores.map(N=>N.raw!=="-"?N.raw:"-");p.push([y+1,v.student.admissionNumber,`${v.student.firstName} ${v.student.lastName}`,...b,v.totalWeightedScore.toFixed(1)])});const g=kn.book_new(),x=kn.aoa_to_sheet(p);kn.book_append_sheet(g,x,"Gradebook"),O0(g,`Gradebook_${a}_${s}.xlsx`)};return i?l.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading Gradebook..."}):c?l.jsxs("div",{className:"p-6 h-full flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsxs("button",{onClick:n,className:"text-gray-500 hover:text-gray-800 flex items-center mb-2",children:[l.jsx(Gf,{size:18,className:"mr-1"})," Back"]}),l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(mR,{className:"text-blue-600"}),"Master Gradebook"]}),l.jsxs("p",{className:"text-gray-500",children:[a,"  ",s]})]}),l.jsxs("div",{className:"flex gap-4 items-center",children:[l.jsx("div",{className:`px-4 py-2 rounded-lg border ${f.totalWeight===100?"bg-green-50 border-green-200 text-green-700":"bg-amber-50 border-amber-200 text-amber-700"}`,children:l.jsxs("span",{className:"font-bold flex items-center gap-2",children:[f.totalWeight!==100&&l.jsx(pc,{size:16}),"Total Weight: ",f.totalWeight,"%"]})}),l.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[l.jsx(Qs,{size:18})," Export Excel"]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto border border-gray-200 rounded-xl shadow-sm bg-white",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-700 font-bold border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 border-r border-gray-200 w-16 text-center",children:"Pos"}),l.jsx("th",{className:"px-4 py-3 border-r border-gray-200 min-w-[200px] sticky left-0 bg-gray-50 z-20 shadow-sm",children:"Student"}),c.assessments.map(m=>l.jsxs("th",{className:"px-4 py-3 border-r border-gray-200 text-center min-w-[100px]",children:[l.jsx("div",{className:"text-xs text-gray-500 font-normal",children:m.type}),l.jsx("div",{className:"truncate w-24 mx-auto",title:m.title,children:m.title}),l.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[m.weight,"%"]})]},m.id)),l.jsx("th",{className:"px-4 py-3 bg-blue-50 text-blue-900 text-center min-w-[80px]",children:"Total %"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:f.rows.map((m,p)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 border-r border-gray-100 text-center text-gray-500",children:p+1}),l.jsxs("td",{className:"px-4 py-2 border-r border-gray-100 font-medium sticky left-0 bg-white group-hover:bg-gray-50 z-10",children:[l.jsxs("div",{className:"text-gray-900",children:[m.student.firstName," ",m.student.lastName]}),l.jsx("div",{className:"text-xs text-gray-400 font-mono",children:m.student.admissionNumber})]}),m.scores.map((g,x)=>{let v="text-gray-800";return g.raw==="-"?v="text-gray-300":g.percentage<50?v="text-red-600 font-medium":g.percentage>=80&&(v="text-green-600 font-medium"),l.jsx("td",{className:`px-4 py-2 border-r border-gray-100 text-center ${v}`,children:g.raw!=="-"?l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{children:[g.raw," ",l.jsxs("span",{className:"text-gray-400 text-[10px]",children:["/ ",c.assessments[x].totalMarks]})]}),l.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",g.weighted.toFixed(1),"%)"]})]}):"-"},x)}),l.jsxs("td",{className:"px-4 py-2 bg-blue-50 text-center font-bold text-blue-800",children:[m.totalWeightedScore.toFixed(1),"%"]})]},m.student.id))})]})})]}):l.jsx("div",{className:"p-12 text-center text-red-500",children:"Failed to load data"})},C6e=()=>{var I,X;const[e,t]=k.useState("list"),[r,n]=k.useState([]),[a,s]=k.useState(!1),[i,o]=k.useState([]),[c,u]=k.useState([]),[d,f]=k.useState([]),[h,m]=k.useState(""),[p,g]=k.useState(""),[x,v]=k.useState(null),[y,b]=k.useState([]),[N,S]=k.useState({}),[A,j]=k.useState(!1),[C,E]=k.useState(new Set),[F,O]=k.useState(!1),[T,H]=k.useState({title:"",type:"QUIZ",date:new Date().toISOString().split("T")[0],totalMarks:100,weight:10,classId:"",subjectId:"",termId:"",description:""});k.useEffect(()=>{K()},[]),k.useEffect(()=>{se()},[h,p]);const K=async()=>{try{const[V,ee,G]=await Promise.all([Ee.get("/classes"),Ee.get("/subjects"),Ee.get("/academic-terms")]);o(V.data),u(ee.data),f(G.data)}catch(V){console.error("Error fetching initial data:",V)}},se=async()=>{s(!0);try{const V={};h&&(V.classId=h),p&&(V.subjectId=p);const ee=await Ee.get("/assessments",{params:V});n(ee.data)}catch(V){console.error("Error fetching assessments:",V)}finally{s(!1)}},M=async V=>{V.preventDefault();try{await Ee.post("/assessments",{...T,totalMarks:Number(T.totalMarks),weight:Number(T.weight),date:new Date(T.date).toISOString()}),t("list"),se(),H({title:"",type:"QUIZ",date:new Date().toISOString().split("T")[0],totalMarks:100,weight:10,classId:"",subjectId:"",termId:"",description:""})}catch(ee){console.error("Error creating assessment:",ee),alert("Failed to create assessment")}},B=()=>{if(!x)return;const V=[["Admission No","Student Name","Score","Remarks"],...y.map(ue=>[ue.admissionNumber,`${ue.firstName} ${ue.lastName}`,"",""])],ee=kn.book_new(),G=kn.aoa_to_sheet(V);kn.book_append_sheet(ee,G,"Grades"),O0(ee,`${x.title}_Template.xlsx`)},Y=V=>{var ue;const ee=(ue=V.target.files)==null?void 0:ue[0];if(!ee)return;const G=new FileReader;G.onload=ve=>{var Ve,ye;const q=(Ve=ve.target)==null?void 0:Ve.result,Me=RN(q,{type:"binary"}),He=Me.SheetNames[0],Ae=Me.Sheets[He],le=kn.sheet_to_json(Ae,{header:1}),De={...N};let Je=0;for(let ge=1;ge<le.length;ge++){const ze=le[ge],tt=(ye=ze[0])==null?void 0:ye.toString(),ut=ze[2],bt=ze[3];if(tt){const St=y.find(At=>At.admissionNumber===tt);St&&(De[St.id]={score:ut!==void 0?String(ut):"",remarks:bt||""},Je++)}}S(De),alert(`Imported grades for ${Je} students.`)},G.readAsBinaryString(ee)},z=async V=>{v(V),t("grade"),s(!0);try{const ee=await Ee.get(`/classes/${V.class.id}/students`);b(ee.data);const G=await Ee.get(`/assessments/${V.id}/results`),ue={};G.data.forEach(ve=>{ue[ve.studentId]={score:String(ve.score),remarks:ve.remarks||""}}),S(ue)}catch(ee){console.error("Error loading gradebook:",ee)}finally{s(!1)}},Q=V=>{v(V),t("questions")},de=(V,ee,G)=>{S(ue=>({...ue,[V]:{...ue[V],[ee]:G}}))},L=async()=>{if(x){j(!0);try{const V=Object.entries(N).map(([ee,G])=>({studentId:ee,score:Number(G.score)||0,remarks:G.remarks})).filter(ee=>{var G,ue;return((G=N[ee.studentId])==null?void 0:G.score)!==void 0&&((ue=N[ee.studentId])==null?void 0:ue.score)!==""});await Ee.post("/assessments/results",{assessmentId:x.id,results:V}),alert("Grades saved successfully")}catch(V){console.error("Error saving grades:",V),alert("Failed to save grades")}finally{j(!1)}}};if(e==="questions"&&x)return l.jsxs("div",{className:"p-6",children:[l.jsxs("button",{onClick:()=>t("list"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6",children:[l.jsx(Gf,{size:20,className:"mr-2"}),"Back to Assessments"]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:x.title}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage Questions"})]}),l.jsx(_6e,{assessmentId:x.id,onClose:()=>t("list")})]});if(e==="gradebook")return l.jsx(E6e,{classId:h,subjectId:p,termId:"",onBack:()=>t("list"),classNameStr:((I=i.find(V=>V.id===h))==null?void 0:I.name)||"Class",subjectNameStr:((X=c.find(V=>V.id===p))==null?void 0:X.name)||"Subject"});const R=V=>{const ee=new Set(C);ee.has(V)?ee.delete(V):ee.add(V),E(ee)},U=async()=>{if(window.confirm(`Are you sure you want to delete ${C.size} assessments?`)){O(!0);try{await Ee.post("/assessments/bulk-delete",{ids:Array.from(C)}),E(new Set),se()}catch(V){console.error("Failed to delete assessments",V),alert("Failed to delete assessments")}finally{O(!1)}}};return e==="create"?l.jsxs("div",{className:"p-6",children:[l.jsxs("button",{onClick:()=>t("list"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6",children:[l.jsx(Gf,{size:20,className:"mr-2"}),"Back to Assessments"]}),l.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6",children:"Create New Assessment"}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),l.jsx("input",{type:"text",required:!0,value:T.title,onChange:V=>H({...T,title:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g., Mid-Term Mathematics Exam"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),l.jsxs("select",{value:T.type,onChange:V=>H({...T,type:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"QUIZ",children:"Quiz"}),l.jsx("option",{value:"TEST",children:"Test"}),l.jsx("option",{value:"EXAM",children:"Exam"}),l.jsx("option",{value:"HOMEWORK",children:"Homework"}),l.jsx("option",{value:"PROJECT",children:"Project"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date"}),l.jsx("input",{type:"date",required:!0,value:T.date,onChange:V=>H({...T,date:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class"}),l.jsxs("select",{required:!0,value:T.classId,onChange:V=>H({...T,classId:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Class"}),i.map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject"}),l.jsxs("select",{required:!0,value:T.subjectId,onChange:V=>H({...T,subjectId:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Subject"}),c.map(V=>l.jsxs("option",{value:V.id,children:[V.name," (",V.code,")"]},V.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academic Term"}),l.jsxs("select",{required:!0,value:T.termId,onChange:V=>H({...T,termId:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Term"}),d.map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Total Marks"}),l.jsx("input",{type:"number",required:!0,min:"1",value:T.totalMarks,onChange:V=>H({...T,totalMarks:Number(V.target.value)}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Weight (%)"}),l.jsx("input",{type:"number",required:!0,min:"0",max:"100",value:T.weight,onChange:V=>H({...T,weight:Number(V.target.value)}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (Optional)"}),l.jsx("textarea",{value:T.description,onChange:V=>H({...T,description:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",rows:3})]}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Assessment"})})]})]})]}):e==="grade"&&x?l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{onClick:()=>t("list"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[l.jsx(Gf,{size:20,className:"mr-2"}),"Back to Assessments"]}),l.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-slate-600"}),l.jsxs("button",{onClick:B,className:"flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium",children:[l.jsx(Qs,{size:16,className:"mr-1"})," Template"]}),l.jsxs("label",{className:"flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium cursor-pointer",children:[l.jsx(Ni,{size:16,className:"mr-1"})," Import",l.jsx("input",{type:"file",accept:".xlsx, .xls",className:"hidden",onChange:Y})]})]}),l.jsxs("button",{onClick:L,disabled:A,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[l.jsx(Qu,{size:20,className:"mr-2"}),A?"Saving...":"Save Grades"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:x.title}),l.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(cs,{size:16,className:"mr-1"})," ",x.subject.name]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(In,{size:16,className:"mr-1"})," ",x.class.name]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(hs,{size:16,className:"mr-1"})," ",new Date(x.date).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Marks"}),l.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:x.totalMarks})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm",children:[l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase mb-1 flex items-center gap-1",children:[l.jsx(Oj,{size:14,className:"text-blue-500"})," Average Score"]}),l.jsxs("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[(Object.values(N).reduce((V,ee)=>V+(Number(ee.score)||0),0)/(Object.keys(N).length||1)).toFixed(1),l.jsxs("span",{className:"text-xs text-gray-400 font-normal ml-1",children:["/ ",x.totalMarks]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm",children:[l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase mb-1 flex items-center gap-1",children:[l.jsx(ki,{size:14,className:"text-green-500"})," Pass Rate"]}),l.jsxs("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[(Object.values(N).filter(V=>(Number(V.score)||0)>=x.totalMarks*.5).length/(Object.keys(N).length||1)*100).toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm",children:[l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase mb-1 flex items-center gap-1",children:[l.jsx(Pj,{size:14,className:"text-purple-500"})," Highest Score"]}),l.jsx("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:Math.max(...Object.values(N).map(V=>Number(V.score)||0))})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 font-semibold text-gray-600 dark:text-gray-300",children:"Student"}),l.jsx("th",{className:"px-6 py-3 font-semibold text-gray-600 dark:text-gray-300",children:"Admission No."}),l.jsx("th",{className:"px-6 py-3 font-semibold text-gray-600 dark:text-gray-300 w-32",children:"Score"}),l.jsx("th",{className:"px-6 py-3 font-semibold text-gray-600 dark:text-gray-300",children:"Remarks"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:y.map(V=>{var ee,G;return l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsxs("td",{className:"px-6 py-4 font-medium text-gray-800 dark:text-white",children:[V.firstName," ",V.lastName]}),l.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400 font-mono text-sm",children:V.admissionNumber}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("input",{type:"number",min:"0",max:x.totalMarks,value:((ee=N[V.id])==null?void 0:ee.score)||"",onChange:ue=>de(V.id,"score",ue.target.value),className:"w-full px-3 py-1 border border-gray-300 dark:border-slate-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"-"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("input",{type:"text",value:((G=N[V.id])==null?void 0:G.remarks)||"",onChange:ue=>de(V.id,"remarks",ue.target.value),className:"w-full px-3 py-1 border border-gray-300 dark:border-slate-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"Optional remarks"})})]},V.id)})})]})})]})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Assessments"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage exams, tests, and homework assignments."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"flex flex-1 gap-4 w-full sm:w-auto",children:[l.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[l.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsxs("select",{value:h,onChange:V=>m(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 dark:text-white transition-colors appearance-none cursor-pointer",children:[l.jsx("option",{value:"",children:"All Classes"}),i.map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))]}),l.jsx(gp,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 rotate-90",size:14})]}),l.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[l.jsx(cs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsxs("select",{value:p,onChange:V=>g(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 dark:text-white transition-colors appearance-none cursor-pointer",children:[l.jsx("option",{value:"",children:"All Subjects"}),c.map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))]}),l.jsx(gp,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 rotate-90",size:14})]})]}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[h&&p&&l.jsxs("button",{onClick:()=>t("gradebook"),className:"bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-purple-700 transition-colors shadow-sm",title:"View full subject matrix",children:[l.jsx(mR,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:"Gradebook"})]}),C.size>0&&l.jsxs("button",{onClick:U,disabled:F,className:"bg-red-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-red-700 transition-colors disabled:bg-red-300 shadow-sm",children:[l.jsx(Cs,{size:18}),l.jsxs("span",{className:"hidden sm:inline",children:["Delete (",C.size,")"]})]}),l.jsxs("button",{onClick:()=>t("create"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors shadow-sm w-full sm:w-auto",children:[l.jsx(Ca,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:"New Assessment"}),l.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),a?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),l.jsx("p",{children:"Loading assessments..."})]}):r.length===0?l.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600",children:[l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ps,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"No assessments found"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-sm mx-auto",children:h||p?"Try adjusting your filters to find what you're looking for.":"Create your first assessment to start tracking student performance."}),!h&&!p&&l.jsx("button",{onClick:()=>t("create"),className:"mt-6 text-blue-600 font-medium hover:text-blue-700",children:"Create New Assessment"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(V=>{var G;const ee=V.type==="EXAM"?{border:"border-red-500",bg:"bg-red-50 dark:bg-red-900/30",text:"text-red-700 dark:text-red-300"}:V.type==="TEST"?{border:"border-orange-500",bg:"bg-orange-50 dark:bg-orange-900/30",text:"text-orange-700 dark:text-orange-300"}:V.type==="QUIZ"?{border:"border-blue-500",bg:"bg-blue-50 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-300"}:{border:"border-green-500",bg:"bg-green-50 dark:bg-green-900/30",text:"text-green-700 dark:text-green-300"};return l.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 relative group overflow-hidden border-l-4 ${ee.border}`,children:[l.jsxs("div",{className:"p-5",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("span",{className:`px-2.5 py-0.5 rounded-md text-xs font-bold uppercase tracking-wide ${ee.bg} ${ee.text}`,children:V.type}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500 flex items-center bg-gray-50 dark:bg-slate-700 px-2 py-1 rounded",children:[l.jsx(hs,{size:12,className:"mr-1.5"}),new Date(V.date).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),l.jsx("input",{type:"checkbox",checked:C.has(V.id),onChange:()=>R(V.id),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})]})]}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 line-clamp-1 group-hover:text-blue-600 transition-colors",children:V.title}),l.jsxs("div",{className:"flex flex-col gap-1.5 mt-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[l.jsx(cs,{size:16,className:"mr-2 text-gray-400"}),l.jsx("span",{className:"truncate font-medium",children:V.subject.name})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[l.jsx(In,{size:16,className:"mr-2 text-gray-400"}),l.jsx("span",{className:"truncate",children:V.class.name})]})]})]}),l.jsxs("div",{className:"px-5 py-4 bg-gray-50 dark:bg-slate-700/50 border-t border-gray-100 dark:border-slate-700 flex items-center justify-between",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xl font-bold text-gray-800 dark:text-white leading-none",children:((G=V._count)==null?void 0:G.results)||0}),l.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-gray-500 mt-1",children:"Graded"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[(V.type==="QUIZ"||V.type==="TEST"||V.type==="EXAM")&&l.jsx("button",{onClick:()=>Q(V),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-white rounded-lg transition-colors border border-transparent hover:border-gray-200",title:"Manage Questions",children:l.jsx(QQ,{size:18})}),l.jsxs("button",{onClick:()=>z(V),className:"flex items-center bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 hover:border-blue-200 px-3 py-1.5 rounded-lg text-sm font-medium transition-all shadow-sm group-hover:border-blue-300",children:["Grade",l.jsx(gp,{size:16,className:"ml-1 text-gray-400 group-hover:text-blue-500"})]})]})]})]},V.id)})})]})},dl={getGradingScales:async()=>(await Ee.get("/reports/grading-scales")).data,createGradingScale:async e=>(await Ee.post("/reports/grading-scales",e)).data,updateGradingScale:async(e,t)=>(await Ee.put(`/reports/grading-scales/${e}`,t)).data,deleteGradingScale:async e=>(await Ee.delete(`/reports/grading-scales/${e}`)).data,generateStudentReport:async(e,t)=>(await Ee.post("/reports/generate",{studentId:e,termId:t})).data,generateClassReports:async(e,t)=>(await Ee.post("/reports/generate-bulk",{classId:e,termId:t})).data,getStudentReport:async(e,t)=>(await Ee.get("/reports/student",{params:{studentId:e,termId:t}})).data,getClassReports:async(e,t)=>(await Ee.get("/reports/class",{params:{classId:e,termId:t}})).data,updateReportRemarks:async(e,t,r)=>(await Ee.put("/reports/remarks",{studentId:e,termId:t,...r})).data},YV=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(null),[i,o]=k.useState(!1),[c,u]=k.useState(null),[d,f]=k.useState({grade:"",minScore:"",maxScore:"",gpaPoint:"",remark:""});k.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const v=await dl.getGradingScales();t(v.sort((y,b)=>b.minScore-y.minScore))}catch(v){s("Failed to fetch grading scales"),console.error(v)}finally{n(!1)}},m=v=>{v?(u(v),f({grade:v.grade,minScore:v.minScore.toString(),maxScore:v.maxScore.toString(),gpaPoint:v.gpaPoint.toString(),remark:v.remark||""})):(u(null),f({grade:"",minScore:"",maxScore:"",gpaPoint:"",remark:""})),o(!0)},p=()=>{o(!1),u(null),s(null)},g=async v=>{var y,b;v.preventDefault();try{const N={grade:d.grade,minScore:parseFloat(d.minScore),maxScore:parseFloat(d.maxScore),gpaPoint:parseFloat(d.gpaPoint),remark:d.remark};c?await dl.updateGradingScale(c.id,N):await dl.createGradingScale(N),p(),h()}catch(N){s(((b=(y=N.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed to save grading scale")}},x=async v=>{if(window.confirm("Are you sure you want to delete this grading scale?"))try{await dl.deleteGradingScale(v),h()}catch{s("Failed to delete grading scale")}};return r?l.jsx("div",{className:"p-4 text-center dark:text-gray-400",children:"Loading..."}):l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Grading Scales"}),l.jsxs("button",{onClick:()=>m(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:20}),"Add Grade"]})]}),a&&l.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex justify-between items-center",children:[l.jsx("span",{children:a}),l.jsx("button",{onClick:()=>s(null),children:l.jsx(ea,{size:18})})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Grade"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Range"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"GPA Point"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Remark"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:[e.map(v=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:v.grade}),l.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:[v.minScore," - ",v.maxScore]}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:v.gpaPoint}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:v.remark}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>m(v),className:"p-1 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded",children:l.jsx(Al,{size:18})}),l.jsx("button",{onClick:()=>x(v.id),className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",children:l.jsx(Cs,{size:18})})]})})]},v.id)),e.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No grading scales defined"})})]})]})})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 dark:border-slate-700",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c?"Edit Grade":"Add Grade"}),l.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l.jsx(ea,{size:20})})]}),l.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Grade Label"}),l.jsx("input",{type:"text",value:d.grade,onChange:v=>f({...d,grade:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g., A, B+",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Min Score"}),l.jsx("input",{type:"number",value:d.minScore,onChange:v=>f({...d,minScore:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Score"}),l.jsx("input",{type:"number",value:d.maxScore,onChange:v=>f({...d,maxScore:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"GPA Point"}),l.jsx("input",{type:"number",step:"0.1",value:d.gpaPoint,onChange:v=>f({...d,gpaPoint:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Remark"}),l.jsx("textarea",{value:d.remark,onChange:v=>f({...d,remark:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",rows:2})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[l.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Save"})]})]})]})})]})},T6e=(e,t,r)=>{const n=new Set;e.forEach(d=>{d.results.forEach(f=>n.add(f.subjectName))});const a=Array.from(n).sort(),s=[["Sync International School - Class Broadsheet"],[`Class: ${t}`,`Term: ${r}`],[""],["Rank","Student Name","Admission No",...a,"Total","Avg %","Attendance"]];[...e].sort((d,f)=>(d.rank||0)-(f.rank||0)).forEach(d=>{var m,p,g,x;const f={};d.results.forEach(v=>{f[v.subjectName]=v.totalScore});const h=a.map(v=>f[v]!==void 0?f[v]:"-");s.push([((m=d.rank)==null?void 0:m.toString())||"-",`${(p=d.student)==null?void 0:p.firstName} ${(g=d.student)==null?void 0:g.lastName}`,((x=d.student)==null?void 0:x.admissionNumber)||"",...h,Number(d.totalScore).toFixed(1),Number(d.averageScore).toFixed(1),`${d.totalAttendance||0}/${d.totalDays||60}`])});const o=kn.book_new(),c=kn.aoa_to_sheet(s),u=[{wch:5},{wch:25},{wch:15}];a.forEach(()=>u.push({wch:10})),u.push({wch:10},{wch:10},{wch:15}),c["!cols"]=u,kn.book_append_sheet(o,c,"Broadsheet"),O0(o,`Class_Reports_${t}_${r}.xlsx`)},P6e=(e,t,r)=>{const n=new Set;e.forEach(d=>d.results.forEach(f=>n.add(f.subjectName)));const a=Array.from(n).sort(),s=["Rank","Student Name","Admission No",...a,"Total","Avg %","Attendance"];let i="data:text/csv;charset=utf-8,";i+=`Sync International School - Class Broadsheet
`,i+=`Class: ${t},Term: ${r}

`,i+=s.join(",")+`
`,[...e].sort((d,f)=>(d.rank||0)-(f.rank||0)).forEach(d=>{var m,p,g;const f={};d.results.forEach(x=>f[x.subjectName]=x.totalScore);const h=[d.rank||"-",`"${(m=d.student)==null?void 0:m.firstName} ${(p=d.student)==null?void 0:p.lastName}"`,((g=d.student)==null?void 0:g.admissionNumber)||"",...a.map(x=>f[x]!==void 0?f[x]:"-"),Number(d.totalScore).toFixed(1),Number(d.averageScore).toFixed(1),`"${d.totalAttendance||0}/${d.totalDays||60}"`];i+=h.join(",")+`
`});const c=encodeURI(i),u=document.createElement("a");u.setAttribute("href",c),u.setAttribute("download",`Class_Reports_${t}_${r}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)},O6e=["Excellent performance, keep it up!","Good progress shown this term.","Satisfactory but allows room for improvement.","Needs to pay more attention in class.","Outstanding academic achievement.","Required to work harder next term.","Participates well in class activities.","A pleasure to have in class."],tF=({report:e,editable:t=!1,teacherRemark:r="",principalRemark:n="",onTeacherRemarkChange:a,onPrincipalRemarkChange:s,onSaveRemarks:i,saving:o=!1,className:c=""})=>{var f,h,m,p,g,x,v,y,b;const[u,d]=k.useState("");return k.useEffect(()=>{if(e){const N=`${window.location.origin}/verify/report/${e.id}`;Zh.toDataURL(N,{margin:1,width:100}).then(S=>d(S)).catch(S=>console.error(S))}},[e]),l.jsxs("div",{className:`bg-white mx-auto print:w-full max-w-4xl p-8 print:p-0 print:m-0 ${c}`,children:[l.jsxs("div",{className:"relative border-4 border-double border-slate-800 p-8 print:border-4 print:border-double print:border-slate-800 h-full",children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none overflow-hidden",children:l.jsx(ag,{size:500})}),l.jsx("div",{className:"relative z-10 border-b-2 border-slate-800 pb-6 mb-6",children:l.jsxs("div",{className:"flex justify-between items-center gap-6",children:[l.jsx("div",{className:"w-24 h-24 flex items-center justify-center bg-slate-900 text-white rounded-full print:bg-slate-900 print:text-white shrink-0",children:l.jsx(ag,{size:48})}),l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("h1",{className:"text-3xl font-serif font-bold text-slate-900 uppercase tracking-widest mb-2",children:((f=e.school)==null?void 0:f.schoolName)||"Sync International School"}),l.jsxs("div",{className:"text-sm font-medium text-slate-600 flex flex-wrap justify-center gap-4",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Dj,{size:12})," ",((h=e.school)==null?void 0:h.schoolAddress)||"P.O Box 3000, Lusaka, Zambia"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ex,{size:12})," ",((m=e.school)==null?void 0:m.schoolPhone)||"+260 977 123 456"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Qg,{size:12})," ",((p=e.school)==null?void 0:p.schoolEmail)||"info@syncschool.edu.zm"]})]})]}),l.jsx("div",{className:"w-24 shrink-0 text-right hidden sm:block",children:l.jsx("div",{className:"text-xs font-serif italic text-slate-500",children:'"Excellence in Everything"'})})]})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 uppercase inline-block border-b mb-1",children:"End of Term Report"}),l.jsx("p",{className:"text-slate-500 font-serif",children:e.academicYear||`Academic Year ${new Date().getFullYear()}`})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-y-4 gap-x-8 text-sm mb-8 p-4 bg-slate-50 border border-slate-200 rounded-sm print:bg-slate-50 print:border-slate-200",children:[l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Student Name"}),l.jsxs("span",{className:"font-bold text-slate-900 text-base",children:[(g=e.student)==null?void 0:g.firstName," ",(x=e.student)==null?void 0:x.lastName]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Admission No."}),l.jsx("span",{className:"font-mono text-slate-800",children:((v=e.student)==null?void 0:v.admissionNumber)||"-"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Class"}),l.jsx("span",{className:"font-bold text-slate-900",children:(y=e.class)==null?void 0:y.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Term"}),l.jsx("span",{className:"font-bold text-slate-900",children:(b=e.term)==null?void 0:b.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Attendance"}),l.jsxs("span",{className:"font-bold text-slate-900",children:[e.totalAttendance!==void 0?`${e.totalAttendance} / ${e.totalDays||"-"}`:"-"," Days"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Position"}),l.jsx("span",{className:"font-bold text-slate-900",children:e.rank?`${e.rank}`:"-"})]}),l.jsx("div",{className:"col-span-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-bold text-slate-500 uppercase text-xs",children:"Overall Average:"}),l.jsx("div",{className:"flex-1 bg-gray-200 h-2 rounded-full overflow-hidden print:bg-gray-200",children:l.jsx("div",{className:"bg-slate-800 h-full print:bg-slate-800",style:{width:`${Math.min(100,Math.max(0,e.averageScore))}%`}})}),l.jsxs("span",{className:"font-bold text-lg text-slate-900",children:[Number(e.averageScore||0).toFixed(1),"%"]})]})})]}),l.jsx("div",{className:"mb-8 overflow-hidden border border-slate-200 rounded-sm",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-800 text-white print:bg-slate-800 print:text-white",children:[l.jsx("th",{className:"px-4 py-2 font-bold uppercase tracking-wider text-xs w-1/3",children:"Subject"}),l.jsx("th",{className:"px-4 py-2 font-bold uppercase tracking-wider text-xs text-center border-l border-slate-600",children:"Marks"}),l.jsx("th",{className:"px-4 py-2 font-bold uppercase tracking-wider text-xs text-center border-l border-slate-600",children:"Grade"}),l.jsx("th",{className:"px-4 py-2 font-bold uppercase tracking-wider text-xs border-l border-slate-600",children:"Remarks"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200",children:e.results&&e.results.length>0?e.results.map((N,S)=>l.jsxs("tr",{className:S%2===0?"bg-white":"bg-slate-50 print:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-2 font-medium text-slate-800 border-r border-slate-100",children:N.subjectName}),l.jsx("td",{className:"px-4 py-2 text-center font-mono text-slate-700 border-r border-slate-100",children:Number(N.totalScore).toFixed(1)}),l.jsx("td",{className:"px-4 py-2 text-center font-bold text-slate-900 border-r border-slate-100",children:N.grade}),l.jsx("td",{className:"px-4 py-2 text-slate-600 italic text-xs",children:N.remarks||"-"})]},N.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-500 italic",children:"No academic results recorded for this term."})})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[l.jsxs("div",{className:"border border-slate-200 p-4 rounded-sm bg-slate-50 print:bg-slate-50 relative",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h4",{className:"font-bold text-slate-800 uppercase text-xs",children:"Class Teacher's Remarks"}),t&&l.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1 print:hidden bg-white text-gray-700 focus:border-blue-500 focus:outline-none",onChange:N=>{N.target.value&&(a==null||a(r+(r?`
`:"")+N.target.value))},value:"",children:[l.jsx("option",{value:"",children:"+ Quick Comment"}),O6e.map(N=>l.jsx("option",{value:N,children:N},N))]})]}),t?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{value:r,onChange:N=>a==null?void 0:a(N.target.value),className:"print:hidden w-full px-3 py-2 border border-slate-300 bg-white rounded text-sm focus:ring-1 focus:ring-slate-500 outline-none h-24 resize-none",placeholder:"Enter remarks..."}),l.jsx("div",{className:"hidden print:block min-h-[4rem] text-sm text-slate-700 font-serif italic whitespace-pre-wrap",children:r||"No remarks provided."})]}):l.jsx("div",{className:"min-h-[4rem] text-sm text-slate-700 font-serif italic whitespace-pre-wrap",children:e.classTeacherRemark||r||"No remarks provided."}),l.jsx("div",{className:"mt-6 pt-4 border-t border-slate-300",children:l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Signature"}),l.jsx("div",{className:"h-8 border-b border-slate-400 w-32"})]}),l.jsxs("div",{className:"text-xs text-slate-400",children:["Date: ",new Date().toLocaleDateString()]})]})})]}),l.jsxs("div",{className:"border border-slate-200 p-4 rounded-sm bg-slate-50 print:bg-slate-50",children:[l.jsx("h4",{className:"font-bold text-slate-800 uppercase text-xs mb-3",children:"Head Teacher's Remarks"}),t?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{value:n,onChange:N=>s==null?void 0:s(N.target.value),className:"print:hidden w-full px-3 py-2 border border-slate-300 bg-white rounded text-sm focus:ring-1 focus:ring-slate-500 outline-none h-24 resize-none",placeholder:"Enter remarks..."}),l.jsx("div",{className:"hidden print:block min-h-[4rem] text-sm text-slate-700 font-serif italic whitespace-pre-wrap",children:n||"No remarks provided."})]}):l.jsx("div",{className:"min-h-[4rem] text-sm text-slate-700 font-serif italic whitespace-pre-wrap",children:e.principalRemark||n||"No remarks provided."}),l.jsx("div",{className:"mt-6 pt-4 border-t border-slate-300",children:l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Signature & Stamp"}),l.jsx("div",{className:"h-8 border-b border-slate-400 w-32"})]}),l.jsxs("div",{className:"text-xs text-slate-400",children:["Date: ",new Date().toLocaleDateString()]})]})})]})]}),l.jsxs("div",{className:"flex items-end justify-between border-t-2 border-slate-800 pt-4",children:[l.jsxs("div",{className:"text-[10px] text-slate-500",children:[l.jsx("span",{className:"font-bold text-slate-700 mr-2",children:"Grading System:"}),"A+ (90-100) | A (80-89) | B (70-79) | C (60-69) | D (50-59) | F (0-49)"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Scan to Verify"}),l.jsx("div",{className:"text-[10px] text-slate-400",children:"Sync School System"})]}),u&&l.jsx("img",{src:u,alt:"Report QR Code",className:"w-16 h-16 border border-slate-200 p-1 bg-white"})]})]})]}),t&&l.jsxs("div",{className:"mt-6 flex justify-end gap-3 print:hidden",children:[l.jsx("button",{onClick:i,disabled:o,className:"px-6 py-2 bg-slate-800 text-white rounded hover:bg-slate-900 transition-colors disabled:opacity-50 text-sm font-medium",children:o?"Saving...":"Save Remarks"}),l.jsxs("button",{onClick:()=>window.print(),className:"px-6 py-2 border border-slate-300 text-slate-700 bg-white rounded hover:bg-slate-50 transition-colors text-sm font-medium flex items-center gap-2",children:[l.jsx(tx,{size:16}),"Print Official Report"]})]})]})},L6e=({reports:e,className:t="",onClose:r})=>{var o,c,u,d,f,h,m;const n=k.useMemo(()=>{const p=new Set;return e.forEach(g=>{g.results.forEach(x=>p.add(x.subjectName))}),Array.from(p).sort()},[e]),a=k.useMemo(()=>e.map(p=>{const g={};return p.results.forEach(x=>{g[x.subjectName]=x.totalScore}),{...p,subjectScores:g}}).sort((p,g)=>(p.rank||0)-(g.rank||0)),[e]),s=k.useMemo(()=>{const p=e.reduce((v,y)=>v+y.averageScore,0)/(e.length||1),g=e.filter(v=>v.averageScore>=50).length/(e.length||1)*100,x=e.reduce((v,y)=>v.averageScore>y.averageScore?v:y,e[0]);return{classAvg:p,passRate:g,topStudent:x}},[e]),i=()=>{var v,y,b,N,S,A;const p=[["Sync International School - Class Broadsheet"],[`Class: ${((y=(v=e[0])==null?void 0:v.class)==null?void 0:y.name)||"Unknown"}`,`Term: ${((N=(b=e[0])==null?void 0:b.term)==null?void 0:N.name)||"Unknown"}`],[""],["Rank","Student Name","Admission No",...n,"Total","Avg %","Attendance"]];a.forEach(j=>{var E,F,O,T;const C=n.map(H=>j.subjectScores[H]||"-");p.push([((E=j.rank)==null?void 0:E.toString())||"-",`${(F=j.student)==null?void 0:F.firstName} ${(O=j.student)==null?void 0:O.lastName}`,((T=j.student)==null?void 0:T.admissionNumber)||"",...C,j.totalScore.toFixed(1),j.averageScore.toFixed(1),`${j.totalAttendance||0}/${j.totalDays||60}`])});const g=kn.book_new(),x=kn.aoa_to_sheet(p);kn.book_append_sheet(g,x,"Broadsheet"),O0(g,`Class_Broadsheet_${(A=(S=e[0])==null?void 0:S.class)==null?void 0:A.name}.xlsx`)};return l.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-full print:h-auto printable-content ${t}`,children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Oy,{className:"text-blue-600"}),"Class Master Marksheet"]}),l.jsxs("p",{className:"text-gray-500 mt-1",children:[(c=(o=e[0])==null?void 0:o.class)==null?void 0:c.name,"  ",(d=(u=e[0])==null?void 0:u.term)==null?void 0:d.name,"  ",e.length," Students"]})]}),l.jsxs("div",{className:"flex gap-2 print:hidden",children:[l.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 border border-blue-200 text-blue-700 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[l.jsx(tx,{size:18}),"Print"]}),l.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Qs,{size:18}),"Export Excel"]}),r&&l.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:"Close"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2 print:hidden",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-700 font-medium mb-1",children:[l.jsx(ki,{size:18})," Class Average"]}),l.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[s.classAvg.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-700 font-medium mb-1",children:[l.jsx(oee,{size:18})," Pass Rate"]}),l.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[s.passRate.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[l.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-medium mb-1",children:[l.jsx(F6e,{})," Top Student"]}),l.jsx("div",{className:"text-lg font-bold text-purple-900 truncate",children:s.topStudent?`${(f=s.topStudent.student)==null?void 0:f.firstName} ${(h=s.topStudent.student)==null?void 0:h.lastName}`:"-"}),l.jsxs("div",{className:"text-xs text-purple-600",children:["Avg: ",(m=s.topStudent)==null?void 0:m.averageScore.toFixed(1),"%"]})]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto p-0 md:p-6 print:p-0 print:overflow-visible print:h-auto",children:l.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[l.jsx("thead",{className:"bg-gray-100 text-gray-700 font-bold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 border-r border-gray-200 whitespace-nowrap w-16 text-center",children:"Pos"}),l.jsx("th",{className:"px-4 py-3 border-r border-gray-200 whitespace-nowrap min-w-[200px] sticky left-0 bg-gray-100 z-10",children:"Student Name"}),n.map(p=>l.jsx("th",{className:"px-2 py-3 border-r border-gray-200 text-center w-24 whitespace-normal text-xs uppercase bg-gray-50",children:l.jsx("div",{className:"-rotate-45 h-12 flex items-end justify-center pb-1",children:p.substring(0,10)})},p)),l.jsx("th",{className:"px-4 py-3 border-r border-gray-200 text-center bg-gray-100",children:"Total"}),l.jsx("th",{className:"px-4 py-3 border-r border-gray-200 text-center bg-gray-100",children:"Avg %"}),l.jsx("th",{className:"px-4 py-3 text-center bg-gray-100 whitespace-nowrap",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 text-gray-800",children:a.map((p,g)=>{var x,v;return l.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[l.jsx("td",{className:"px-4 py-2 border-r border-gray-100 text-center font-bold text-gray-500",children:p.rank||g+1}),l.jsxs("td",{className:"px-4 py-2 border-r border-gray-100 font-medium whitespace-nowrap sticky left-0 bg-white group-hover:bg-blue-50 z-10",children:[(x=p.student)==null?void 0:x.firstName," ",(v=p.student)==null?void 0:v.lastName]}),n.map(y=>{const b=p.subjectScores[y];let N="text-gray-800";return b>=75?N="text-green-600 font-bold":b<50&&(N="text-red-500 font-medium"),l.jsx("td",{className:`px-2 py-2 border-r border-gray-100 text-center ${N}`,children:b!==void 0?Math.round(b):"-"},y)}),l.jsx("td",{className:"px-4 py-2 border-r border-gray-100 text-center font-bold",children:Math.round(p.totalScore)}),l.jsx("td",{className:"px-4 py-2 border-r border-gray-100 text-center font-bold text-blue-700",children:p.averageScore.toFixed(1)}),l.jsx("td",{className:"px-4 py-2 text-center text-xs",children:p.averageScore>=50?l.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Pass"}):l.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Fail"})})]},p.id)})})]})})})]})},F6e=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"8",r:"7"}),l.jsx("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"})]}),XV=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,o]=k.useState(""),[c,u]=k.useState(""),[d,f]=k.useState(""),[h,m]=k.useState(null),[p,g]=k.useState(!1),[x,v]=k.useState(null),[y,b]=k.useState(null),[N,S]=k.useState([]),[A,j]=k.useState(!1),[C,E]=k.useState(!1),[F,O]=k.useState(!1),[T,H]=k.useState(""),[K,se]=k.useState(""),[M,B]=k.useState(!1),Y=Ou.useRef(null);k.useEffect(()=>{Q()},[]),k.useEffect(()=>{h&&Y.current&&(Y.current.scrollIntoView({behavior:"smooth"}),H(h.classTeacherRemark||""),se(h.principalRemark||""))},[h]);const z=async()=>{if(h)try{B(!0),await dl.updateReportRemarks(h.studentId,h.termId,{classTeacherRemark:T,principalRemark:K}),b("Remarks updated successfully"),m(I=>I?{...I,classTeacherRemark:T,principalRemark:K}:null)}catch{v("Failed to update remarks")}finally{B(!1)}};k.useEffect(()=>{i?de(i):n([]),E(!1)},[i]);const Q=async()=>{try{const[I,X]=await Promise.all([Ee.get("/classes"),Ee.get("/academic-terms")]);t(I.data),s(X.data)}catch(I){console.error("Failed to fetch initial data",I)}},de=async I=>{try{const X=await Ee.get(`/classes/${I}/students`);n(X.data)}catch(X){console.error("Failed to fetch students",X)}},L=async()=>{var I,X;if(!(!c||!d))try{g(!0),v(null),b(null);const V=await dl.generateStudentReport(c,d);m(V),b("Report generated successfully")}catch(V){v(((X=(I=V.response)==null?void 0:I.data)==null?void 0:X.message)||"Failed to generate report")}finally{g(!1)}},R=async I=>{var X,V;if(!(!i||!d))try{g(!0),v(null),await dl.generateClassReports(i,d);const ee=await dl.getClassReports(i,d);if(ee.length===0){v("No students found in this class.");return}S(ee);const G=((X=e.find(ve=>ve.id===i))==null?void 0:X.name)||"Class",ue=((V=a.find(ve=>ve.id===d))==null?void 0:V.name)||"Term";I==="PRINT"?(j(!0),setTimeout(()=>{window.print()},1e3)):I==="EXCEL"?(T6e(ee,G,ue),b("Excel exported successfully")):I==="CSV"&&(P6e(ee,G,ue),b("CSV exported successfully"))}catch(ee){console.error(ee),v("Failed to export reports")}finally{g(!1),O(!1)}},U=async()=>{if(!(!i||!d))try{g(!0),await dl.generateClassReports(i,d);const I=await dl.getClassReports(i,d);if(I.length===0){v("No students found in this class.");return}S(I),E(!0),m(null)}catch{v("Failed to load broadsheet")}finally{g(!1)}};return C?l.jsx("div",{className:"p-6 h-[calc(100vh-64px)]",children:l.jsx(L6e,{reports:N,onClose:()=>E(!1)})}):l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Report Cards"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 mb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academic Term"}),l.jsxs("select",{value:d,onChange:I=>f(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Term"}),a.map(I=>l.jsxs("option",{value:I.id,children:[I.name," (",new Date(I.startDate).getFullYear(),")"]},I.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class"}),l.jsxs("select",{value:i,onChange:I=>{o(I.target.value),u("")},className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Class"}),e.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Student"}),l.jsxs("select",{value:c,onChange:I=>u(I.target.value),disabled:!i,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none disabled:bg-gray-100 dark:disabled:bg-slate-700 disabled:text-gray-400 dark:disabled:text-gray-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"None (Select for individual report)"}),r.map(I=>l.jsxs("option",{value:I.id,children:[I.firstName," ",I.lastName]},I.id))]})]})]}),l.jsxs("div",{className:"mt-6 flex gap-3",children:[l.jsxs("button",{onClick:L,disabled:!c||!d||p,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",children:[l.jsx(Ps,{size:20}),p&&c?"Generating...":"Generate Student Report"]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>O(!F),disabled:!i||!d||p,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed",children:[l.jsx(Qs,{size:20}),"Export / Print"]}),F&&l.jsxs("div",{className:"absolute left-0 mt-2 w-56 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-gray-100 dark:border-slate-700 z-50 overflow-hidden",children:[l.jsxs("button",{onClick:()=>R("PRINT"),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-gray-300 border-b border-gray-50 dark:border-slate-700",children:[l.jsx(tx,{size:16,className:"text-blue-600"}),"Print Reports (PDF)"]}),l.jsxs("button",{onClick:()=>R("EXCEL"),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-gray-300 border-b border-gray-50 dark:border-slate-700",children:[l.jsx(Oy,{size:16,className:"text-green-600"}),"Export Excel (Results)"]}),l.jsxs("button",{onClick:()=>R("CSV"),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[l.jsx(Ps,{size:16,className:"text-gray-500"}),"Export CSV"]})]})]}),l.jsxs("button",{onClick:U,disabled:!i||!d||p,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:bg-emerald-300 disabled:cursor-not-allowed",children:[l.jsx(Oy,{size:20}),"Broadsheet"]})]}),x&&l.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex items-center gap-2",children:[l.jsx(pc,{size:20}),l.jsx("span",{children:x}),l.jsx("button",{onClick:()=>v(null),className:"ml-auto",children:l.jsx("div",{className:"sr-only",children:"Close"})})]}),y&&l.jsxs("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg border border-green-200 dark:border-green-800 flex items-center gap-2",children:[l.jsx(ca,{size:20}),l.jsx("span",{children:y}),l.jsx("button",{onClick:()=>b(null),className:"ml-auto",children:l.jsx("div",{className:"sr-only",children:"Close"})})]})]}),h&&!A&&l.jsx("div",{id:"printable-report",ref:Y,children:l.jsx(tF,{report:h,editable:!0,teacherRemark:T,principalRemark:K,onTeacherRemarkChange:H,onPrincipalRemarkChange:se,onSaveRemarks:z,saving:M})}),A&&N.length>0&&l.jsx("div",{className:"print-only",children:N.map(I=>l.jsx("div",{style:{pageBreakAfter:"always"},className:"pb-8",children:l.jsx(tF,{report:I,editable:!1})},I.id))})]})},rF=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],ZV=()=>{const{user:e}=Wa(),{settings:t}=Tj(),[r,n]=k.useState("CLASS"),[a,s]=k.useState(""),[i,o]=k.useState(""),[c,u]=k.useState(null),[d,f]=k.useState([]),[h,m]=k.useState([]),[p,g]=k.useState([]),[x,v]=k.useState([]),[y,b]=k.useState(!1),[N,S]=k.useState(!1),[A,j]=k.useState({dayOfWeek:"MONDAY",startTime:"08:00",endTime:"08:40",subjectId:"",teacherId:"",classIds:[]});k.useEffect(()=>{C()},[]),k.useEffect(()=>{c&&(r==="CLASS"&&a?E():r==="TEACHER"&&i&&F())},[r,a,i,c]);const C=async()=>{try{const M=(e==null?void 0:e.role)==="PARENT",[B,Y]=await Promise.all([Ee.get("/academic-terms"),Ee.get("/subjects")]),z=B.data.find(Q=>Q.isActive)||B.data[0];if(u(z),v(Y.data),M){const de=(await Ee.get("/students/my-children")).data.map(L=>L.class).filter(L=>L).reduce((L,R)=>L.find(I=>I.id===R.id)?L:L.concat([R]),[]);m(de),de.length>0&&s(de[0].id)}else if((e==null?void 0:e.role)==="STUDENT"){const Q=await Ee.get("/students/profile/me");Q.data.class&&(m([Q.data.class]),s(Q.data.class.id))}else{const[Q,de]=await Promise.all([Ee.get("/classes"),Ee.get("/users/teachers")]);m(Q.data),g(de.data),(e==null?void 0:e.role)==="TEACHER"?(n("TEACHER"),o(e.id)):Q.data.length>0&&s(Q.data[0].id)}}catch(M){console.error("Error fetching initial data:",M)}},E=async()=>{if(!(!a||!c)){b(!0);try{const M=await Ee.get(`/timetables/class/${a}?termId=${c.id}`);f(M.data)}catch(M){console.error("Error fetching class timetable:",M)}finally{b(!1)}}},F=async()=>{if(!(!i||!c)){b(!0);try{const M=await Ee.get(`/timetables/teacher/${i}?termId=${c.id}`);f(M.data)}catch(M){console.error("Error fetching teacher timetable:",M)}finally{b(!1)}}},O=async M=>{var B,Y;if(M.preventDefault(),!!c)try{let z=A.classIds;r==="CLASS"&&a&&z.length===0&&(z=[a]),await Ee.post("/timetables",{classIds:z,dayOfWeek:A.dayOfWeek,startTime:A.startTime,endTime:A.endTime,subjectId:A.subjectId,...r==="TEACHER"&&i?{teacherId:i}:{},academicTermId:c.id}),S(!1),r==="CLASS"?E():F(),j(Q=>({...Q,startTime:Q.endTime,endTime:"",classIds:[]}))}catch(z){console.error("Error adding period:",z),alert(((Y=(B=z.response)==null?void 0:B.data)==null?void 0:Y.message)||"Failed to add period")}},T=async M=>{if(confirm("Are you sure you want to delete this period?"))try{await Ee.delete(`/timetables/${M}`),r==="CLASS"?E():F()}catch(B){console.error("Error deleting period:",B)}},H=M=>d.filter(B=>B.dayOfWeek===M),K=()=>{var V;if(d.length===0){alert("No timetable data to export");return}const M=["Day","Start Time","End Time","Subject","Subject Code","Teacher","Classes"],B=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],z=[...d].sort((ee,G)=>{const ue=B.indexOf(ee.dayOfWeek)-B.indexOf(G.dayOfWeek);return ue!==0?ue:ee.startTime.localeCompare(G.startTime)}).map(ee=>{var G,ue;return[ee.dayOfWeek,ee.startTime,ee.endTime,ee.subject.name,ee.subject.code,((G=ee.teacher)==null?void 0:G.fullName)||"N/A",((ue=ee.classNames)==null?void 0:ue.join("; "))||"N/A"]}),Q=[M,...z].map(ee=>ee.map(G=>`"${G}"`).join(",")).join(`
`),de=new Blob([Q],{type:"text/csv;charset=utf-8;"}),L=URL.createObjectURL(de),R=document.createElement("a");R.setAttribute("href",L);const U=h.find(ee=>ee.id===a),I=p.find(ee=>ee.id===i),X=r==="CLASS"?`timetable_${(U==null?void 0:U.name)||"class"}_${(c==null?void 0:c.name)||"term"}.csv`:`timetable_${((V=I==null?void 0:I.fullName)==null?void 0:V.replace(/\s+/g,"_"))||"teacher"}_${(c==null?void 0:c.name)||"term"}.csv`;R.setAttribute("download",X),document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(L)},se=()=>{const M=h.find(I=>I.id===a),B=p.find(I=>I.id===i),Y=r==="CLASS"?(M==null?void 0:M.name)||"Class":(B==null?void 0:B.fullName)||"Teacher",z=r==="CLASS"?"Class Schedule":"Teacher Schedule",Q=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],de={MONDAY:"#3b82f6",TUESDAY:"#10b981",WEDNESDAY:"#f59e0b",THURSDAY:"#8b5cf6",FRIDAY:"#ec4899"},L=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),R=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${z} - ${Y}</title>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          
          body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; 
            background: #f8fafc;
            color: #1e293b;
            line-height: 1.5;
          }
          
          .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 30px;
            background: white;
            min-height: 100vh;
          }
          
          /* Header */
          .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 3px solid #3b82f6;
          }
          
          .school-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border-radius: 16px;
            margin-bottom: 16px;
            box-shadow: 0 4px 14px rgba(59, 130, 246, 0.3);
          }
          
          .school-badge svg {
            width: 36px;
            height: 36px;
            fill: white;
          }
          
          .school-name {
            font-size: 24px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
          }
          
          .title {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
          }
          
          .subtitle {
            font-size: 18px;
            color: #3b82f6;
            font-weight: 600;
            margin-bottom: 4px;
          }
          
          .term-badge {
            display: inline-block;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            color: #0369a1;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            margin-top: 12px;
            border: 1px solid #bae6fd;
          }
          
          /* Week Grid */
          .week-grid {
            display: grid;
            gap: 20px;
          }
          
          .day-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04);
            border: 1px solid #e2e8f0;
          }
          
          .day-header {
            padding: 14px 20px;
            color: white;
            font-weight: 600;
            font-size: 15px;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 10px;
          }
          
          .day-header .icon {
            width: 20px;
            height: 20px;
            opacity: 0.9;
          }
          
          .periods-list {
            padding: 0;
          }
          
          .period-row {
            display: grid;
            grid-template-columns: 120px 1fr 180px;
            gap: 16px;
            padding: 16px 20px;
            border-bottom: 1px solid #f1f5f9;
            align-items: center;
          }
          
          .period-row:last-child {
            border-bottom: none;
          }
          
          .period-row:hover {
            background: #fafbfc;
          }
          
          .time-slot {
            font-size: 13px;
            font-weight: 600;
            color: #475569;
            background: #f1f5f9;
            padding: 6px 12px;
            border-radius: 8px;
            text-align: center;
          }
          
          .subject-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
          }
          
          .subject-name {
            font-weight: 600;
            color: #1e293b;
            font-size: 15px;
          }
          
          .subject-code {
            font-size: 12px;
            color: #64748b;
            font-weight: 500;
          }
          
          .teacher-info {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #475569;
          }
          
          .teacher-avatar {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            color: #4338ca;
          }
          
          .combined-badge {
            display: inline-block;
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            color: #7c3aed;
            font-size: 11px;
            padding: 3px 10px;
            border-radius: 12px;
            font-weight: 600;
            margin-left: 8px;
            border: 1px solid #e9d5ff;
          }
          
          .no-classes {
            padding: 24px 20px;
            text-align: center;
            color: #94a3b8;
            font-style: italic;
            font-size: 14px;
          }
          
          /* Footer */
          .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #94a3b8;
          }
          
          .footer-logo {
            font-weight: 600;
            color: #64748b;
          }
          
          /* Print Styles */
          @media print {
            body { 
              background: white; 
              -webkit-print-color-adjust: exact;
              print-color-adjust: exact;
            }
            .container { 
              padding: 20px; 
              box-shadow: none;
            }
            .day-card {
              break-inside: avoid;
              box-shadow: none;
              border: 1px solid #d1d5db;
            }
            .period-row {
              break-inside: avoid;
            }
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <div class="school-badge" style="background: transparent; box-shadow: none;">
              ${t.logoUrl?`<img src="${t.logoUrl.startsWith("http")?t.logoUrl:window.location.origin+t.logoUrl}" alt="Logo" style="width: 80px; height: 80px; object-fit: contain;">`:`<div style="width: 70px; height: 70px; background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); border-radius: 16px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 14px rgba(59, 130, 246, 0.3);">
                     <svg viewBox="0 0 24 24" style="width: 36px; height: 36px; fill: white;"><path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/></svg>
                   </div>`}
            </div>
            <p class="school-name">${t.schoolName||"School Name"}</p>
            <h1 class="title">${Y}</h1>
            <p class="subtitle">${z}</p>
            <span class="term-badge"> ${(c==null?void 0:c.name)||"Academic Term"}</span>
          </div>
          
          <div class="week-grid">
            ${Q.map(I=>{const X=d.filter(ee=>ee.dayOfWeek===I).sort((ee,G)=>ee.startTime.localeCompare(G.startTime)),V=de[I]||"#3b82f6";return`
                <div class="day-card">
                  <div class="day-header" style="background: linear-gradient(135deg, ${V} 0%, ${V}dd 100%);">
                    <svg class="icon" viewBox="0 0 24 24" fill="white"><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"/></svg>
                    ${I}
                  </div>
                  ${X.length===0?'<div class="no-classes">No scheduled classes</div>':`<div class="periods-list">
                        ${X.map(ee=>{var ue,ve,q;const G=(((ue=ee.teacher)==null?void 0:ue.fullName)||"NA").split(" ").map(Me=>Me[0]).join("").substring(0,2);return`
                            <div class="period-row">
                              <div class="time-slot">${ee.startTime} - ${ee.endTime}</div>
                              <div class="subject-info">
                                <span class="subject-name">${ee.subject.name}</span>
                                <span class="subject-code">${ee.subject.code}</span>
                              </div>
                              <div class="teacher-info">
                                <div class="teacher-avatar">${G}</div>
                                ${r==="CLASS"?((ve=ee.teacher)==null?void 0:ve.fullName)||"Not Assigned":((q=ee.classNames)==null?void 0:q.join(", "))||"N/A"}
                                ${ee.isCombined?'<span class="combined-badge">Combined</span>':""}
                              </div>
                            </div>
                          `}).join("")}
                      </div>`}
                </div>
              `}).join("")}
          </div>
          
          <div class="footer">
            <span class="footer-logo"> ${t.schoolName||"School Name"}</span>
            <span>Generated on ${L}</span>
          </div>
        </div>
      </body>
      </html>
    `,U=window.open("","_blank");U&&(U.document.write(R),U.document.close(),U.focus(),setTimeout(()=>{U.print()},300))};return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[l.jsx(hs,{className:"text-blue-600"}),"Class Timetable"]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:c?`${c.name} Schedule`:"Loading term..."})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[["SUPER_ADMIN","TEACHER","BURSAR","SECRETARY"].includes((e==null?void 0:e.role)||"")&&l.jsxs("div",{className:"bg-gray-100 dark:bg-slate-700 p-1 rounded-lg flex",children:[l.jsx("button",{onClick:()=>n("CLASS"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r==="CLASS"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:"Class View"}),l.jsx("button",{onClick:()=>n("TEACHER"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r==="TEACHER"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:"Teacher View"})]}),r==="CLASS"?(e==null?void 0:e.role)==="STUDENT"&&h.length>0?l.jsxs("div",{className:"px-4 py-2 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg text-blue-800 dark:text-blue-300 font-medium flex items-center gap-2",children:[l.jsx("span",{className:"text-blue-500 dark:text-blue-400 text-xs uppercase font-bold",children:"Your Class:"}),h[0].name]}):l.jsxs("select",{value:a,onChange:M=>s(M.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Class"}),h.map(M=>l.jsx("option",{value:M.id,children:M.name},M.id))]}):l.jsxs("select",{value:i,onChange:M=>o(M.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Teacher"}),p.map(M=>l.jsx("option",{value:M.id,children:M.fullName},M.id))]}),((e==null?void 0:e.role)==="SUPER_ADMIN"||(e==null?void 0:e.role)==="TEACHER")&&l.jsxs("button",{onClick:()=>S(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",disabled:!a&&!i,children:[l.jsx(Ca,{size:20}),"Add Period"]}),d.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:K,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",title:"Export to CSV",children:[l.jsx(Qs,{size:18}),"CSV"]}),l.jsxs("button",{onClick:se,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",title:"Print / Save as PDF",children:[l.jsx(tx,{size:18}),"Print"]})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:rF.map(M=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col h-full",children:[l.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 px-4 py-3 border-b border-gray-200 dark:border-slate-600 font-semibold text-gray-700 dark:text-gray-200 text-center",children:M}),l.jsx("div",{className:"p-2 space-y-2 flex-1 min-h-[200px]",children:H(M).length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 dark:text-gray-500 text-sm italic",children:"No classes"}):H(M).map(B=>{var Y,z,Q;return l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800 rounded-lg p-3 hover:shadow-md transition-shadow relative group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsxs("span",{className:"text-xs font-bold text-blue-800 dark:text-blue-300 bg-blue-100 dark:bg-blue-800/50 px-2 py-0.5 rounded",children:[B.startTime," - ",B.endTime]}),((e==null?void 0:e.role)==="SUPER_ADMIN"||(e==null?void 0:e.role)==="TEACHER")&&l.jsx("button",{onClick:()=>T(B.id),className:"text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Cs,{size:14})})]}),l.jsx("h4",{className:"font-bold text-gray-800 dark:text-white text-sm mb-1",children:B.subject.name}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1",children:r==="CLASS"?l.jsxs(l.Fragment,{children:[l.jsx(lo,{size:12}),((Y=B.teacher)==null?void 0:Y.fullName)||"No Teacher",B.isCombined&&l.jsxs("span",{className:"ml-1 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-1.5 py-0.5 rounded text-xs",children:["Combined: ",(z=B.classNames)==null?void 0:z.join(", ")]})]}):l.jsxs(l.Fragment,{children:[l.jsx(In,{size:12}),((Q=B.classNames)==null?void 0:Q.join(", "))||"No Classes",B.isCombined&&l.jsx("span",{className:"ml-1 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-1.5 py-0.5 rounded text-xs",children:"Combined"})]})})]},B.id)})})]},M))}),N&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Add Timetable Period"}),l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Day"}),l.jsx("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:A.dayOfWeek,onChange:M=>j({...A,dayOfWeek:M.target.value}),children:rF.map(M=>l.jsx("option",{value:M,children:M},M))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject"}),l.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:A.subjectId,onChange:M=>j({...A,subjectId:M.target.value}),children:[l.jsx("option",{value:"",children:"Select Subject"}),x.map(M=>l.jsxs("option",{value:M.id,children:[M.name," (",M.code,")"]},M.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Time"}),l.jsx("input",{type:"time",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:A.startTime,onChange:M=>j({...A,startTime:M.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Time"}),l.jsx("input",{type:"time",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:A.endTime,onChange:M=>j({...A,endTime:M.target.value})})]})]}),r==="CLASS"?l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Teacher"}),(()=>{const M=x.find(B=>B.id===A.subjectId);return A.subjectId?M!=null&&M.teacher?l.jsxs("div",{className:"px-3 py-2 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/30 rounded-lg text-green-800 dark:text-green-300 font-medium flex items-center gap-2",children:[l.jsx(lo,{size:16}),M.teacher.fullName,l.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 ml-auto",children:"(Auto-assigned)"})]}):l.jsx("div",{className:"px-3 py-2 border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg text-yellow-800 dark:text-yellow-300 text-sm",children:" No teacher assigned to this subject. Please assign one in the Subjects page."}):l.jsx("div",{className:"px-3 py-2 border border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 rounded-lg text-gray-500 dark:text-gray-400 text-sm italic",children:"Select a subject first"})})()]}):l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Classes ",l.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:"(Select one or more for combined sessions)"})]}),l.jsx("div",{className:"border border-gray-300 dark:border-slate-600 rounded-lg max-h-40 overflow-y-auto p-2 space-y-1 bg-white dark:bg-slate-700",children:h.map(M=>l.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-gray-50 dark:hover:bg-slate-600 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:A.classIds.includes(M.id),onChange:B=>{B.target.checked?j({...A,classIds:[...A.classIds,M.id]}):j({...A,classIds:A.classIds.filter(Y=>Y!==M.id)})},className:"h-4 w-4 rounded border-gray-300 dark:border-slate-500 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:M.name})]},M.id))}),A.classIds.length>1&&l.jsxs("p",{className:"text-xs text-purple-600 mt-1 flex items-center gap-1",children:[l.jsx(In,{size:12}),"Combined session: ",A.classIds.length," classes selected"]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Period"})]})]})]})})]})},D6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(""),[i,o]=k.useState(""),[c,u]=k.useState([]),[d,f]=k.useState({}),[h,m]=k.useState(!1),[p,g]=k.useState(!1),[x,v]=k.useState("");k.useEffect(()=>{y(),b()},[]);const y=async()=>{try{const j=await Ee.get("/classes");t(j.data)}catch(j){console.error("Failed to fetch classes",j)}},b=async()=>{try{const j=await Ee.get("/academic-terms");n(j.data);const C=j.data.find(E=>E.isCurrent);C&&o(C.id)}catch(j){console.error("Failed to fetch terms",j)}},N=async()=>{if(!(!a||!i)){m(!0);try{const j=await Ee.get("/promotions/candidates",{params:{classId:a,academicTermId:i}});u(j.data);const C={};j.data.forEach(E=>{C[E.studentId]={studentId:E.studentId,action:E.recommendedAction,reason:E.reason}}),f(C)}catch(j){console.error("Failed to fetch candidates",j),alert("Failed to fetch promotion candidates")}finally{m(!1)}}},S=(j,C)=>{f(E=>({...E,[j]:{...E[j],action:C}}))},A=async()=>{if(!x){alert("Please select the next class for promoted students");return}if(window.confirm("Are you sure you want to process these promotions? This action will update student records.")){g(!0);try{const j=Object.values(d).map(C=>({studentId:C.studentId,targetClassId:C.action==="PROMOTE"?x:a,reason:C.reason||(C.action==="PROMOTE"?"Promoted":"Retained")}));await Ee.post("/promotions/process",{promotions:j,currentTermId:i}),alert("Promotions processed successfully"),u([]),f({}),s("")}catch(j){console.error("Failed to process promotions",j),alert("Failed to process promotions")}finally{g(!1)}}};return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Promotion Criteria Selection"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Class"}),l.jsxs("select",{value:a,onChange:j=>s(j.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Class"}),e.map(j=>l.jsx("option",{value:j.id,children:j.name},j.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academic Term"}),l.jsxs("select",{value:i,onChange:j=>o(j.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Term"}),r.map(j=>l.jsxs("option",{value:j.id,children:[j.name," ",j.isCurrent?"(Current)":""]},j.id))]})]}),l.jsx("button",{onClick:N,disabled:!a||!i||h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300",children:h?"Loading...":"Fetch Candidates"})]})]}),c.length>0&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Promotion Candidates"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mr-2",children:"Promote To:"}),l.jsxs("select",{value:x,onChange:j=>v(j.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-slate-600 rounded-lg text-sm bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Next Class"}),e.filter(j=>j.id!==a).map(j=>l.jsx("option",{value:j.id,children:j.name},j.id))]})]}),l.jsxs("button",{onClick:A,disabled:p||!x,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-green-300",children:[l.jsx(Qu,{size:18}),p?"Processing...":"Save Changes"]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-100 dark:border-slate-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Student"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Average Score"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Recommendation"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:c.map(j=>{var C,E;return l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:j.studentName}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.admissionNumber})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("span",{className:`font-medium ${j.averageScore>=50?"text-green-600":"text-red-600"}`,children:[j.averageScore.toFixed(1),"%"]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[j.recommendedAction==="PROMOTE"?l.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-medium bg-green-50 px-2 py-1 rounded",children:[l.jsx(ca,{size:14})," Promote"]}):l.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-sm font-medium bg-red-50 px-2 py-1 rounded",children:[l.jsx(uh,{size:14})," Retain"]}),l.jsxs("span",{className:"text-xs text-gray-400",children:["(",j.reason,")"]})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>S(j.studentId,"PROMOTE"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${((C=d[j.studentId])==null?void 0:C.action)==="PROMOTE"?"bg-green-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"}`,children:"Promote"}),l.jsx("button",{onClick:()=>S(j.studentId,"RETAIN"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${((E=d[j.studentId])==null?void 0:E.action)==="RETAIN"?"bg-red-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"}`,children:"Retain"})]})})]},j.studentId)})})]})})]})]})},I6e=()=>{const{user:e}=Wa(),[t,r]=k.useState("SYLLABUS"),[n,a]=k.useState(""),[s,i]=k.useState(""),[o,c]=k.useState([]),[u,d]=k.useState([]),[f,h]=k.useState([]),[m,p]=k.useState([]),[g,x]=k.useState(null),[v,y]=k.useState(!1),[b,N]=k.useState(!1),[S,A]=k.useState(!1),[j,C]=k.useState({weekStartDate:new Date().toISOString().split("T")[0],title:"",content:"",fileUrl:""}),[E,F]=k.useState({title:"",description:"",orderIndex:0});k.useEffect(()=>{O()},[]),k.useEffect(()=>{n&&s&&(t==="SYLLABUS"?T():H())},[n,s,t]);const O=async()=>{try{const[B,Y,z]=await Promise.all([Ee.get("/classes"),Ee.get("/subjects"),Ee.get("/academic-terms")]);c(B.data),d(Y.data);const Q=z.data.find(de=>de.isActive)||z.data[0];x(Q),B.data.length>0&&a(B.data[0].id),Y.data.length>0&&i(Y.data[0].id)}catch(B){console.error("Error fetching initial data:",B)}},T=async()=>{y(!0);try{const B=await Ee.get(`/syllabus/progress?classId=${n}&subjectId=${s}`);h(B.data)}catch(B){console.error("Error fetching syllabus:",B)}finally{y(!1)}},H=async()=>{y(!0);try{const B=await Ee.get(`/syllabus/lesson-plans?classId=${n}&subjectId=${s}`);p(B.data)}catch(B){console.error("Error fetching lesson plans:",B)}finally{y(!1)}},K=async(B,Y)=>{const z=Y==="COMPLETED"?"PENDING":"COMPLETED";try{await Ee.put(`/syllabus/progress/${B}/${n}`,{status:z}),h(f.map(Q=>Q.id===B?{...Q,status:z,completedAt:z==="COMPLETED"?new Date().toISOString():null}:Q))}catch(Q){console.error("Error updating status:",Q),T()}},se=async B=>{if(B.preventDefault(),!!g)try{await Ee.post("/syllabus/lesson-plans",{...j,classId:n,subjectId:s,termId:g.id}),N(!1),C({weekStartDate:new Date().toISOString().split("T")[0],title:"",content:"",fileUrl:""}),H()}catch(Y){console.error("Error adding lesson plan:",Y)}},M=async B=>{B.preventDefault();const Y=o.find(z=>z.id===n);if(Y)try{await Ee.post("/syllabus/topics",{...E,subjectId:s,gradeLevel:Y.gradeLevel}),A(!1),F({title:"",description:"",orderIndex:0}),T()}catch(z){console.error("Error adding topic:",z)}};return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[l.jsx(cs,{className:"text-blue-600"}),"Lesson Planner"]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage syllabus coverage and lesson plans"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("select",{value:n,onChange:B=>a(B.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:o.map(B=>l.jsx("option",{value:B.id,children:B.name},B.id))}),l.jsx("select",{value:s,onChange:B=>i(B.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:u.map(B=>l.jsx("option",{value:B.id,children:B.name},B.id))})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-slate-700 mb-6",children:[l.jsxs("button",{onClick:()=>r("SYLLABUS"),className:`px-6 py-3 font-medium text-sm transition-colors relative ${t==="SYLLABUS"?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Syllabus Tracker",t==="SYLLABUS"&&l.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]}),l.jsxs("button",{onClick:()=>r("PLANS"),className:`px-6 py-3 font-medium text-sm transition-colors relative ${t==="PLANS"?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Lesson Plans",t==="PLANS"&&l.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]})]}),t==="SYLLABUS"?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Topics & Progress"}),l.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:18}),"Add Topic"]})]}),v?l.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading syllabus..."}):f.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No topics found for this subject/grade."}),l.jsx("button",{onClick:()=>A(!0),className:"mt-2 text-blue-600 font-medium hover:underline",children:"Add your first topic"})]}):l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 divide-y divide-gray-100 dark:divide-slate-700",children:f.map(B=>l.jsxs("div",{className:"p-4 flex items-start gap-4 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsx("button",{onClick:()=>K(B.id,B.status),className:`mt-1 flex-shrink-0 transition-colors ${B.status==="COMPLETED"?"text-green-500":"text-gray-300 hover:text-gray-400"}`,children:B.status==="COMPLETED"?l.jsx(ca,{size:24}):l.jsx(gR,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:`font-medium ${B.status==="COMPLETED"?"text-gray-500 dark:text-gray-400 line-through":"text-gray-900 dark:text-white"}`,children:B.title}),B.completedAt&&l.jsxs("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:["Completed ",new Date(B.completedAt).toLocaleDateString()]})]}),B.description&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:B.description})]})]},B.id))})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Weekly Lesson Plans"}),l.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:18}),"Create Plan"]})]}),v?l.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading plans..."}):m.length===0?l.jsx("div",{className:"text-center py-12 bg-gray-50 dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No lesson plans found."})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(B=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"flex justify-between items-start mb-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-full text-sm font-medium",children:[l.jsx(hs,{size:16}),"Week of ",new Date(B.weekStartDate).toLocaleDateString()]})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:B.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-3",children:B.content}),l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[l.jsx(Ps,{size:16}),B.teacher.fullName]}),l.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details"})]})]},B.id))})]}),S&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Add New Topic"}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Topic Title"}),l.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:E.title,onChange:B=>F({...E,title:B.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",rows:3,value:E.description,onChange:B=>F({...E,description:B.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Order Index"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:E.orderIndex,onChange:B=>F({...E,orderIndex:parseInt(B.target.value)})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Topic"})]})]})]})}),b&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Create Lesson Plan"}),l.jsxs("form",{onSubmit:se,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Week Start Date"}),l.jsx("input",{type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:j.weekStartDate,onChange:B=>C({...j,weekStartDate:B.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),l.jsx("input",{type:"text",required:!0,placeholder:"e.g., Introduction to Algebra",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:j.title,onChange:B=>C({...j,title:B.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content / Objectives"}),l.jsx("textarea",{required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",rows:6,placeholder:"Outline the lesson objectives and activities...",value:j.content,onChange:B=>C({...j,content:B.target.value})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Plan"})]})]})]})})]})},M6e=()=>{const{user:e}=Wa(),[t,r]=k.useState(""),a=[{id:"assessments",label:"Assessments",roles:["SUPER_ADMIN","TEACHER"]},{id:"reports",label:"Report Cards",roles:["SUPER_ADMIN","TEACHER","SECRETARY"]},{id:"lesson-planner",label:"Lesson Planner",roles:["SUPER_ADMIN","TEACHER"]},{id:"timetable",label:"Timetable",roles:["SUPER_ADMIN","TEACHER","BURSAR","SECRETARY","PARENT","STUDENT"]},{id:"classes",label:"Classes",roles:["SUPER_ADMIN","SECRETARY"]},{id:"subjects",label:"Subjects",roles:["SUPER_ADMIN"]},{id:"grading",label:"Grading Scales",roles:["SUPER_ADMIN"]},{id:"terms",label:"Terms",roles:["SUPER_ADMIN"]},{id:"promotions",label:"Promotions",roles:["SUPER_ADMIN"]}].filter(s=>e&&(s.roles.includes(e.role)||e.role==="SUPER_ADMIN"));return k.useEffect(()=>{a.length>0&&(!t||!a.find(s=>s.id===t))&&r(a[0].id)},[e,a.length,t]),e?l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Academic Management"}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700 flex flex-wrap gap-1",children:a.map(s=>l.jsx("button",{onClick:()=>r(s.id),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all whitespace-nowrap ${t===s.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-700/50"}`,children:s.label},s.id))})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 min-h-[400px]",children:[t==="classes"&&a.find(s=>s.id==="classes")&&l.jsx(KV,{}),t==="subjects"&&a.find(s=>s.id==="subjects")&&l.jsx(GV,{}),t==="assessments"&&a.find(s=>s.id==="assessments")&&l.jsx(C6e,{}),t==="grading"&&a.find(s=>s.id==="grading")&&l.jsx(YV,{}),t==="reports"&&a.find(s=>s.id==="reports")&&l.jsx(XV,{}),t==="timetable"&&a.find(s=>s.id==="timetable")&&l.jsx(ZV,{}),t==="lesson-planner"&&a.find(s=>s.id==="lesson-planner")&&l.jsx(I6e,{}),t==="terms"&&a.find(s=>s.id==="terms")&&l.jsx(A6e,{}),t==="promotions"&&a.find(s=>s.id==="promotions")&&l.jsx(D6e,{})]})]}):null},nF=["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY","PARENT","STUDENT"],R6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(""),[i,o]=k.useState(""),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,m]=k.useState({fullName:"",email:"",role:"TEACHER",password:""});k.useEffect(()=>{p()},[i]);const p=async()=>{n(!0);try{const S={};i&&(S.role=i);const A=await Ee.get("/users",{params:S});t(A.data)}catch(S){console.error("Failed to fetch users",S)}finally{n(!1)}},g=async S=>{var A,j;S.preventDefault();try{if(d){const C={fullName:h.fullName,email:h.email,role:h.role};h.password&&(C.password=h.password),await Ee.put(`/users/${d.id}`,C)}else await Ee.post("/users",h);p(),u(!1),v()}catch(C){console.error("Failed to save user",C),alert(((j=(A=C.response)==null?void 0:A.data)==null?void 0:j.error)||"Failed to save user")}},x=async S=>{if(window.confirm("Are you sure you want to change this user's status?"))try{await Ee.patch(`/users/${S}/status`),p()}catch(A){console.error("Failed to toggle status",A)}},v=()=>{m({fullName:"",email:"",role:"TEACHER",password:""}),f(null)},y=S=>{f(S),m({fullName:S.fullName,email:S.email,role:S.role,password:""}),u(!0)},b=()=>{v(),u(!0)},N=e.filter(S=>S.fullName.toLowerCase().includes(a.toLowerCase())||S.email.toLowerCase().includes(a.toLowerCase()));return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"User Management"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage system access and roles"})]}),l.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Ca,{size:20}),l.jsx("span",{children:"Add User"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ei,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:S=>s(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white"})]}),l.jsxs("select",{value:i,onChange:S=>o(S.target.value),className:"px-4 py-2 border border-gray-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"",children:"All Roles"}),nF.map(S=>l.jsx("option",{value:S,children:S.replace("_"," ")},S))]})]}),r?l.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading users..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-100 dark:border-slate-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"User"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"Role"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"Created"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:N.map(S=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold mr-3",children:S.fullName.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:S.fullName}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.email})]})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200",children:S.role.replace("_"," ")})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S.isActive?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:S.isActive?"Active":"Inactive"})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:new Date(S.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>y(S),className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Edit User",children:l.jsx(Al,{size:18})}),l.jsx("button",{onClick:()=>x(S.id),className:`${S.isActive?"text-green-600 hover:text-red-600":"text-red-600 hover:text-green-600"} transition-colors`,title:S.isActive?"Deactivate User":"Activate User",children:l.jsx(ree,{size:18})})]})})]},S.id))})]})})]}),c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pb-safe",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto pb-safe",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:d?"Edit User":"Add New User"}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(lo,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",required:!0,value:h.fullName,onChange:S=>m({...h,fullName:S.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"John Doe"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qg,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"email",required:!0,value:h.email,onChange:S=>m({...h,email:S.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"john@example.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Role"}),l.jsxs("div",{className:"relative",children:[l.jsx(see,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("select",{value:h.role,onChange:S=>m({...h,role:S.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:nF.map(S=>l.jsx("option",{value:S,children:S.replace("_"," ")},S))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:d?"New Password (leave blank to keep current)":"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(xR,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"password",required:!d,minLength:6,value:h.password,onChange:S=>m({...h,password:S.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:d?"":"Enter password"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:d?"Update User":"Create User"})]})]})]})})]})},B6e=()=>{const{refreshSettings:e}=Tj(),[t,r]=k.useState({schoolName:"",schoolAddress:"",schoolPhone:"",schoolEmail:"",schoolWebsite:"",currentTermId:"",primaryColor:"#2563eb",secondaryColor:"#475569",accentColor:"#f59e0b",emailNotificationsEnabled:!0,smsNotificationsEnabled:!1,feeReminderEnabled:!0,feeReminderDaysBefore:7,overdueReminderEnabled:!0,overdueReminderFrequency:7,smtpHost:"",smtpPort:"",smtpSecure:!0,smtpUser:"",smtpPassword:"",smtpFromEmail:"",smtpFromName:"",smsProvider:"",smsApiKey:"",smsApiSecret:"",smsSenderId:"",lencoApiKey:"",lencoEnvironment:"sandbox",lencoDefaultBearer:"merchant"}),[n,a]=k.useState([]),[s,i]=k.useState(!0),[o,c]=k.useState(!1),[u,d]=k.useState("general"),[f,h]=k.useState(null),[m,p]=k.useState(!1),g=k.useRef(null);k.useEffect(()=>{x()},[]);const x=async()=>{try{const[N,S]=await Promise.all([Ee.get("/settings"),Ee.get("/academic-terms")]);r({schoolName:N.data.schoolName||"",schoolAddress:N.data.schoolAddress||"",schoolPhone:N.data.schoolPhone||"",schoolEmail:N.data.schoolEmail||"",schoolWebsite:N.data.schoolWebsite||"",currentTermId:N.data.currentTermId||"",primaryColor:N.data.primaryColor||"#2563eb",secondaryColor:N.data.secondaryColor||"#475569",accentColor:N.data.accentColor||"#f59e0b",emailNotificationsEnabled:N.data.emailNotificationsEnabled??!0,smsNotificationsEnabled:N.data.smsNotificationsEnabled??!1,feeReminderEnabled:N.data.feeReminderEnabled??!0,feeReminderDaysBefore:N.data.feeReminderDaysBefore??7,overdueReminderEnabled:N.data.overdueReminderEnabled??!0,overdueReminderFrequency:N.data.overdueReminderFrequency??7,smtpHost:N.data.smtpHost||"",smtpPort:N.data.smtpPort||"",smtpSecure:N.data.smtpSecure??!0,smtpUser:N.data.smtpUser||"",smtpPassword:N.data.smtpPassword||"",smtpFromEmail:N.data.smtpFromEmail||"",smtpFromName:N.data.smtpFromName||"",smsProvider:N.data.smsProvider||"",smsApiKey:N.data.smsApiKey||"",smsApiSecret:N.data.smsApiSecret||"",smsSenderId:N.data.smsSenderId||"",lencoApiKey:N.data.lencoApiKey||"",lencoEnvironment:N.data.lencoEnvironment||"sandbox",lencoDefaultBearer:N.data.lencoDefaultBearer||"merchant"}),h(N.data.logoUrl||null),a(S.data)}catch(N){console.error("Failed to fetch settings",N)}finally{i(!1)}},v=async N=>{var A;const S=(A=N.target.files)==null?void 0:A[0];if(S){p(!0);try{const j=new FormData;j.append("logo",S);const C=await Ee.post("/settings/logo",j,{headers:{"Content-Type":"multipart/form-data"}});h(C.data.logoUrl),e()}catch(j){console.error("Failed to upload logo",j),alert("Failed to upload logo. Please try again.")}finally{p(!1),g.current&&(g.current.value="")}}},y=async()=>{if(confirm("Are you sure you want to delete the school logo?"))try{await Ee.delete("/settings/logo"),h(null),e()}catch(N){console.error("Failed to delete logo",N)}},b=async N=>{var S,A,j,C,E;N.preventDefault(),c(!0);try{const F={...t,currentTermId:t.currentTermId===""?null:t.currentTermId,smtpPort:t.smtpPort===""?null:Number(t.smtpPort)};await Ee.put("/settings",F),await e(),alert("Settings saved successfully")}catch(F){console.error("Failed to save settings",((S=F.response)==null?void 0:S.data)||F),alert("Failed to save settings: "+(((E=(C=(j=(A=F.response)==null?void 0:A.data)==null?void 0:j.errors)==null?void 0:C[0])==null?void 0:E.message)||"Unknown error"))}finally{c(!1)}};return s?l.jsx("div",{className:"p-6 dark:text-white",children:"Loading..."}):l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"System Settings"}),l.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-gray-200 dark:border-slate-700 overflow-x-auto scrollbar-hide",children:[l.jsx("button",{onClick:()=>d("general"),className:`pb-2 px-1 whitespace-nowrap ${u==="general"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"General"}),l.jsx("button",{onClick:()=>d("academic"),className:`pb-2 px-1 whitespace-nowrap ${u==="academic"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Academic"}),l.jsx("button",{onClick:()=>d("theme"),className:`pb-2 px-1 whitespace-nowrap ${u==="theme"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Theme & Branding"}),l.jsx("button",{onClick:()=>d("communication"),className:`pb-2 px-1 whitespace-nowrap ${u==="communication"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Communication"}),l.jsx("button",{onClick:()=>d("payments"),className:`pb-2 px-1 whitespace-nowrap ${u==="payments"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Payments"})]}),l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u==="general"&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[l.jsx(ag,{className:"text-blue-600 dark:text-blue-400",size:20}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"School Information"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"School Name"}),l.jsx("input",{type:"text",required:!0,value:t.schoolName,onChange:N=>r({...t,schoolName:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"School Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 dark:border-slate-600 flex items-center justify-center bg-gray-50 dark:bg-slate-700 overflow-hidden",children:f?l.jsx("img",{src:f.startsWith("http")?f:`${window.location.origin}${f}`,alt:"School Logo",className:"w-full h-full object-contain"}):l.jsx(HQ,{size:32,className:"text-gray-400"})}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("input",{type:"file",ref:g,accept:"image/*",onChange:v,className:"hidden",id:"logo-upload"}),l.jsxs("label",{htmlFor:"logo-upload",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium cursor-pointer transition-colors ${m?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[l.jsx(Ni,{size:16}),m?"Uploading...":"Upload Logo"]}),f&&l.jsxs("button",{type:"button",onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[l.jsx(Cs,{size:16}),"Remove"]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG up to 2MB. Recommended: 200x200px"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Phone Number"}),l.jsxs("div",{className:"relative",children:[l.jsx(ex,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",value:t.schoolPhone,onChange:N=>r({...t,schoolPhone:N.target.value}),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qg,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"email",value:t.schoolEmail,onChange:N=>r({...t,schoolEmail:N.target.value}),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(Dj,{size:16,className:"absolute left-3 top-3 text-gray-400"}),l.jsx("textarea",{rows:3,value:t.schoolAddress,onChange:N=>r({...t,schoolAddress:N.target.value}),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Website"}),l.jsxs("div",{className:"relative",children:[l.jsx($Q,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"url",value:t.schoolWebsite,onChange:N=>r({...t,schoolWebsite:N.target.value}),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"https://"})]})]})]})]}),u==="academic"&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[l.jsx(hs,{className:"text-blue-600 dark:text-blue-400",size:20}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Academic Configuration"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Current Academic Term"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"This sets the active term for attendance, grading, and fees."}),l.jsxs("select",{value:t.currentTermId,onChange:N=>r({...t,currentTermId:N.target.value}),className:"w-full md:w-1/2 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Active Term"}),n.map(N=>l.jsxs("option",{value:N.id,children:[N.name," (",new Date(N.startDate).toLocaleDateString()," - ",new Date(N.endDate).toLocaleDateString(),")"]},N.id))]})]})]}),u==="theme"&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[l.jsx(JQ,{className:"text-blue-600 dark:text-blue-400",size:20}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Theme & Branding"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Primary Color"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"color",value:t.primaryColor,onChange:N=>r({...t,primaryColor:N.target.value}),className:"h-10 w-10 rounded border border-gray-300 dark:border-slate-600 cursor-pointer"}),l.jsx("input",{type:"text",value:t.primaryColor,onChange:N=>r({...t,primaryColor:N.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 uppercase bg-white dark:bg-slate-700 dark:text-white",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Used for buttons, links, and active states."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Secondary Color"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"color",value:t.secondaryColor,onChange:N=>r({...t,secondaryColor:N.target.value}),className:"h-10 w-10 rounded border border-gray-300 dark:border-slate-600 cursor-pointer"}),l.jsx("input",{type:"text",value:t.secondaryColor,onChange:N=>r({...t,secondaryColor:N.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 uppercase bg-white dark:bg-slate-700 dark:text-white",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Used for text, borders, and backgrounds."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Accent Color"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"color",value:t.accentColor,onChange:N=>r({...t,accentColor:N.target.value}),className:"h-10 w-10 rounded border border-gray-300 dark:border-slate-600 cursor-pointer"}),l.jsx("input",{type:"text",value:t.accentColor,onChange:N=>r({...t,accentColor:N.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 uppercase bg-white dark:bg-slate-700 dark:text-white",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Used for highlights and special indicators."})]})]})]}),u==="communication"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[l.jsx(ch,{className:"text-blue-600 dark:text-blue-400",size:20}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Notification Channels"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Email Notifications"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send notifications via email to parents and staff"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t.emailNotificationsEnabled,onChange:N=>r({...t,emailNotificationsEnabled:N.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"SMS Notifications"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send notifications via SMS to parents"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t.smsNotificationsEnabled,onChange:N=>r({...t,smsNotificationsEnabled:N.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[l.jsx(Du,{className:"text-blue-600 dark:text-blue-400",size:20}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Fee Reminder Settings"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Automatic Fee Reminders"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send reminders before fee due dates"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t.feeReminderEnabled,onChange:N=>r({...t,feeReminderEnabled:N.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.feeReminderEnabled&&l.jsxs("div",{className:"pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Send reminder this many days before due date"}),l.jsx("input",{type:"number",min:"1",max:"30",value:t.feeReminderDaysBefore,onChange:N=>r({...t,feeReminderDaysBefore:parseInt(N.target.value)||7}),className:"w-32 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),l.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:"days"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Overdue Reminders"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send reminders for overdue payments"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t.overdueReminderEnabled,onChange:N=>r({...t,overdueReminderEnabled:N.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.overdueReminderEnabled&&l.jsxs("div",{className:"pl-4 border-l-2 border-orange-200 dark:border-orange-800",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Send overdue reminder every"}),l.jsx("input",{type:"number",min:"1",max:"30",value:t.overdueReminderFrequency,onChange:N=>r({...t,overdueReminderFrequency:parseInt(N.target.value)||7}),className:"w-32 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),l.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:"days"})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[l.jsx(nee,{className:"text-blue-600 dark:text-blue-400",size:20}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Email Settings (SMTP)"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"SMTP Host"}),l.jsx("input",{type:"text",value:t.smtpHost,onChange:N=>r({...t,smtpHost:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"smtp.gmail.com"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"SMTP Port"}),l.jsx("input",{type:"number",value:t.smtpPort,onChange:N=>r({...t,smtpPort:N.target.value===""?"":parseInt(N.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"587"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Username"}),l.jsx("input",{type:"text",value:t.smtpUser,onChange:N=>r({...t,smtpUser:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Password"}),l.jsx("input",{type:"password",value:t.smtpPassword,onChange:N=>r({...t,smtpPassword:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:""})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"From Email"}),l.jsx("input",{type:"email",value:t.smtpFromEmail,onChange:N=>r({...t,smtpFromEmail:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"noreply@school.com"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"From Name"}),l.jsx("input",{type:"text",value:t.smtpFromName,onChange:N=>r({...t,smtpFromName:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"School Admin"})]}),l.jsx("div",{className:"col-span-2",children:l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t.smtpSecure,onChange:N=>r({...t,smtpSecure:N.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:"Use Secure Connection (SSL/TLS)"})]})})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[l.jsx(Bo,{className:"text-blue-600 dark:text-blue-400",size:20}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"SMS Gateway Settings"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Provider"}),l.jsxs("select",{value:t.smsProvider,onChange:N=>r({...t,smsProvider:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[l.jsx("option",{value:"",children:"Select Provider"}),l.jsx("option",{value:"TWILIO",children:"Twilio"}),l.jsx("option",{value:"AFRICASTALKING",children:"Africa's Talking"}),l.jsx("option",{value:"GENERIC",children:"Generic HTTP"})]})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Sender ID"}),l.jsx("input",{type:"text",value:t.smsSenderId,onChange:N=>r({...t,smsSenderId:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"SCHOOL"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"API Key / SID"}),l.jsx("input",{type:"password",value:t.smsApiKey,onChange:N=>r({...t,smsApiKey:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"API Secret / Token"}),l.jsx("input",{type:"password",value:t.smsApiSecret,onChange:N=>r({...t,smsApiSecret:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]})]})]}),u==="payments"&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[l.jsx(hl,{className:"text-blue-600 dark:text-blue-400",size:20}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Payment Gateway Settings"})]}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-md font-medium text-gray-800 dark:text-white",children:"Lenco (Mobile Money)"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Configure Lenco API for mobile money collections (Airtel/MTN/TNM)"})]}),l.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"Supported in ZM & MW"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-slate-700 p-4 rounded-lg border border-gray-200 dark:border-slate-600",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"API Key"}),l.jsx("input",{type:"password",value:t.lencoApiKey||"",onChange:N=>r({...t,lencoApiKey:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-600 dark:text-white",placeholder:"Paste your Lenco API key here"}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Found in your Lenco dashboard under Settings ",">"," API Keys"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Environment"}),l.jsxs("select",{value:t.lencoEnvironment||"sandbox",onChange:N=>r({...t,lencoEnvironment:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-600 dark:text-white",children:[l.jsx("option",{value:"sandbox",children:"Sandbox (Test Mode)"}),l.jsx("option",{value:"production",children:"Production (Live Mode)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Fee Bearer"}),l.jsxs("select",{value:t.lencoDefaultBearer||"merchant",onChange:N=>r({...t,lencoDefaultBearer:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-600 dark:text-white",children:[l.jsx("option",{value:"merchant",children:"Merchant (School pays fees)"}),l.jsx("option",{value:"customer",children:"Customer (Parent pays fees)"})]})]})]})]})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:[l.jsx(Qu,{size:20}),o?"Saving...":"Save Settings"]})})]})]})},z6e=({isOpen:e,onClose:t,onCapture:r})=>{const n=k.useRef(null),a=k.useRef(null),[s,i]=k.useState(null),[o,c]=k.useState(""),u=k.useCallback(async()=>{c("");try{const h=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});i(h),n.current&&(n.current.srcObject=h)}catch(h){console.warn("Initial camera access failed, trying fallback...",h);try{const m=await navigator.mediaDevices.getUserMedia({video:!0});i(m),n.current&&(n.current.srcObject=m)}catch(m){console.error("Error accessing camera:",m),c("Could not access camera. Please check permissions or close other apps using the camera.")}}},[]),d=k.useCallback(()=>{s&&(s.getTracks().forEach(h=>h.stop()),i(null))},[s]);Ou.useEffect(()=>(e?u():d(),()=>d()),[e,u,d]);const f=()=>{if(n.current&&a.current){const h=n.current,m=a.current;m.width=h.videoWidth,m.height=h.videoHeight;const p=m.getContext("2d");p&&(p.translate(m.width,0),p.scale(-1,1),p.drawImage(h,0,0,m.width,m.height),m.toBlob(g=>{if(g){const x=new File([g],"profile-photo.jpg",{type:"image/jpeg"});r(x),t()}},"image/jpeg",.8))}};return e?l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex flex-col items-center justify-center p-4",children:[l.jsxs("div",{className:"w-full max-w-md bg-black rounded-2xl overflow-hidden relative",children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white z-10 p-2 bg-gray-800 rounded-full",children:l.jsx(ea,{size:24})}),o?l.jsxs("div",{className:"h-96 flex flex-col items-center justify-center text-white text-center p-6 gap-4",children:[l.jsx("p",{children:o}),l.jsxs("button",{onClick:()=>u(),className:"px-4 py-2 bg-blue-600 rounded-lg flex items-center gap-2 hover:bg-blue-700 transition-colors",children:[l.jsx(Wd,{size:16}),"Retry Camera"]})]}):l.jsx("div",{className:"relative aspect-[3/4] bg-gray-900",children:l.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover transform -scale-x-100"})}),l.jsx("div",{className:"p-6 flex justify-center items-center gap-8 bg-black",children:l.jsx("button",{onClick:f,className:"w-16 h-16 rounded-full border-4 border-white flex items-center justify-center bg-white/20 active:bg-white/50 transition-colors",children:l.jsx("div",{className:"w-12 h-12 bg-white rounded-full"})})})]}),l.jsx("canvas",{ref:a,className:"hidden"})]}):null},U6e=()=>{var p;const{user:e,refreshUser:t}=Wa(),[r,n]=k.useState(!1),[a,s]=k.useState(!1),[i,o]=k.useState(!1),[c,u]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),d=k.useRef(null),f=async g=>{s(!0);const x=new FormData;x.append("image",g);try{await Ee.post("/profile/picture",x,{headers:{"Content-Type":"multipart/form-data"}}),await t(),alert("Profile picture updated!")}catch(v){console.error("Upload failed",v),alert("Failed to upload profile picture")}finally{s(!1)}},h=g=>{g.target.files&&g.target.files[0]&&f(g.target.files[0])},m=async g=>{var x,v;if(g.preventDefault(),c.newPassword!==c.confirmPassword){alert("New passwords don't match");return}n(!0);try{await Ee.post("/profile/password",{currentPassword:c.currentPassword,newPassword:c.newPassword}),alert("Password updated successfully"),u({currentPassword:"",newPassword:"",confirmPassword:""})}catch(y){alert(((v=(x=y.response)==null?void 0:x.data)==null?void 0:v.message)||"Failed to update password")}finally{n(!1)}};return l.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"My Profile"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 mb-6 flex flex-col items-center",children:[l.jsxs("div",{className:"relative mb-4 group",children:[l.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-blue-50 dark:border-blue-900/30 bg-gray-100 dark:bg-slate-700",children:e!=null&&e.profilePictureUrl?l.jsx("img",{src:e.profilePictureUrl.startsWith("http")?e.profilePictureUrl:`${e.profilePictureUrl}`,alt:"Profile",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:l.jsx(lo,{size:48})})}),l.jsxs("div",{className:"absolute bottom-0 right-0 flex gap-2",children:[l.jsx("button",{onClick:()=>o(!0),className:"p-2 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors",title:"Take Photo",children:l.jsx(MQ,{size:18})}),l.jsx("button",{onClick:()=>{var g;return(g=d.current)==null?void 0:g.click()},className:"p-2 bg-white dark:bg-slate-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-slate-600 rounded-full shadow-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",title:"Upload Photo",children:l.jsx(Ni,{size:18})})]}),l.jsx("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:h})]}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e==null?void 0:e.fullName}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:(p=e==null?void 0:e.role)==null?void 0:p.replace("_"," ").toLowerCase()}),a&&l.jsx("p",{className:"text-sm text-blue-600 mt-2 animate-pulse",children:"Uploading..."})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 mb-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(lo,{size:20,className:"text-blue-600 dark:text-blue-400"}),"Personal Information"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Full Name"}),l.jsx("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg text-gray-900 dark:text-white",children:e==null?void 0:e.fullName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Email Address"}),l.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(Qg,{size:16,className:"text-gray-400"}),e==null?void 0:e.email]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(xR,{size:20,className:"text-blue-600 dark:text-blue-400"}),"Security"]}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Current Password"}),l.jsx("input",{type:"password",required:!0,value:c.currentPassword,onChange:g=>u({...c,currentPassword:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"New Password"}),l.jsx("input",{type:"password",required:!0,minLength:6,value:c.newPassword,onChange:g=>u({...c,newPassword:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Confirm New Password"}),l.jsx("input",{type:"password",required:!0,minLength:6,value:c.confirmPassword,onChange:g=>u({...c,confirmPassword:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsx("div",{className:"pt-2",children:l.jsxs("button",{type:"submit",disabled:r,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-900 dark:bg-blue-600 text-white rounded-lg hover:bg-gray-800 dark:hover:bg-blue-700 disabled:bg-gray-400 dark:disabled:bg-slate-600 transition-colors",children:[l.jsx(Qu,{size:18}),r?"Updating...":"Update Password"]})})]})]}),l.jsx(z6e,{isOpen:i,onClose:()=>o(!1),onCapture:f})]})},$6e=()=>{var A,j,C;const{user:e}=Wa(),[t,r]=k.useState([]),[n,a]=k.useState(null),[s,i]=k.useState([]),[o,c]=k.useState(""),[u,d]=k.useState(""),[f,h]=k.useState([]),[m,p]=k.useState(!1),g=k.useRef(null);k.useEffect(()=>{v()},[]),k.useEffect(()=>{if(n&&n.id){y(n.id);const E=setInterval(()=>{y(n.id)},5e3);return()=>clearInterval(E)}},[n]),k.useEffect(()=>{x()},[s]);const x=()=>{var E;(E=g.current)==null||E.scrollIntoView({behavior:"smooth"})},v=async()=>{try{const E=await Ee.get("/communication/conversations");r(E.data)}catch(E){console.error("Failed to fetch conversations",E)}},y=async E=>{try{const F=await Ee.get(`/communication/conversations/${E}/messages`);i(F.data)}catch(F){console.error("Failed to fetch messages",F)}},b=async E=>{if(d(E),E.length<2){h([]);return}try{const F=await Ee.get(`/communication/users/search?query=${E}`);h(F.data)}catch(F){console.error("Failed to search users",F)}},N=async E=>{const F=t.find(O=>O.participants.some(T=>T.id===E.id));if(F)a(F),p(!1),d(""),h([]);else{const O={id:"",participants:[E],lastMessage:null,updatedAt:new Date().toISOString()};a(O),i([]),p(!1),d(""),h([])}},S=async E=>{if(E.preventDefault(),!(!o.trim()||!n))try{const F={content:o};n.id?F.conversationId=n.id:F.recipientId=n.participants[0].id;const O=await Ee.post("/communication/messages",F);if(i([...s,O.data]),c(""),await v(),!n.id){const H=(await Ee.get("/communication/conversations")).data.find(K=>K.participants.some(se=>se.id===n.participants[0].id));H&&a(H)}}catch(F){console.error("Failed to send message",F)}};return l.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-200px)] md:h-[600px] bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"w-full md:w-1/3 border-b md:border-b-0 md:border-r border-gray-100 dark:border-slate-700 flex flex-col max-h-[40vh] md:max-h-none",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[l.jsx("h2",{className:"font-semibold text-gray-800 dark:text-white",children:"Messages"}),l.jsx("button",{onClick:()=>p(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-blue-600",children:l.jsx(Ca,{size:20})})]}),m?l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsx(ei,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Search users...",value:u,onChange:E=>b(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",autoFocus:!0})]}),l.jsx("div",{className:"space-y-2",children:f.map(E=>l.jsxs("div",{onClick:()=>N(E),className:"flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-slate-700 rounded-lg cursor-pointer",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-medium",children:E.fullName.charAt(0)}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:E.fullName}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:E.role})]})]},E.id))}),l.jsx("button",{onClick:()=>p(!1),className:"mt-4 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:"Cancel"})]}):l.jsx("div",{className:"flex-1 overflow-y-auto",children:t.map(E=>{var T;const F=E.participants[0],O=(n==null?void 0:n.id)===E.id;return l.jsx("div",{onClick:()=>a(E),className:`p-4 border-b border-gray-50 dark:border-slate-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors ${O?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-600":""}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-slate-600 rounded-full flex items-center justify-center text-gray-600 dark:text-gray-300 font-medium",children:F==null?void 0:F.fullName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("p",{className:"font-medium text-gray-800 dark:text-white truncate",children:F==null?void 0:F.fullName}),l.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:new Date(E.updatedAt).toLocaleDateString()})]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:((T=E.lastMessage)==null?void 0:T.content)||"No messages yet"})]})]})},E.id)})})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:n?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex items-center gap-3 bg-gray-50 dark:bg-slate-700",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-medium",children:(A=n.participants[0])==null?void 0:A.fullName.charAt(0)}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:(j=n.participants[0])==null?void 0:j.fullName}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(C=n.participants[0])==null?void 0:C.role})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50/50 dark:bg-slate-900/50",children:[s.map(E=>{const F=E.senderId===(e==null?void 0:e.id),O=E.senderId!==n.participants[0].id,T=e?F:O;return l.jsx("div",{className:`flex ${T?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 ${T?"bg-blue-600 text-white rounded-br-none":"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 text-gray-800 dark:text-white rounded-bl-none"}`,children:[l.jsx("p",{children:E.content}),l.jsx("p",{className:`text-[10px] mt-1 ${T?"text-blue-100":"text-gray-400"}`,children:new Date(E.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},E.id)}),l.jsx("div",{ref:g})]}),l.jsx("form",{onSubmit:S,className:"p-4 border-t border-gray-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:o,onChange:E=>c(E.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),l.jsx("button",{type:"submit",disabled:!o.trim(),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-slate-600 transition-colors",children:l.jsx(Du,{size:20})})]})})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-gray-500",children:[l.jsx(Bo,{size:48,className:"mb-4 opacity-20"}),l.jsx("p",{children:"Select a conversation to start messaging"})]})})]})},W6e=["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY","PARENT","STUDENT"],H6e=()=>{const{user:e}=Wa(),[t,r]=k.useState("announcements"),[n,a]=k.useState(""),[s,i]=k.useState(""),[o,c]=k.useState([]),[u,d]=k.useState(!1),[f,h]=k.useState(!0),[m,p]=k.useState(!1),[g,x]=k.useState(null),v=["SUPER_ADMIN","BURSAR","SECRETARY","TEACHER"].includes((e==null?void 0:e.role)||""),y=["SUPER_ADMIN","BURSAR","SECRETARY","TEACHER","PARENT"].includes((e==null?void 0:e.role)||"");k.useEffect(()=>{!v&&y&&r("messages")},[v,y]);const b=S=>{c(A=>A.includes(S)?A.filter(j=>j!==S):[...A,S])},N=async S=>{var A,j;if(S.preventDefault(),!n||!s){x({type:"error",message:"Please fill in all fields"});return}p(!0),x(null);try{const C=await Ee.post("/communication/announcements",{subject:n,message:s,targetRoles:o.length>0?o:void 0,sendEmail:u,sendNotification:f});x({type:"success",message:C.data.message}),a(""),i(""),c([]),d(!1)}catch(C){console.error("Failed to send announcement",C),x({type:"error",message:((j=(A=C.response)==null?void 0:A.data)==null?void 0:j.message)||"Failed to send announcement"})}finally{p(!1)}};return!v&&!y?l.jsx("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-4xl mx-auto text-center text-gray-500 dark:text-gray-400",children:"You do not have permission to access this page."}):l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Communication Hub"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage announcements and messages"})]}),l.jsxs("div",{className:"flex gap-4 mb-6",children:[v&&l.jsx("button",{onClick:()=>r("announcements"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="announcements"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:"Announcements"}),y&&l.jsxs("button",{onClick:()=>r("messages"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${t==="messages"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[l.jsx(Bo,{size:18}),"Messages"]})]}),t==="messages"&&y?l.jsx($6e,{}):v?l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 bg-gray-50 dark:bg-slate-700",children:l.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-white flex items-center gap-2",children:[l.jsx(Du,{size:20,className:"text-blue-600"}),"New Announcement"]})}),l.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[g&&l.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${g.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:[g.type==="success"?l.jsx(ca,{size:20}):l.jsx(pc,{size:20}),g.message]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Subject"}),l.jsx("input",{type:"text",value:n,onChange:S=>a(S.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. School Closure Notice"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Message"}),l.jsx("textarea",{rows:6,value:s,onChange:S=>i(S.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all bg-white dark:bg-slate-700 dark:text-white",placeholder:"Type your announcement here..."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[l.jsx(In,{size:16}),"Target Audience (Leave empty for ALL users)"]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:W6e.map(S=>l.jsx("button",{type:"button",onClick:()=>b(S),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors border ${o.includes(S)?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800":"bg-white dark:bg-slate-700 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:S.replace("_"," ")},S))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-100 dark:border-slate-700",children:[l.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-all ${f?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[l.jsx("input",{type:"checkbox",checked:f,onChange:S=>h(S.target.checked),className:"sr-only"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-full ${f?"bg-blue-200 dark:bg-blue-800 text-blue-700 dark:text-blue-300":"bg-gray-200 dark:bg-slate-600 text-gray-500 dark:text-gray-400"}`,children:l.jsx(ch,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"In-App Notification"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Show in dashboard bell icon"})]})]}),f&&l.jsx(ca,{size:20,className:"ml-auto text-blue-600"})]}),l.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-all ${u?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[l.jsx("input",{type:"checkbox",checked:u,onChange:S=>d(S.target.checked),className:"sr-only"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-full ${u?"bg-blue-200 dark:bg-blue-800 text-blue-700 dark:text-blue-300":"bg-gray-200 dark:bg-slate-600 text-gray-500 dark:text-gray-400"}`,children:l.jsx(Qg,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Email Broadcast"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send to registered email addresses"})]})]}),u&&l.jsx(ca,{size:20,className:"ml-auto text-blue-600"})]})]}),l.jsx("div",{className:"flex justify-end pt-4",children:l.jsxs("button",{type:"submit",disabled:m||!u&&!f,className:"flex items-center gap-2 px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed transition-colors font-medium shadow-sm",children:[l.jsx(Du,{size:18}),m?"Sending...":"Send Announcement"]})})]})]}):null]})},V6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState({});k.useEffect(()=>{i()},[]);const i=async()=>{try{const I=await Ee.get("/students/my-children");t(I.data)}catch(I){console.error("Error fetching children:",I)}finally{n(!1)}},o=I=>{s(X=>({...X,[I]:!X[I]}))},c=I=>I?I.map(X=>{var V;return{name:((V=X.term)==null?void 0:V.name)||"Term",average:X.totalScore||0}}):[],u=(I,X)=>{const V=new Et;V.setFontSize(18),V.text("Payment Receipt",105,20,{align:"center"}),V.setFontSize(12),V.text(`Student: ${I.firstName} ${I.lastName}`,20,40),V.text(`Amount: ZMW ${X.amount}`,20,50),V.text(`Date: ${new Date(X.paymentDate).toLocaleDateString()}`,20,60),V.text(`Method: ${X.method}`,20,70),V.text(`Reference: ${X.transactionId||X.id}`,20,80),V.save(`receipt_${X.id}.pdf`)},d=I=>{alert("Statement download is coming soon.")},[f,h]=k.useState(!1),[m,p]=k.useState(null),[g,x]=k.useState([]),[v,y]=k.useState(!1),[b,N]=k.useState("receipts"),[S,A]=k.useState([]),[j,C]=k.useState(!1),E=async I=>{C(!0);try{const X=await Ee.get("/payments/mobile-money",{params:{studentId:I}});A(X.data.data||[])}catch(X){console.error(X)}finally{C(!1)}},F=async I=>{p(I),h(!0),y(!0),N("receipts"),E(I.id);try{const X=await Ee.get(`/payments/student/${I.id}`);x(X.data)}catch(X){console.error(X),alert("Could not load full history.")}finally{y(!1)}},[O,T]=k.useState(!1),[H,K]=k.useState(null),[se,M]=k.useState(""),[B,Y]=k.useState(""),[z,Q]=k.useState(""),[de,L]=k.useState(!1),R=I=>{K(I),M(I.balance>0?I.balance.toString():""),Y(I.guardianPhone||""),Q(""),T(!0)},U=async I=>{var X,V;if(I.preventDefault(),!!H){L(!0);try{await Ee.post("/payments/mobile-money/initiate",{studentId:H.id,amount:parseFloat(se),phone:B,operator:z,country:"zm",notes:`Parent payment for ${H.firstName}`}),T(!1),alert("Payment initiated successfully! Please check your phone to authorize the transaction.")}catch(ee){console.error("Payment Error:",ee),alert(((V=(X=ee.response)==null?void 0:X.data)==null?void 0:V.message)||"Failed to initiate payment. Please try again.")}finally{L(!1)}}};return r?l.jsx("div",{className:"p-6 dark:text-gray-400",children:"Loading..."}):l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"My Children"}),l.jsxs("div",{className:"space-y-8",children:[e.map(I=>{var X,V,ee;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 p-6 text-white",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white font-bold text-2xl border-2 border-white/30",children:I.firstName[0]}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold",children:[I.firstName," ",I.lastName]}),l.jsxs("div",{className:"flex items-center space-x-3 text-blue-100 text-sm mt-1",children:[l.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:I.admissionNumber}),l.jsx("span",{children:""}),l.jsx("span",{children:(X=I.class)==null?void 0:X.name})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-blue-100 uppercase font-semibold mb-1",children:"Outstanding Balance"}),l.jsxs("p",{className:`text-2xl font-bold ${I.balance>0?"text-red-200":"text-green-200"}`,children:["ZMW ",I.balance.toLocaleString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>R(I),className:"bg-green-500 hover:bg-green-600 text-white text-xs font-semibold py-2 px-3 rounded-lg flex items-center justify-center gap-2 transition-colors shadow-sm",children:[l.jsx(hl,{size:14}),"Pay Fees"]}),l.jsxs("button",{onClick:()=>d(I.id),className:"bg-white/10 hover:bg-white/20 text-white text-xs font-semibold py-2 px-3 rounded-lg flex items-center justify-center gap-2 transition-colors border border-white/20",children:[l.jsx(Qs,{size:14}),"Statement"]})]})]})]})}),l.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center text-sm",children:[l.jsx(Sl,{size:16,className:"mr-2 text-blue-500"}),"Today's Schedule"]}),l.jsx("span",{className:"text-[10px] font-medium text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded",children:new Date().toLocaleDateString("en-US",{weekday:"long"})})]}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:I.todaysClasses&&I.todaysClasses.length>0?I.todaysClasses.map(G=>l.jsxs("div",{className:"flex items-center gap-3 p-2 rounded hover:bg-slate-50 dark:hover:bg-slate-700 border border-transparent hover:border-slate-100 dark:hover:border-slate-600 transition-all",children:[l.jsxs("div",{className:"w-14 text-center bg-blue-50 dark:bg-blue-900/30 rounded p-1",children:[l.jsx("span",{className:"block text-xs font-bold text-blue-700 dark:text-blue-400",children:G.startTime}),l.jsx("span",{className:"block text-[10px] text-blue-400 dark:text-blue-500",children:G.endTime})]}),l.jsx("div",{className:"flex-1",children:l.jsx("span",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 truncate",children:G.subject.name})})]},G.id)):l.jsx("div",{className:"text-center py-6",children:l.jsx("p",{className:"text-xs text-slate-400",children:"No classes scheduled today."})})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center text-sm",children:[l.jsx(BQ,{size:16,className:"mr-2 text-purple-500"}),"Upcoming Tasks"]}),l.jsxs("span",{className:"text-[10px] bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 px-2 py-1 rounded-full font-medium",children:[((V=I.pendingAssessments)==null?void 0:V.length)||0," Pending"]})]}),l.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:I.pendingAssessments&&I.pendingAssessments.length>0?I.pendingAssessments.map(G=>l.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded-lg hover:shadow-sm transition-all",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:`text-[10px] uppercase font-bold px-1.5 py-0.5 rounded ${G.type==="QUIZ"?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400":"bg-white dark:bg-slate-700 text-purple-700 dark:text-purple-400"}`,children:G.type}),l.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:new Date(G.date).toLocaleDateString()})]}),l.jsx("h5",{className:"text-sm font-medium text-slate-800 dark:text-white line-clamp-1",title:G.title,children:G.title}),l.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1 mt-1",children:[l.jsx(cs,{size:10}),G.subject.name]})]},G.id)):l.jsx("div",{className:"text-center py-6",children:l.jsx("p",{className:"text-xs text-slate-400",children:"No upcoming tasks."})})})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(ki,{className:"text-blue-600",size:20}),l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Academic Performance"})]}),l.jsx("div",{className:"h-64 w-full",children:I.termResults&&I.termResults.length>0?l.jsx(mS,{width:"100%",height:"100%",children:l.jsxs(mAe,{data:c(I.termResults),children:[l.jsx(D_,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),l.jsx(R_,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},dy:10}),l.jsx(B_,{domain:[0,100],axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12}}),l.jsx($S,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),l.jsx(cV,{type:"monotone",dataKey:"average",stroke:"#2563eb",strokeWidth:3,dot:{fill:"#2563eb",strokeWidth:2,r:4,stroke:"#fff"},activeDot:{r:6,strokeWidth:0}})]})}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-700 rounded-lg border border-dashed border-slate-200 dark:border-slate-600",children:[l.jsx(ki,{size:32,className:"mb-2 opacity-50"}),l.jsx("p",{children:"No performance data available"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center",children:[l.jsx(ki,{size:16,className:"mr-2 text-blue-500"}),"Recent Results"]})}),l.jsx("div",{className:"space-y-3",children:I.assessmentResults&&I.assessmentResults.length>0?I.assessmentResults.slice(0,5).map(G=>l.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors border border-transparent hover:border-slate-100 dark:hover:border-slate-600",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200 block text-sm",children:G.assessment.subject.name}),l.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:G.assessment.title})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"text-right mr-3",children:[l.jsx("span",{className:"font-bold text-slate-800 dark:text-white block",children:Number(G.score)}),l.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Score"})]}),l.jsx("div",{className:`w-1.5 h-8 rounded-full ${Number(G.score)>=75?"bg-green-500":Number(G.score)>=50?"bg-yellow-500":"bg-red-500"}`})]})]},G.id)):l.jsx("div",{className:"text-center py-8 text-slate-400",children:l.jsx("p",{className:"text-sm",children:"No recent results"})})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center",children:[l.jsx(Ps,{size:16,className:"mr-2 text-blue-500"}),"Report Cards"]})}),l.jsx("div",{className:"space-y-3",children:I.termReports&&I.termReports.length>0?I.termReports.map(G=>l.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg border border-slate-100 dark:border-slate-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 bg-white dark:bg-slate-600 rounded flex items-center justify-center text-blue-600 mr-3 shadow-sm",children:l.jsx(Ps,{size:16})}),l.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:G.term.name})]}),l.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-xs font-medium px-3 py-1.5 bg-white dark:bg-slate-600 border border-blue-100 dark:border-slate-500 rounded-md hover:bg-blue-50 dark:hover:bg-slate-500 transition-colors shadow-sm",children:"View"})]},G.id)):l.jsx("div",{className:"text-center py-8 text-slate-400",children:l.jsx("p",{className:"text-sm",children:"No report cards available"})})})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 border-b border-slate-100 dark:border-slate-600 flex justify-between items-center cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors",onClick:()=>o(I.id),children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(hl,{size:18,className:"text-slate-600 dark:text-slate-300"}),l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:"Fee Structure"})]}),a[I.id]?l.jsx(RQ,{size:18,className:"text-slate-400"}):l.jsx(Lj,{size:18,className:"text-slate-400"})]}),a[I.id]&&l.jsx("div",{className:"p-4 space-y-3",children:I.feeStructures&&I.feeStructures.length>0?l.jsxs(l.Fragment,{children:[I.feeStructures.map(G=>l.jsxs("div",{className:"flex justify-between text-sm py-1 border-b border-slate-50 dark:border-slate-700 last:border-0",children:[l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:G.feeTemplate.name}),l.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:["ZMW ",Number(G.amountDue).toLocaleString()]})]},G.id)),l.jsxs("div",{className:"flex justify-between text-sm font-bold pt-3 mt-1 bg-slate-50 dark:bg-slate-700 -mx-4 -mb-4 p-4 border-t border-slate-100 dark:border-slate-600",children:[l.jsx("span",{className:"dark:text-white",children:"Total Fees"}),l.jsxs("span",{className:"text-blue-700 dark:text-blue-400",children:["ZMW ",(ee=I.feeStructures)==null?void 0:ee.reduce((G,ue)=>G+Number(ue.amountDue),0).toLocaleString()]})]})]}):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic text-center py-2",children:"No fee structure assigned"})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(hl,{size:18,className:"text-green-600"}),l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:"Recent Payments"})]}),l.jsx("div",{className:"space-y-3",children:I.payments.length>0?I.payments.slice(0,3).map((G,ue)=>l.jsxs("div",{className:"flex justify-between items-center text-sm p-2 rounded hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-xs block mb-0.5",children:new Date(G.paymentDate).toLocaleDateString()}),l.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:["ZMW ",Number(G.amount).toLocaleString()]})]}),l.jsx("button",{onClick:()=>u(I,G),className:"text-slate-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors",title:"Download Receipt",children:l.jsx(Qs,{size:18})})]},ue)):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic text-center py-4",children:"No payment records found"})}),I.payments.length>0&&l.jsx("button",{onClick:()=>F(I),className:"w-full mt-2 text-xs text-blue-600 font-medium hover:underline py-2",children:"View All Payments history"})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(hs,{size:18,className:"text-orange-500"}),l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:"Recent Attendance"})]}),l.jsx("div",{className:"space-y-3",children:I.attendance.length>0?I.attendance.slice(0,5).map((G,ue)=>l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:new Date(G.date).toLocaleDateString()}),l.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold tracking-wide ${G.status==="PRESENT"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":G.status==="ABSENT"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:G.status})]},ue)):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic text-center py-4",children:"No attendance records found"})})]})]})]})]},I.id)}),e.length===0&&l.jsxs("div",{className:"col-span-full text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border-2 border-dashed border-slate-300 dark:border-slate-600",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4",children:l.jsx(lo,{className:"text-slate-400",size:32})}),l.jsx("h3",{className:"text-xl font-medium text-slate-900 dark:text-white",children:"No children linked"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 max-w-md mx-auto",children:"Contact the school administration to link your account to your children's profiles."})]})]}),f&&m&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl max-w-3xl w-full overflow-hidden flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-100 dark:border-slate-700 p-6 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Payment History"}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:[m.firstName," ",m.lastName]})]}),l.jsx("button",{onClick:()=>h(!1),className:"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 p-2 rounded-full transition-colors",children:l.jsx(ea,{size:20,className:"text-slate-600 dark:text-slate-300"})})]}),l.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[l.jsx("button",{onClick:()=>N("receipts"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all ${b==="receipts"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Official Receipts"}),l.jsx("button",{onClick:()=>N("transactions"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all ${b==="transactions"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Mobile Money Transactions"})]})]}),l.jsx("div",{className:"p-6 overflow-y-auto flex-1 bg-slate-50/50 dark:bg-slate-900/50",children:b==="receipts"?v?l.jsx("div",{className:"text-center py-12 text-slate-400",children:"Loading history..."}):g.length>0?l.jsx("div",{className:"space-y-4",children:g.map(I=>{var X;return l.jsxs("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl hover:shadow-md transition-all",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`p-3 rounded-full ${I.method==="MOBILE_MONEY"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400"}`,children:l.jsx(hl,{size:20})}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800 dark:text-white",children:["ZMW ",Number(I.amount).toLocaleString()]}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[new Date(I.createdAt||I.paymentDate).toLocaleDateString(),"  ",new Date(I.createdAt||I.paymentDate).toLocaleTimeString()]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wide text-slate-400 bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:(X=I.method)==null?void 0:X.replace("_"," ")}),l.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:I.transactionId||"---"})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"inline-block px-2 py-1 rounded text-[10px] font-bold uppercase mb-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",children:"COMPLETED"}),l.jsxs("button",{onClick:()=>u(m,I),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800 font-medium ml-auto mt-2",children:[l.jsx(Qs,{size:14})," Receipt"]})]})]},I.id)})}):l.jsx("div",{className:"text-center py-16 text-slate-400 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-600",children:l.jsx("p",{children:"No successful payments found."})}):j?l.jsx("div",{className:"text-center py-12 text-slate-400",children:"Loading transactions..."}):S.length>0?l.jsx("div",{className:"space-y-4",children:S.map(I=>{var X;return l.jsxs("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl hover:shadow-md transition-all",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`p-3 rounded-full ${I.status==="SUCCESSFUL"?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":I.status==="FAILED"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400"}`,children:l.jsx(hl,{size:20})}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800 dark:text-white",children:["ZMW ",Number(I.amount).toLocaleString()]}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[new Date(I.initiatedAt).toLocaleDateString(),"  ",new Date(I.initiatedAt).toLocaleTimeString()]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wide text-slate-400 bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:I.operator}),l.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:I.reference})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:`inline-block px-2 py-1 rounded text-[10px] font-bold uppercase mb-2 ${I.status==="SUCCESSFUL"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":I.status==="FAILED"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"}`,children:(X=I.status)==null?void 0:X.replace("_"," ")}),I.reasonForFailure&&l.jsx("p",{className:"text-[10px] text-red-500 max-w-[120px] truncate",title:I.reasonForFailure,children:I.reasonForFailure})]})]},I.id)})}):l.jsx("div",{className:"text-center py-16 text-slate-400 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-600",children:l.jsx("p",{children:"No mobile money history found."})})}),l.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 text-center",children:l.jsx("button",{onClick:()=>h(!1),className:"text-blue-600 font-medium text-sm hover:underline",children:"Close History"})})]})}),O&&H&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl max-w-md w-full overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-6 text-white flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Make Payment"}),l.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["For ",H.firstName," ",H.lastName]})]}),l.jsx("button",{onClick:()=>T(!1),className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-1 transition-colors",children:l.jsx(ea,{size:20})})]}),l.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fee Amount (ZMW)"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:"ZMW"}),l.jsx("input",{type:"number",required:!0,min:"1",step:"0.01",value:se,onChange:I=>M(I.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-bold text-lg text-slate-800 dark:text-white",placeholder:"0.00"})]})]}),Number(se)>0&&l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Subtotal"}),l.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:["ZMW ",Number(se).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Processing Fee (2.5%)"}),l.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:["ZMW ",(Number(se)*.025).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between text-base pt-2 border-t border-blue-200 dark:border-blue-700 mt-2",children:[l.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:"Total Bill"}),l.jsxs("span",{className:"font-bold text-blue-700 dark:text-blue-400",children:["ZMW ",(Number(se)*1.025).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mobile Number"}),l.jsx("input",{type:"tel",required:!0,value:B,onChange:I=>Y(I.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium dark:text-white",placeholder:"097xxxxxxx"}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"The number that will authorize the payment"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Network Operator"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("label",{className:`
                    relative flex items-center justify-center p-4 rounded-xl border-2 cursor-pointer transition-all
                    ${z==="airtel"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-slate-100 dark:border-slate-600 bg-white dark:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-500"}
                  `,children:[l.jsx("input",{type:"radio",name:"operator",value:"airtel",className:"sr-only",checked:z==="airtel",onChange:I=>Q(I.target.value),required:!0}),l.jsx("span",{className:"font-bold dark:text-white",children:"Airtel"})]}),l.jsxs("label",{className:`
                    relative flex items-center justify-center p-4 rounded-xl border-2 cursor-pointer transition-all
                    ${z==="mtn"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400":"border-slate-100 dark:border-slate-600 bg-white dark:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-500"}
                  `,children:[l.jsx("input",{type:"radio",name:"operator",value:"mtn",className:"sr-only",checked:z==="mtn",onChange:I=>Q(I.target.value),required:!0}),l.jsx("span",{className:"font-bold dark:text-white",children:"MTN"})]})]})]}),l.jsx("button",{type:"submit",disabled:de,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-blue-200 disabled:opacity-70 disabled:cursor-not-allowed mt-4 flex items-center justify-center",children:de?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-3"}),"Processing..."]}):"Pay Now"})]})]})})]})},q6e=()=>{var d;const[e,t]=k.useState([]),[r,n]=k.useState(""),[a,s]=k.useState(!0);k.useEffect(()=>{i()},[]);const i=async()=>{try{const f=await Ee.get("/students/my-children");t(f.data),f.data.length>0&&n(f.data[0].id)}catch(f){console.error("Error fetching children:",f)}finally{s(!1)}},o=e.find(f=>f.id===r),c=((d=o==null?void 0:o.termResults)==null?void 0:d.reduce((f,h)=>{const m=h.term.id;return f[m]||(f[m]={termName:h.term.name,startDate:h.term.startDate,endDate:h.term.endDate,results:[]}),f[m].results.push(h),f},{}))||{},u=f=>{var b;if(!o)return;const h=c[f];if(!h)return;const m=new Et;m.setFillColor(30,41,59),m.rect(0,0,210,40,"F"),m.setTextColor(255,255,255),m.setFontSize(22),m.setFont("helvetica","bold"),m.text("ACADEMIC REPORT CARD",105,20,{align:"center"}),m.setFontSize(12),m.setFont("helvetica","normal"),m.text(h.termName,105,30,{align:"center"}),m.setTextColor(0,0,0),m.setFontSize(11),m.setFont("helvetica","bold"),m.text("Student Name:",15,55),m.setFont("helvetica","normal"),m.text(`${o.firstName} ${o.lastName}`,50,55),m.setFont("helvetica","bold"),m.text("Admission No:",15,62),m.setFont("helvetica","normal"),m.text(o.admissionNumber,50,62),m.setFont("helvetica","bold"),m.text("Class:",140,55),m.setFont("helvetica","normal"),m.text(((b=o.class)==null?void 0:b.name)||"N/A",160,55);const p=h.results.map(N=>[N.subject.name,N.subject.code,Number(N.totalScore),N.grade||"-",N.remarks||"-"]);C2(m,{startY:75,head:[["Subject","Code","Score (%)","Grade","Remarks"]],body:p,theme:"grid",headStyles:{fillColor:[37,99,235]}});const g=m.lastAutoTable.finalY+20,x=h.results.reduce((N,S)=>N+Number(S.totalScore),0),v=Math.round(x/h.results.length);m.setDrawColor(200,200,200),m.setFillColor(248,250,252),m.roundedRect(15,g,180,25,2,2,"FD"),m.setFontSize(10),m.text("Overall Average:",25,g+10),m.setFontSize(14),m.setFont("helvetica","bold"),m.text(`${v}%`,25,g+18),m.setFontSize(10),m.setFont("helvetica","normal"),m.text("Performance Summary:",80,g+10),m.setFontSize(11),m.setFont("helvetica","bold");const y=v>=75?"Excellent":v>=60?"Good":v>=50?"Satisfactory":"Needs Improvement";m.text(y,80,g+18),m.setFontSize(8),m.setTextColor(150,150,150),m.text("This is a computer-generated report.",105,280,{align:"center"}),m.save(`${o.firstName}_${h.termName}_Report.pdf`)};return a?l.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading academic data..."}):l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white flex items-center gap-3",children:[l.jsx(Pj,{className:"text-blue-600",size:32}),"Academic Reports"]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"View and download term performance reports for your children."})]}),e.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex space-x-2 mb-8 overflow-x-auto pb-2 border-b border-gray-200 dark:border-slate-700",children:e.map(f=>l.jsxs("button",{onClick:()=>n(f.id),className:`flex items-center space-x-2 px-6 py-3 rounded-t-lg text-sm font-medium transition-colors whitespace-nowrap border-b-2 ${r===f.id?"border-blue-600 text-blue-600 bg-blue-50/50 dark:bg-blue-900/30":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[l.jsx(lo,{size:18}),l.jsx("span",{children:f.firstName})]},f.id))}),Object.keys(c).length>0?l.jsx("div",{className:"space-y-8",children:Object.keys(c).sort((f,h)=>h.localeCompare(f)).map(f=>{const h=c[f],m=h.results.reduce((g,x)=>g+Number(x.totalScore),0),p=Math.round(m/h.results.length);return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 px-6 py-4 border-b border-gray-200 dark:border-slate-600 flex justify-between items-center flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:h.termName}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[new Date(h.startDate).getFullYear(),"  Average: ",l.jsxs("span",{className:"font-bold text-blue-600",children:[p,"%"]})]})]}),l.jsxs("button",{onClick:()=>u(f),className:"flex items-center gap-2 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 text-gray-700 dark:text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm",children:[l.jsx(Qs,{size:16}),"Download Report PDF"]})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-100 dark:border-slate-700",children:[l.jsx("th",{className:"pb-3 px-4 font-semibold text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider",children:"Subject"}),l.jsx("th",{className:"pb-3 px-4 font-semibold text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider",children:"Score"}),l.jsx("th",{className:"pb-3 px-4 font-semibold text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider",children:"Grade"}),l.jsx("th",{className:"pb-3 px-4 font-semibold text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider",children:"Remarks"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:h.results.map(g=>{var x,v,y;return l.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsx("td",{className:"py-3 px-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cs,{size:14,className:"text-gray-400"}),l.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:g.subject.name})]})}),l.jsxs("td",{className:"py-3 px-4 font-semibold text-gray-900 dark:text-white",children:[Number(g.totalScore),"%"]}),l.jsx("td",{className:"py-3 px-4",children:l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${(x=g.grade)!=null&&x.startsWith("A")||g.grade==="D1"||g.grade==="D2"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":(v=g.grade)!=null&&v.startsWith("B")||(y=g.grade)!=null&&y.startsWith("C")?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"}`,children:g.grade||"-"})}),l.jsx("td",{className:"py-3 px-4 text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:g.remarks||"-"})]},g.id)})})]})})})]},f)})}):l.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-800 rounded-xl border-2 border-dashed border-gray-200 dark:border-slate-600",children:[l.jsx(Ps,{size:48,className:"mx-auto text-gray-300 dark:text-gray-600 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No Academic Records"}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["No term reports found for ",o==null?void 0:o.firstName,"."]})]})]}):l.jsx("div",{className:"text-center py-20",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No children linked to your account."})})]})},K_=k.createContext({});function Y_(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const X_=typeof window<"u",JV=X_?k.useLayoutEffect:k.useEffect,Uw=k.createContext(null);function Z_(e,t){e.indexOf(t)===-1&&e.push(t)}function J_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Sc=(e,t,r)=>r>t?t:r<e?e:r;let Q_=()=>{};const jc={},QV=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function eq(e){return typeof e=="object"&&e!==null}const tq=e=>/^0[^.\s]+$/u.test(e);function eE(e){let t;return()=>(t===void 0&&(t=e()),t)}const so=e=>e,G6e=(e,t)=>r=>t(e(r)),Mx=(...e)=>e.reduce(G6e),Rg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class tE{constructor(){this.subscriptions=[]}add(t){return Z_(this.subscriptions,t),()=>J_(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const i=this.subscriptions[s];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kl=e=>e*1e3,ro=e=>e/1e3;function rq(e,t){return t?e*(1e3/t):0}const nq=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,K6e=1e-7,Y6e=12;function X6e(e,t,r,n,a){let s,i,o=0;do i=t+(r-t)/2,s=nq(i,n,a)-e,s>0?r=i:t=i;while(Math.abs(s)>K6e&&++o<Y6e);return i}function Rx(e,t,r,n){if(e===t&&r===n)return so;const a=s=>X6e(s,0,1,e,r);return s=>s===0||s===1?s:nq(a(s),t,n)}const aq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sq=e=>t=>1-e(1-t),iq=Rx(.33,1.53,.69,.99),rE=sq(iq),oq=aq(rE),lq=e=>(e*=2)<1?.5*rE(e):.5*(2-Math.pow(2,-10*(e-1))),nE=e=>1-Math.sin(Math.acos(e)),cq=sq(nE),uq=aq(nE),Z6e=Rx(.42,0,1,1),J6e=Rx(0,0,.58,1),dq=Rx(.42,0,.58,1),Q6e=e=>Array.isArray(e)&&typeof e[0]!="number",fq=e=>Array.isArray(e)&&typeof e[0]=="number",e_e={linear:so,easeIn:Z6e,easeInOut:dq,easeOut:J6e,circIn:nE,circInOut:uq,circOut:cq,backIn:rE,backInOut:oq,backOut:iq,anticipate:lq},t_e=e=>typeof e=="string",aF=e=>{if(fq(e)){Q_(e.length===4);const[t,r,n,a]=e;return Rx(t,r,n,a)}else if(t_e(e))return e_e[e];return e},_v=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function r_e(e,t){let r=new Set,n=new Set,a=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){i.has(d)&&(u.schedule(d),e()),d(o)}const u={schedule:(d,f=!1,h=!1)=>{const p=h&&a?r:n;return f&&i.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,s&&(s=!1,u.process(d))}};return u}const n_e=40;function hq(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,i=_v.reduce((b,N)=>(b[N]=r_e(s),b),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=i,g=()=>{const b=jc.useManualTiming?a.timestamp:performance.now();r=!1,jc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,n_e),1)),a.timestamp=b,a.isProcessing=!0,o.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),m.process(a),p.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},x=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:_v.reduce((b,N)=>{const S=i[N];return b[N]=(A,j=!1,C=!1)=>(r||x(),S.schedule(A,j,C)),b},{}),cancel:b=>{for(let N=0;N<_v.length;N++)i[_v[N]].cancel(b)},state:a,steps:i}}const{schedule:tn,cancel:Gu,state:Ma,steps:l4}=hq(typeof requestAnimationFrame<"u"?requestAnimationFrame:so,!0);let Qv;function a_e(){Qv=void 0}const Gs={now:()=>(Qv===void 0&&Gs.set(Ma.isProcessing||jc.useManualTiming?Ma.timestamp:performance.now()),Qv),set:e=>{Qv=e,queueMicrotask(a_e)}},mq=e=>t=>typeof t=="string"&&t.startsWith(e),aE=mq("--"),s_e=mq("var(--"),sE=e=>s_e(e)?i_e.test(e.split("/*")[0].trim()):!1,i_e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bg={...Jh,transform:e=>Sc(0,1,e)},Ev={...Jh,default:1},Op=e=>Math.round(e*1e5)/1e5,iE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o_e(e){return e==null}const l_e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oE=(e,t)=>r=>!!(typeof r=="string"&&l_e.test(r)&&r.startsWith(e)||t&&!o_e(r)&&Object.prototype.hasOwnProperty.call(r,t)),pq=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,i,o]=n.match(iE);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},c_e=e=>Sc(0,255,e),c4={...Jh,transform:e=>Math.round(c_e(e))},Rd={test:oE("rgb","red"),parse:pq("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+c4.transform(e)+", "+c4.transform(t)+", "+c4.transform(r)+", "+Op(Bg.transform(n))+")"};function u_e(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const n3={test:oE("#"),parse:u_e,transform:Rd.transform},Bx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),nu=Bx("deg"),Nl=Bx("%"),zt=Bx("px"),d_e=Bx("vh"),f_e=Bx("vw"),sF={...Nl,parse:e=>Nl.parse(e)/100,transform:e=>Nl.transform(e*100)},If={test:oE("hsl","hue"),parse:pq("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Nl.transform(Op(t))+", "+Nl.transform(Op(r))+", "+Op(Bg.transform(n))+")"},Kn={test:e=>Rd.test(e)||n3.test(e)||If.test(e),parse:e=>Rd.test(e)?Rd.parse(e):If.test(e)?If.parse(e):n3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Rd.transform(e):If.transform(e),getAnimatableNone:e=>{const t=Kn.parse(e);return t.alpha=0,Kn.transform(t)}},h_e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m_e(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(iE))==null?void 0:t.length)||0)+(((r=e.match(h_e))==null?void 0:r.length)||0)>0}const gq="number",xq="color",p_e="var",g_e="var(",iF="${}",x_e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const o=t.replace(x_e,c=>(Kn.test(c)?(n.color.push(s),a.push(xq),r.push(Kn.parse(c))):c.startsWith(g_e)?(n.var.push(s),a.push(p_e),r.push(c)):(n.number.push(s),a.push(gq),r.push(parseFloat(c))),++s,iF)).split(iF);return{values:r,split:o,indexes:n,types:a}}function vq(e){return zg(e).values}function yq(e){const{split:t,types:r}=zg(e),n=t.length;return a=>{let s="";for(let i=0;i<n;i++)if(s+=t[i],a[i]!==void 0){const o=r[i];o===gq?s+=Op(a[i]):o===xq?s+=Kn.transform(a[i]):s+=a[i]}return s}}const v_e=e=>typeof e=="number"?0:Kn.test(e)?Kn.getAnimatableNone(e):e;function y_e(e){const t=vq(e);return yq(e)(t.map(v_e))}const Ku={test:m_e,parse:vq,createTransformer:yq,getAnimatableNone:y_e};function u4(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function b_e({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,i=0;if(!t)a=s=i=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;a=u4(c,o,e+1/3),s=u4(c,o,e),i=u4(c,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:n}}function Ub(e,t){return r=>r>0?t:e}const on=(e,t,r)=>e+(t-e)*r,d4=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},w_e=[n3,Rd,If],k_e=e=>w_e.find(t=>t.test(e));function oF(e){const t=k_e(e);if(!t)return!1;let r=t.parse(e);return t===If&&(r=b_e(r)),r}const lF=(e,t)=>{const r=oF(e),n=oF(t);if(!r||!n)return Ub(e,t);const a={...r};return s=>(a.red=d4(r.red,n.red,s),a.green=d4(r.green,n.green,s),a.blue=d4(r.blue,n.blue,s),a.alpha=on(r.alpha,n.alpha,s),Rd.transform(a))},a3=new Set(["none","hidden"]);function N_e(e,t){return a3.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function S_e(e,t){return r=>on(e,t,r)}function lE(e){return typeof e=="number"?S_e:typeof e=="string"?sE(e)?Ub:Kn.test(e)?lF:__e:Array.isArray(e)?bq:typeof e=="object"?Kn.test(e)?lF:j_e:Ub}function bq(e,t){const r=[...e],n=r.length,a=e.map((s,i)=>lE(s)(s,t[i]));return s=>{for(let i=0;i<n;i++)r[i]=a[i](s);return r}}function j_e(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=lE(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function A_e(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],i=e.indexes[s][n[s]],o=e.values[i]??0;r[a]=o,n[s]++}return r}const __e=(e,t)=>{const r=Ku.createTransformer(t),n=zg(e),a=zg(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?a3.has(e)&&!a.values.length||a3.has(t)&&!n.values.length?N_e(e,t):Mx(bq(A_e(n,a),a.values),r):Ub(e,t)};function wq(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?on(e,t,r):lE(e)(e,t)}const E_e=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>tn.update(t,r),stop:()=>Gu(t),now:()=>Ma.isProcessing?Ma.timestamp:Gs.now()}},kq=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},$b=2e4;function cE(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<$b;)t+=r,n=e.next(t);return t>=$b?1/0:t}function C_e(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(cE(n),$b);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:ro(a)}}const T_e=5;function Nq(e,t,r){const n=Math.max(t-T_e,0);return rq(r-e(n),t-n)}const vn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},f4=.001;function P_e({duration:e=vn.duration,bounce:t=vn.bounce,velocity:r=vn.velocity,mass:n=vn.mass}){let a,s,i=1-t;i=Sc(vn.minDamping,vn.maxDamping,i),e=Sc(vn.minDuration,vn.maxDuration,ro(e)),i<1?(a=u=>{const d=u*i,f=d*e,h=d-r,m=s3(u,i),p=Math.exp(-f);return f4-h/m*p},s=u=>{const f=u*i*e,h=f*r+r,m=Math.pow(i,2)*Math.pow(u,2)*e,p=Math.exp(-f),g=s3(Math.pow(u,2),i);return(-a(u)+f4>0?-1:1)*((h-m)*p)/g}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-f4+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const o=5/e,c=L_e(a,s,o);if(e=kl(e),isNaN(c))return{stiffness:vn.stiffness,damping:vn.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const O_e=12;function L_e(e,t,r){let n=r;for(let a=1;a<O_e;a++)n=n-e(n)/t(n);return n}function s3(e,t){return e*Math.sqrt(1-t*t)}const F_e=["duration","bounce"],D_e=["stiffness","damping","mass"];function cF(e,t){return t.some(r=>e[r]!==void 0)}function I_e(e){let t={velocity:vn.velocity,stiffness:vn.stiffness,damping:vn.damping,mass:vn.mass,isResolvedFromDuration:!1,...e};if(!cF(e,D_e)&&cF(e,F_e))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*Sc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:vn.mass,stiffness:a,damping:s}}else{const r=P_e(e);t={...t,...r,mass:vn.mass},t.isResolvedFromDuration=!0}return t}function Wb(e=vn.visualDuration,t=vn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=I_e({...r,velocity:-ro(r.velocity||0)}),p=h||0,g=u/(2*Math.sqrt(c*d)),x=i-s,v=ro(Math.sqrt(c/d)),y=Math.abs(x)<5;n||(n=y?vn.restSpeed.granular:vn.restSpeed.default),a||(a=y?vn.restDelta.granular:vn.restDelta.default);let b;if(g<1){const S=s3(v,g);b=A=>{const j=Math.exp(-g*v*A);return i-j*((p+g*v*x)/S*Math.sin(S*A)+x*Math.cos(S*A))}}else if(g===1)b=S=>i-Math.exp(-v*S)*(x+(p+v*x)*S);else{const S=v*Math.sqrt(g*g-1);b=A=>{const j=Math.exp(-g*v*A),C=Math.min(S*A,300);return i-j*((p+g*v*x)*Math.sinh(C)+S*x*Math.cosh(C))/S}}const N={calculatedDuration:m&&f||null,next:S=>{const A=b(S);if(m)o.done=S>=f;else{let j=S===0?p:0;g<1&&(j=S===0?kl(p):Nq(b,S,A));const C=Math.abs(j)<=n,E=Math.abs(i-A)<=a;o.done=C&&E}return o.value=o.done?i:A,o},toString:()=>{const S=Math.min(cE(N),$b),A=kq(j=>N.next(S*j).value,S,30);return S+"ms "+A},toTransition:()=>{}};return N}Wb.applyToOptions=e=>{const t=C_e(e,100,Wb);return e.ease=t.ease,e.duration=kl(t.duration),e.type="keyframes",e};function i3({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:i,min:o,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=C=>o!==void 0&&C<o||c!==void 0&&C>c,p=C=>o===void 0?c:c===void 0||Math.abs(o-C)<Math.abs(c-C)?o:c;let g=r*t;const x=f+g,v=i===void 0?x:i(x);v!==x&&(g=v-f);const y=C=>-g*Math.exp(-C/n),b=C=>v+y(C),N=C=>{const E=y(C),F=b(C);h.done=Math.abs(E)<=u,h.value=h.done?v:F};let S,A;const j=C=>{m(h.value)&&(S=C,A=Wb({keyframes:[h.value,p(h.value)],velocity:Nq(b,C,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:C=>{let E=!1;return!A&&S===void 0&&(E=!0,N(C),j(C)),S!==void 0&&C>=S?A.next(C-S):(!E&&N(C),h)}}}function M_e(e,t,r){const n=[],a=r||jc.mix||wq,s=e.length-1;for(let i=0;i<s;i++){let o=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||so:t;o=Mx(c,o)}n.push(o)}return n}function R_e(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(Q_(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=M_e(t,n,a),c=o.length,u=d=>{if(i&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Rg(e[f],e[f+1],d);return o[f](h)};return r?d=>u(Sc(e[0],e[s-1],d)):u}function B_e(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Rg(0,t,n);e.push(on(r,1,a))}}function z_e(e){const t=[0];return B_e(t,e.length-1),t}function U_e(e,t){return e.map(r=>r*t)}function $_e(e,t){return e.map(()=>t||dq).splice(0,e.length-1)}function Lp({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=Q6e(n)?n.map(aF):aF(n),s={done:!1,value:t[0]},i=U_e(r&&r.length===t.length?r:z_e(t),e),o=R_e(i,t,{ease:Array.isArray(a)?a:$_e(t,a)});return{calculatedDuration:e,next:c=>(s.value=o(c),s.done=c>=e,s)}}const W_e=e=>e!==null;function uE(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(W_e),o=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const H_e={decay:i3,inertia:i3,tween:Lp,keyframes:Lp,spring:Wb};function Sq(e){typeof e.type=="string"&&(e.type=H_e[e.type])}class dE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const V_e=e=>e/100;class fE extends dE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Gs.now()&&this.tick(Gs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Sq(t);const{type:r=Lp,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:i=0}=t;let{keyframes:o}=t;const c=r||Lp;c!==Lp&&typeof o[0]!="number"&&(this.mixKeyframes=Mx(V_e,wq(o[0],o[1])),o=[0,100]);const u=c({...t,keyframes:o});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=cE(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:g,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,N=n;if(f){const C=Math.min(this.currentTime,a)/o;let E=Math.floor(C),F=C%1;!F&&C>=1&&(F=1),F===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(h==="reverse"?(F=1-F,m&&(F-=m/o)):h==="mirror"&&(N=i)),b=Sc(0,1,F)*o}const S=y?{done:!1,value:d[0]}:N.next(b);s&&(S.value=s(S.value));let{done:A}=S;!y&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return j&&p!==i3&&(S.value=uE(d,this.options,x,this.speed)),g&&g(S.value),j&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return ro(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ro(t)}get time(){return ro(this.currentTime)}set time(t){var r;t=kl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ro(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=E_e,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function q_e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Bd=e=>e*180/Math.PI,o3=e=>{const t=Bd(Math.atan2(e[1],e[0]));return l3(t)},G_e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:o3,rotateZ:o3,skewX:e=>Bd(Math.atan(e[1])),skewY:e=>Bd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},l3=e=>(e=e%360,e<0&&(e+=360),e),uF=o3,dF=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fF=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),K_e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dF,scaleY:fF,scale:e=>(dF(e)+fF(e))/2,rotateX:e=>l3(Bd(Math.atan2(e[6],e[5]))),rotateY:e=>l3(Bd(Math.atan2(-e[2],e[0]))),rotateZ:uF,rotate:uF,skewX:e=>Bd(Math.atan(e[4])),skewY:e=>Bd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function c3(e){return e.includes("scale")?1:0}function u3(e,t){if(!e||e==="none")return c3(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=K_e,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=G_e,a=o}if(!a)return c3(t);const s=n[t],i=a[1].split(",").map(X_e);return typeof s=="function"?s(i):i[s]}const Y_e=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return u3(r,t)};function X_e(e){return parseFloat(e.trim())}const Qh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],em=new Set(Qh),hF=e=>e===Jh||e===zt,Z_e=new Set(["x","y","z"]),J_e=Qh.filter(e=>!Z_e.has(e));function Q_e(e){const t=[];return J_e.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const r0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>u3(t,"x"),y:(e,{transform:t})=>u3(t,"y")};r0.translateX=r0.x;r0.translateY=r0.y;const n0=new Set;let d3=!1,f3=!1,h3=!1;function jq(){if(f3){const e=Array.from(n0).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Q_e(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,i])=>{var o;(o=n.getValue(s))==null||o.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}f3=!1,d3=!1,n0.forEach(e=>e.complete(h3)),n0.clear()}function Aq(){n0.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(f3=!0)})}function eEe(){h3=!0,Aq(),jq(),h3=!1}class hE{constructor(t,r,n,a,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(n0.add(this),d3||(d3=!0,tn.read(Aq),tn.resolveKeyframes(jq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),i=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const o=n.readValue(r,i);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=i),a&&s===void 0&&a.set(t[0])}q_e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),n0.delete(this)}cancel(){this.state==="scheduled"&&(n0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tEe=e=>e.startsWith("--");function rEe(e,t,r){tEe(t)?e.style.setProperty(t,r):e.style[t]=r}const nEe=eE(()=>window.ScrollTimeline!==void 0),aEe={};function sEe(e,t){const r=eE(e);return()=>aEe[t]??r()}const _q=sEe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ip=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,mF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ip([0,.65,.55,1]),circOut:ip([.55,0,1,.45]),backIn:ip([.31,.01,.66,-.59]),backOut:ip([.33,1.53,.69,.99])};function Eq(e,t){if(e)return typeof e=="function"?_q()?kq(e,t):"ease-out":fq(e)?ip(e):Array.isArray(e)?e.map(r=>Eq(r,t)||mF.easeOut):mF[e]}function iEe(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:i="loop",ease:o="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Eq(o,a);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function Cq(e){return typeof e=="function"&&"applyToOptions"in e}function oEe({type:e,...t}){return Cq(e)&&_q()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class lEe extends dE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=i,this.options=t,Q_(typeof t.type!="string");const u=oEe(t);this.animation=iEe(r,n,a,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=uE(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):rEe(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ro(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ro(t)}get time(){return ro(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=kl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&nEe()?(this.animation.timeline=t,so):r(this)}}const Tq={anticipate:lq,backInOut:oq,circInOut:uq};function cEe(e){return e in Tq}function uEe(e){typeof e.ease=="string"&&cEe(e.ease)&&(e.ease=Tq[e.ease])}const pF=10;class dEe extends lEe{constructor(t){uEe(t),Sq(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new fE({...i,autoplay:!1}),c=kl(this.finishedTime??this.time);r.setWithVelocity(o.sample(c-pF).value,o.sample(c).value,pF),o.stop()}}const gF=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ku.test(e)||e==="0")&&!e.startsWith("url("));function fEe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function hEe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=gF(a,t),o=gF(s,t);return!i||!o?!1:fEe(e)||(r==="spring"||Cq(r))&&n}function m3(e){e.duration=0,e.type="keyframes"}const mEe=new Set(["opacity","clipPath","filter","transform"]),pEe=eE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gEe(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:i}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return pEe()&&r&&mEe.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&s!==0&&i!=="inertia"}const xEe=40;class vEe extends dE{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i="loop",keyframes:o,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var g,x;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Gs.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:i,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||hE;this.keyframeResolver=new m(o,(g,x,v)=>this.onKeyframesResolved(g,x,h,!v),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:s,type:i,velocity:o,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Gs.now(),hEe(t,s,i,o)||((jc.instantAnimations||!c)&&(d==null||d(uE(t,n,r))),t[0]=t[t.length-1],m3(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>xEe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&gEe(h)?new dEe({...h,element:h.motionValue.owner.current}):new fE(h);m.finished.then(()=>this.notifyFinished()).catch(so),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),eEe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const yEe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bEe(e){const t=yEe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Pq(e,t,r=1){const[n,a]=bEe(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const i=s.trim();return QV(i)?parseFloat(i):i}return sE(a)?Pq(a,t,r+1):a}function mE(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Oq=new Set(["width","height","top","left","right","bottom",...Qh]),wEe={test:e=>e==="auto",parse:e=>e},Lq=e=>t=>t.test(e),Fq=[Jh,zt,Nl,nu,f_e,d_e,wEe],xF=e=>Fq.find(Lq(e));function kEe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tq(e):!0}const NEe=new Set(["brightness","contrast","saturate","opacity"]);function SEe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(iE)||[];if(!n)return e;const a=r.replace(n,"");let s=NEe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const jEe=/\b([a-z-]*)\(.*?\)/gu,p3={...Ku,getAnimatableNone:e=>{const t=e.match(jEe);return t?t.map(SEe).join(" "):e}},vF={...Jh,transform:Math.round},AEe={rotate:nu,rotateX:nu,rotateY:nu,rotateZ:nu,scale:Ev,scaleX:Ev,scaleY:Ev,scaleZ:Ev,skew:nu,skewX:nu,skewY:nu,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:Bg,originX:sF,originY:sF,originZ:zt},pE={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt,...AEe,zIndex:vF,fillOpacity:Bg,strokeOpacity:Bg,numOctaves:vF},_Ee={...pE,color:Kn,backgroundColor:Kn,outlineColor:Kn,fill:Kn,stroke:Kn,borderColor:Kn,borderTopColor:Kn,borderRightColor:Kn,borderBottomColor:Kn,borderLeftColor:Kn,filter:p3,WebkitFilter:p3},Dq=e=>_Ee[e];function Iq(e,t){let r=Dq(e);return r!==p3&&(r=Ku),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const EEe=new Set(["auto","none","0"]);function CEe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!EEe.has(s)&&zg(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=Iq(r,a)}class TEe extends hE{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),sE(u))){const d=Pq(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Oq.has(n)||t.length!==2)return;const[a,s]=t,i=xF(a),o=xF(s);if(i!==o)if(hF(i)&&hF(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else r0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||kEe(t[a]))&&n.push(a);n.length&&CEe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=r0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=r0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function PEe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Mq=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Rq(e){return eq(e)&&"offsetHeight"in e}const yF=30,OEe=e=>!isNaN(parseFloat(e));class LEe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=Gs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Gs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=OEe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new tE);const n=this.events[t].add(r);return t==="change"?()=>{n(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yF)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,yF);return rq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _h(e,t){return new LEe(e,t)}const{schedule:gE}=hq(queueMicrotask,!1),_o={x:!1,y:!1};function Bq(){return _o.x||_o.y}function FEe(e){return e==="x"||e==="y"?_o[e]?null:(_o[e]=!0,()=>{_o[e]=!1}):_o.x||_o.y?null:(_o.x=_o.y=!0,()=>{_o.x=_o.y=!1})}function zq(e,t){const r=PEe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function bF(e){return!(e.pointerType==="touch"||Bq())}function DEe(e,t,r={}){const[n,a,s]=zq(e,r),i=o=>{if(!bF(o))return;const{target:c}=o,u=t(c,o);if(typeof u!="function"||!c)return;const d=f=>{bF(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(o=>{o.addEventListener("pointerenter",i,a)}),s}const Uq=(e,t)=>t?e===t?!0:Uq(e,t.parentElement):!1,xE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,IEe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MEe(e){return IEe.has(e.tagName)||e.tabIndex!==-1}const ey=new WeakSet;function wF(e){return t=>{t.key==="Enter"&&e(t)}}function h4(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const REe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=wF(()=>{if(ey.has(r))return;h4(r,"down");const a=wF(()=>{h4(r,"up")}),s=()=>h4(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function kF(e){return xE(e)&&!Bq()}function BEe(e,t,r={}){const[n,a,s]=zq(e,r),i=o=>{const c=o.currentTarget;if(!kF(o))return;ey.add(c);const u=t(c,o),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ey.has(c)&&ey.delete(c),kF(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||Uq(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",i,a),Rq(o)&&(o.addEventListener("focus",u=>REe(u,a)),!MEe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function $q(e){return eq(e)&&"ownerSVGElement"in e}function zEe(e){return $q(e)&&e.tagName==="svg"}const ls=e=>!!(e&&e.getVelocity),UEe=[...Fq,Kn,Ku],$Ee=e=>UEe.find(Lq(e)),vE=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function NF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function WEe(...e){return t=>{let r=!1;const n=e.map(a=>{const s=NF(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():NF(e[a],null)}}}}function HEe(...e){return k.useCallback(WEe(...e),e)}class VEe extends k.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Rq(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qEe({children:e,isPresent:t,anchorX:r,root:n}){const a=k.useId(),s=k.useRef(null),i=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(vE),c=HEe(s,e==null?void 0:e.ref);return k.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:m}=i.current;if(t||!s.current||!u||!d)return;const p=r==="left"?`left: ${h}`:`right: ${m}`;s.current.dataset.motionPopId=a;const g=document.createElement("style");o&&(g.nonce=o);const x=n??document.head;return x.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(g)&&x.removeChild(g)}},[t]),l.jsx(VEe,{isPresent:t,childRef:s,sizeRef:i,children:k.cloneElement(e,{ref:c})})}const GEe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:i,anchorX:o,root:c})=>{const u=Y_(KEe),d=k.useId();let f=!0,h=k.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),k.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),k.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=l.jsx(qEe,{isPresent:r,anchorX:o,root:c,children:e})),l.jsx(Uw.Provider,{value:h,children:e})};function KEe(){return new Map}function Wq(e=!0){const t=k.useContext(Uw);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=k.useId();k.useEffect(()=>{if(e)return a(s)},[e]);const i=k.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,i]:[!0]}const Cv=e=>e.key||"";function SF(e){const t=[];return k.Children.forEach(e,r=>{k.isValidElement(r)&&t.push(r)}),t}const YEe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:i=!1,anchorX:o="left",root:c})=>{const[u,d]=Wq(i),f=k.useMemo(()=>SF(e),[e]),h=i&&!u?[]:f.map(Cv),m=k.useRef(!0),p=k.useRef(f),g=Y_(()=>new Map),[x,v]=k.useState(f),[y,b]=k.useState(f);JV(()=>{m.current=!1,p.current=f;for(let A=0;A<y.length;A++){const j=Cv(y[A]);h.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[y,h.length,h.join("-")]);const N=[];if(f!==x){let A=[...f];for(let j=0;j<y.length;j++){const C=y[j],E=Cv(C);h.includes(E)||(A.splice(j,0,C),N.push(C))}return s==="wait"&&N.length&&(A=N),b(SF(A)),v(f),null}const{forceRender:S}=k.useContext(K_);return l.jsx(l.Fragment,{children:y.map(A=>{const j=Cv(A),C=i&&!u?!1:f===y||h.includes(j),E=()=>{if(g.has(j))g.set(j,!0);else return;let F=!0;g.forEach(O=>{O||(F=!1)}),F&&(S==null||S(),b(p.current),i&&(d==null||d()),n&&n())};return l.jsx(GEe,{isPresent:C,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:C?void 0:E,anchorX:o,children:A},j)})})},Hq=k.createContext({strict:!1}),jF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eh={};for(const e in jF)Eh[e]={isEnabled:t=>jF[e].some(r=>!!t[r])};function XEe(e){for(const t in e)Eh[t]={...Eh[t],...e[t]}}const ZEe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ZEe.has(e)}let Vq=e=>!Hb(e);function JEe(e){typeof e=="function"&&(Vq=t=>t.startsWith("on")?!Hb(t):e(t))}try{JEe(require("@emotion/is-prop-valid").default)}catch{}function QEe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Vq(a)||r===!0&&Hb(a)||!t&&!Hb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const $w=k.createContext({});function Ww(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ug(e){return typeof e=="string"||Array.isArray(e)}const yE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bE=["initial",...yE];function Hw(e){return Ww(e.animate)||bE.some(t=>Ug(e[t]))}function qq(e){return!!(Hw(e)||e.variants)}function eCe(e,t){if(Hw(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ug(r)?r:void 0,animate:Ug(n)?n:void 0}}return e.inherit!==!1?t:{}}function tCe(e){const{initial:t,animate:r}=eCe(e,k.useContext($w));return k.useMemo(()=>({initial:t,animate:r}),[AF(t),AF(r)])}function AF(e){return Array.isArray(e)?e.join(" "):e}const $g={};function rCe(e){for(const t in e)$g[t]=e[t],aE(t)&&($g[t].isCSSVariable=!0)}function Gq(e,{layout:t,layoutId:r}){return em.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!$g[e]||e==="opacity")}const nCe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aCe=Qh.length;function sCe(e,t,r){let n="",a=!0;for(let s=0;s<aCe;s++){const i=Qh[s],o=e[i];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(i.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=Mq(o,pE[i]);if(!c){a=!1;const d=nCe[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function wE(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let i=!1,o=!1;for(const c in t){const u=t[c];if(em.has(c)){i=!0;continue}else if(aE(c)){a[c]=u;continue}else{const d=Mq(u,pE[c]);c.startsWith("origin")?(o=!0,s[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=sCe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const kE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kq(e,t,r){for(const n in t)!ls(t[n])&&!Gq(n,r)&&(e[n]=t[n])}function iCe({transformTemplate:e},t){return k.useMemo(()=>{const r=kE();return wE(r,t,e),Object.assign({},r.vars,r.style)},[t])}function oCe(e,t){const r=e.style||{},n={};return Kq(n,r,e),Object.assign(n,iCe(e,t)),n}function lCe(e,t){const r={},n=oCe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const cCe={offset:"stroke-dashoffset",array:"stroke-dasharray"},uCe={offset:"strokeDashoffset",array:"strokeDasharray"};function dCe(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?cCe:uCe;e[s.offset]=zt.transform(-n);const i=zt.transform(t),o=zt.transform(r);e[s.array]=`${i} ${o}`}function Yq(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:i=0,...o},c,u,d){if(wE(e,o,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&dCe(f,a,s,i,!1)}const Xq=()=>({...kE(),attrs:{}}),Zq=e=>typeof e=="string"&&e.toLowerCase()==="svg";function fCe(e,t,r,n){const a=k.useMemo(()=>{const s=Xq();return Yq(s,t,Zq(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Kq(s,e.style,e),a.style={...s,...a.style}}return a}const hCe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NE(e){return typeof e!="string"||e.includes("-")?!1:!!(hCe.indexOf(e)>-1||/[A-Z]/u.test(e))}function mCe(e,t,r,{latestValues:n},a,s=!1){const o=(NE(e)?fCe:lCe)(t,n,a,e),c=QEe(t,typeof e=="string",s),u=e!==k.Fragment?{...c,...o,ref:r}:{},{children:d}=t,f=k.useMemo(()=>ls(d)?d.get():d,[d]);return k.createElement(e,{...u,children:f})}function _F(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function SE(e,t,r,n){if(typeof t=="function"){const[a,s]=_F(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=_F(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function ty(e){return ls(e)?e.get():e}function pCe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:gCe(r,n,a,e),renderState:t()}}function gCe(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=ty(s[h]);let{initial:i,animate:o}=e;const c=Hw(e),u=qq(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?o:i;if(f&&typeof f!="boolean"&&!Ww(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=SE(e,h[m]);if(p){const{transitionEnd:g,transition:x,...v}=p;for(const y in v){let b=v[y];if(Array.isArray(b)){const N=d?b.length-1:0;b=b[N]}b!==null&&(a[y]=b)}for(const y in g)a[y]=g[y]}}}return a}const Jq=e=>(t,r)=>{const n=k.useContext($w),a=k.useContext(Uw),s=()=>pCe(e,t,n,a);return r?s():Y_(s)};function jE(e,t,r){var s;const{style:n}=e,a={};for(const i in n)(ls(n[i])||t.style&&ls(t.style[i])||Gq(i,e)||((s=r==null?void 0:r.getValue(i))==null?void 0:s.liveStyle)!==void 0)&&(a[i]=n[i]);return a}const xCe=Jq({scrapeMotionValuesFromProps:jE,createRenderState:kE});function Qq(e,t,r){const n=jE(e,t,r);for(const a in e)if(ls(e[a])||ls(t[a])){const s=Qh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}const vCe=Jq({scrapeMotionValuesFromProps:Qq,createRenderState:Xq}),yCe=Symbol.for("motionComponentSymbol");function Mf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bCe(e,t,r){return k.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Mf(r)&&(r.current=n))},[t])}const AE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wCe="framerAppearId",eG="data-"+AE(wCe),tG=k.createContext({});function kCe(e,t,r,n,a){var g,x;const{visualElement:s}=k.useContext($w),i=k.useContext(Hq),o=k.useContext(Uw),c=k.useContext(vE).reducedMotion,u=k.useRef(null);n=n||i.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=k.useContext(tG);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&NCe(u.current,r,a,f);const h=k.useRef(!1);k.useInsertionEffect(()=>{d&&h.current&&d.update(r,o)});const m=r[eG],p=k.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return JV(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function NCe(e,t,r,n){const{layoutId:a,layout:s,drag:i,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:rG(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!i||o&&Mf(o),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function rG(e){if(e)return e.options.allowProjection!==!1?e.projection:rG(e.parent)}function m4(e,{forwardMotionProps:t=!1}={},r,n){r&&XEe(r);const a=NE(e)?vCe:xCe;function s(o,c){let u;const d={...k.useContext(vE),...o,layoutId:SCe(o)},{isStatic:f}=d,h=tCe(o),m=a(o,f);if(!f&&X_){jCe();const p=ACe(d);u=p.MeasureLayout,h.visualElement=kCe(e,m,d,n,p.ProjectionNode)}return l.jsxs($w.Provider,{value:h,children:[u&&h.visualElement?l.jsx(u,{visualElement:h.visualElement,...d}):null,mCe(e,o,bCe(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=k.forwardRef(s);return i[yCe]=e,i}function SCe({layoutId:e}){const t=k.useContext(K_).id;return t&&e!==void 0?t+"-"+e:e}function jCe(e,t){k.useContext(Hq).strict}function ACe(e){const{drag:t,layout:r}=Eh;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function _Ce(e,t){if(typeof Proxy>"u")return m4;const r=new Map,n=(s,i)=>m4(s,i,e,t),a=(s,i)=>n(s,i);return new Proxy(a,{get:(s,i)=>i==="create"?n:(r.has(i)||r.set(i,m4(i,void 0,e,t)),r.get(i))})}function nG({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ECe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function CCe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function p4(e){return e===void 0||e===1}function g3({scale:e,scaleX:t,scaleY:r}){return!p4(e)||!p4(t)||!p4(r)}function Ad(e){return g3(e)||aG(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function aG(e){return EF(e.x)||EF(e.y)}function EF(e){return e&&e!=="0%"}function Vb(e,t,r){const n=e-r,a=t*n;return r+a}function CF(e,t,r,n,a){return a!==void 0&&(e=Vb(e,a,n)),Vb(e,r,n)+t}function x3(e,t=0,r=1,n,a){e.min=CF(e.min,t,r,n,a),e.max=CF(e.max,t,r,n,a)}function sG(e,{x:t,y:r}){x3(e.x,t.translate,t.scale,t.originPoint),x3(e.y,r.translate,r.scale,r.originPoint)}const TF=.999999999999,PF=1.0000000000001;function TCe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,i;for(let o=0;o<a;o++){s=r[o],i=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bf(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,sG(e,i)),n&&Ad(s.latestValues)&&Bf(e,s.latestValues))}t.x<PF&&t.x>TF&&(t.x=1),t.y<PF&&t.y>TF&&(t.y=1)}function Rf(e,t){e.min=e.min+t,e.max=e.max+t}function OF(e,t,r,n,a=.5){const s=on(e.min,e.max,a);x3(e,t,r,s,n)}function Bf(e,t){OF(e.x,t.x,t.scaleX,t.scale,t.originX),OF(e.y,t.y,t.scaleY,t.scale,t.originY)}function iG(e,t){return nG(CCe(e.getBoundingClientRect(),t))}function PCe(e,t,r){const n=iG(e,r),{scroll:a}=t;return a&&(Rf(n.x,a.offset.x),Rf(n.y,a.offset.y)),n}const LF=()=>({translate:0,scale:1,origin:0,originPoint:0}),zf=()=>({x:LF(),y:LF()}),FF=()=>({min:0,max:0}),Pn=()=>({x:FF(),y:FF()}),v3={current:null},oG={current:!1};function OCe(){if(oG.current=!0,!!X_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>v3.current=e.matches;e.addEventListener("change",t),t()}else v3.current=!1}const LCe=new WeakMap;function FCe(e,t,r){for(const n in t){const a=t[n],s=r[n];if(ls(a))e.addValue(n,a);else if(ls(s))e.addValue(n,_h(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(n);e.addValue(n,_h(i!==void 0?i:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const DF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DCe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Gs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,tn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Hw(r),this.isVariantNode=qq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&ls(m)&&m.set(c[h])}}mount(t){var r;this.current=t,LCe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),oG.current||OCe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v3.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Gu(this.notifyUpdate),Gu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=em.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&tn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Eh){const r=Eh[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<DF.length;n++){const a=DF[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,i=t[s];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=FCe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=_h(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(QV(n)||tq(n))?n=parseFloat(n):!$Ee(n)&&Ku.test(r)&&(n=Iq(t,r)),this.setBaseTarget(t,ls(n)?n.get():n)),ls(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=SE(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ls(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new tE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){gE.render(this.render)}}class lG extends DCe{constructor(){super(...arguments),this.KeyframeResolver=TEe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ls(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cG(e,{style:t,vars:r},n,a){const s=e.style;let i;for(i in t)s[i]=t[i];a==null||a.applyProjectionStyles(s,n);for(i in r)s.setProperty(i,r[i])}function ICe(e){return window.getComputedStyle(e)}class MCe extends lG{constructor(){super(...arguments),this.type="html",this.renderInstance=cG}readValueFromInstance(t,r){var n;if(em.has(r))return(n=this.projection)!=null&&n.isProjecting?c3(r):Y_e(t,r);{const a=ICe(t),s=(aE(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return iG(t,r)}build(t,r,n){wE(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return jE(t,r,n)}}const uG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RCe(e,t,r,n){cG(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(uG.has(a)?a:AE(a),t.attrs[a])}class BCe extends lG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(em.has(r)){const n=Dq(r);return n&&n.default||0}return r=uG.has(r)?r:AE(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Qq(t,r,n)}build(t,r,n){Yq(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){RCe(t,r,n,a)}mount(t){this.isSVGTag=Zq(t.tagName),super.mount(t)}}const zCe=(e,t)=>NE(e)?new BCe(t):new MCe(t,{allowProjection:e!==k.Fragment});function eh(e,t,r){const n=e.getProps();return SE(n,t,r!==void 0?r:n.custom,e)}const y3=e=>Array.isArray(e);function UCe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,_h(r))}function $Ce(e){return y3(e)?e[e.length-1]||0:e}function WCe(e,t){const r=eh(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const i in s){const o=$Ce(s[i]);UCe(e,i,o)}}function HCe(e){return!!(ls(e)&&e.add)}function b3(e,t){const r=e.getValue("willChange");if(HCe(r))return r.add(t);if(!r&&jc.WillChange){const n=new jc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function dG(e){return e.props[eG]}const VCe=e=>e!==null;function qCe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(VCe),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}const GCe={type:"spring",stiffness:500,damping:25,restSpeed:10},KCe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),YCe={type:"keyframes",duration:.8},XCe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZCe=(e,{keyframes:t})=>t.length>2?YCe:em.has(e)?e.startsWith("scale")?KCe(t[1]):GCe:XCe;function JCe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:i,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const _E=(e,t,r,n={},a,s)=>i=>{const o=mE(n,e)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-kl(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:a};JCe(o)||Object.assign(d,ZCe(e,d)),d.duration&&(d.duration=kl(d.duration)),d.repeatDelay&&(d.repeatDelay=kl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(m3(d),d.delay===0&&(f=!0)),(jc.instantAnimations||jc.skipAnimations)&&(f=!0,m3(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,f&&!s&&t.get()!==void 0){const h=qCe(d.keyframes,o);if(h!==void 0){tn.update(()=>{d.onUpdate(h),d.onComplete()});return}}return o.isSync?new fE(d):new vEe(d)};function QCe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function fG(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...o}=t;n&&(s=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in o){const f=e.getValue(d,e.latestValues[d]??null),h=o[d];if(h===void 0||u&&QCe(u,d))continue;const m={delay:r,...mE(s||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=dG(e);if(v){const y=window.MotionHandoffAnimation(v,d,tn);y!==null&&(m.startTime=y,g=!0)}}b3(e,d),f.start(_E(d,f,h,e.shouldReduceMotion&&Oq.has(d)?{type:!1}:m,e,g));const x=f.animation;x&&c.push(x)}return i&&Promise.all(c).then(()=>{tn.update(()=>{i&&WCe(e,i)})}),c}function hG(e,t,r,n=0,a=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),i=e.size,o=(i-1)*n;return typeof r=="function"?r(s,i):a===1?s*n:o-s*n}function w3(e,t,r={}){var c;const n=eh(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(fG(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return eTe(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[u,d]=o==="beforeChildren"?[s,i]:[i,s];return u().then(()=>d())}else return Promise.all([s(),i(r.delay)])}function eTe(e,t,r=0,n=0,a=0,s=1,i){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(w3(c,t,{...i,delay:r+(typeof n=="function"?0:n)+hG(e.variantChildren,c,n,a,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function tTe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>w3(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=w3(e,t,r);else{const a=typeof t=="function"?eh(e,t,r.custom):t;n=Promise.all(fG(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function mG(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const rTe=bE.length;function pG(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?pG(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<rTe;r++){const n=bE[r],a=e.props[n];(Ug(a)||a===!1)&&(t[n]=a)}return t}const nTe=[...yE].reverse(),aTe=yE.length;function sTe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>tTe(e,r,n)))}function iTe(e){let t=sTe(e),r=IF(),n=!0;const a=c=>(u,d)=>{var h;const f=eh(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...g}=f;u={...u,...g,...p}}return u};function s(c){t=c(e)}function i(c){const{props:u}=e,d=pG(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let x=0;x<aTe;x++){const v=nTe[x],y=r[v],b=u[v]!==void 0?u[v]:d[v],N=Ug(b),S=v===c?y.isActive:null;S===!1&&(p=x);let A=b===d[v]&&b!==u[v]&&N;if(A&&n&&e.manuallyAnimateOnMount&&(A=!1),y.protectedKeys={...m},!y.isActive&&S===null||!b&&!y.prevProp||Ww(b)||typeof b=="boolean")continue;const j=oTe(y.prevProp,b);let C=j||v===c&&y.isActive&&!A&&N||x>p&&N,E=!1;const F=Array.isArray(b)?b:[b];let O=F.reduce(a(v),{});S===!1&&(O={});const{prevResolvedValues:T={}}=y,H={...T,...O},K=B=>{C=!0,h.has(B)&&(E=!0,h.delete(B)),y.needsAnimating[B]=!0;const Y=e.getValue(B);Y&&(Y.liveStyle=!1)};for(const B in H){const Y=O[B],z=T[B];if(m.hasOwnProperty(B))continue;let Q=!1;y3(Y)&&y3(z)?Q=!mG(Y,z):Q=Y!==z,Q?Y!=null?K(B):h.add(B):Y!==void 0&&h.has(B)?K(B):y.protectedKeys[B]=!0}y.prevProp=b,y.prevResolvedValues=O,y.isActive&&(m={...m,...O}),n&&e.blockInitialAnimation&&(C=!1);const se=A&&j;C&&(!se||E)&&f.push(...F.map(B=>{const Y={type:v};if(typeof B=="string"&&n&&!se&&e.manuallyAnimateOnMount&&e.parent){const{parent:z}=e,Q=eh(z,B);if(z.enteringChildren&&Q){const{delayChildren:de}=Q.transition||{};Y.delay=hG(z.enteringChildren,e,de)}}return{animation:B,options:Y}}))}if(h.size){const x={};if(typeof u.initial!="boolean"){const v=eh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(x.transition=v.transition)}h.forEach(v=>{const y=e.getBaseTarget(v),b=e.getValue(v);b&&(b.liveStyle=!0),x[v]=y??null}),f.push({animation:x})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function o(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:i,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=IF()}}}function oTe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mG(t,e):!1}function yd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IF(){return{animate:yd(!0),whileInView:yd(),whileHover:yd(),whileTap:yd(),whileDrag:yd(),whileFocus:yd(),exit:yd()}}class od{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lTe extends od{constructor(t){super(t),t.animationState||(t.animationState=iTe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ww(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let cTe=0;class uTe extends od{constructor(){super(...arguments),this.id=cTe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dTe={animation:{Feature:lTe},exit:{Feature:uTe}};function Wg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function zx(e){return{point:{x:e.pageX,y:e.pageY}}}const fTe=e=>t=>xE(t)&&e(t,zx(t));function Fp(e,t,r,n){return Wg(e,t,fTe(r),n)}const gG=1e-4,hTe=1-gG,mTe=1+gG,xG=.01,pTe=0-xG,gTe=0+xG;function _s(e){return e.max-e.min}function xTe(e,t,r){return Math.abs(e-t)<=r}function MF(e,t,r,n=.5){e.origin=n,e.originPoint=on(t.min,t.max,e.origin),e.scale=_s(r)/_s(t),e.translate=on(r.min,r.max,e.origin)-e.originPoint,(e.scale>=hTe&&e.scale<=mTe||isNaN(e.scale))&&(e.scale=1),(e.translate>=pTe&&e.translate<=gTe||isNaN(e.translate))&&(e.translate=0)}function Dp(e,t,r,n){MF(e.x,t.x,r.x,n?n.originX:void 0),MF(e.y,t.y,r.y,n?n.originY:void 0)}function RF(e,t,r){e.min=r.min+t.min,e.max=e.min+_s(t)}function vTe(e,t,r){RF(e.x,t.x,r.x),RF(e.y,t.y,r.y)}function BF(e,t,r){e.min=t.min-r.min,e.max=e.min+_s(t)}function Ip(e,t,r){BF(e.x,t.x,r.x),BF(e.y,t.y,r.y)}function Yi(e){return[e("x"),e("y")]}const vG=({current:e})=>e?e.ownerDocument.defaultView:null,zF=(e,t)=>Math.abs(e-t);function yTe(e,t){const r=zF(e.x,t.x),n=zF(e.y,t.y);return Math.sqrt(r**2+n**2)}class yG{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=x4(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=yTe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:g}=h,{timestamp:x}=Ma;this.history.push({...g,timestamp:x});const{onStart:v,onMove:y}=this.handlers;m||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=g4(m,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=x4(h.type==="pointercancel"?this.lastMoveEventInfo:g4(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),g&&g(h,v)},!xE(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const o=zx(t),c=g4(o,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ma;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,x4(c,this.history)),this.removeListeners=Mx(Fp(this.contextWindow,"pointermove",this.handlePointerMove),Fp(this.contextWindow,"pointerup",this.handlePointerUp),Fp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gu(this.updatePoint)}}function g4(e,t){return t?{point:t(e.point)}:e}function UF(e,t){return{x:e.x-t.x,y:e.y-t.y}}function x4({point:e},t){return{point:e,delta:UF(e,bG(t)),offset:UF(e,bTe(t)),velocity:wTe(t,.1)}}function bTe(e){return e[0]}function bG(e){return e[e.length-1]}function wTe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=bG(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>kl(t)));)r--;if(!n)return{x:0,y:0};const s=ro(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const i={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function kTe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?on(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?on(r,e,n.max):Math.min(e,r)),e}function $F(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function NTe(e,{top:t,left:r,bottom:n,right:a}){return{x:$F(e.x,r,a),y:$F(e.y,t,n)}}function WF(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function STe(e,t){return{x:WF(e.x,t.x),y:WF(e.y,t.y)}}function jTe(e,t){let r=.5;const n=_s(e),a=_s(t);return a>n?r=Rg(t.min,t.max-n,e.min):n>a&&(r=Rg(e.min,e.max-a,t.min)),Sc(0,1,r)}function ATe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const k3=.35;function _Te(e=k3){return e===!1?e=0:e===!0&&(e=k3),{x:HF(e,"left","right"),y:HF(e,"top","bottom")}}function HF(e,t,r){return{min:VF(e,t),max:VF(e,r)}}function VF(e,t){return typeof e=="number"?e:e[t]||0}const ETe=new WeakMap;class CTe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(zx(f).point)},i=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FEe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yi(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Nl.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const N=b.layout.layoutBox[v];N&&(y=_s(N)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&tn.postRender(()=>g(f,h)),b3(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=TTe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),x&&x(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Yi(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new yG(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:vG(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&tn.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Tv(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=kTe(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&Mf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=NTe(n.layoutBox,t):this.constraints=!1,this.elastic=_Te(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Yi(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=ATe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Mf(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=PCe(n,a.root,this.visualElement.getTransformPagePoint());let i=STe(a.layout.layoutBox,s);if(r){const o=r(ECe(i));this.hasMutatedConstraints=!!o,o&&(i=nG(o))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Yi(d=>{if(!Tv(d,r,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return b3(this.visualElement,t),n.start(_E(t,n,0,r,this.visualElement,!1))}stopAnimation(){Yi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yi(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Yi(r=>{const{drag:n}=this.getProps();if(!Tv(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:i,max:o}=a.layout.layoutBox[r];s.set(t[r]-on(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Mf(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Yi(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const c=o.get();a[i]=jTe({min:c,max:c},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Yi(i=>{if(!Tv(i,t,null))return;const o=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];o.set(on(c,u,a[i]))})}addListeners(){if(!this.visualElement.current)return;ETe.set(this.visualElement,this);const t=this.visualElement.current,r=Fp(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Mf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),tn.read(n);const i=Wg(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Yi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:i=k3,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:i,dragMomentum:o}}}function Tv(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function TTe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class PTe extends od{constructor(t){super(t),this.removeGroupControls=so,this.removeListeners=so,this.controls=new CTe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||so}unmount(){this.removeGroupControls(),this.removeListeners()}}const qF=e=>(t,r)=>{e&&tn.postRender(()=>e(t,r))};class OTe extends od{constructor(){super(...arguments),this.removePointerDownListener=so}onPointerDown(t){this.session=new yG(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vG(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:qF(t),onStart:qF(r),onMove:n,onEnd:(s,i)=>{delete this.session,a&&tn.postRender(()=>a(s,i))}}}mount(){this.removePointerDownListener=Fp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ry={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GF(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(zt.test(e))e=parseFloat(e);else return e;const r=GF(e,t.target.x),n=GF(e,t.target.y);return`${r}% ${n}%`}},LTe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Ku.parse(e);if(a.length>5)return n;const s=Ku.createTransformer(e),i=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;a[0+i]/=o,a[1+i]/=c;const u=on(o,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=u),typeof a[3+i]=="number"&&(a[3+i]/=u),s(a)}};let v4=!1;class FTe extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;rCe(DTe),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),v4&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ry.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:i}=n;return i&&(i.isPresent=s,v4=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||tn.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),gE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;v4=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wG(e){const[t,r]=Wq(),n=k.useContext(K_);return l.jsx(FTe,{...e,layoutGroup:n,switchLayoutGroup:k.useContext(tG),isPresent:t,safeToRemove:r})}const DTe={borderRadius:{...Xm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xm,borderTopRightRadius:Xm,borderBottomLeftRadius:Xm,borderBottomRightRadius:Xm,boxShadow:LTe};function ITe(e,t,r){const n=ls(e)?e:_h(e);return n.start(_E("",n,t,r)),n.animation}const MTe=(e,t)=>e.depth-t.depth;class RTe{constructor(){this.children=[],this.isDirty=!1}add(t){Z_(this.children,t),this.isDirty=!0}remove(t){J_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(MTe),this.isDirty=!1,this.children.forEach(t)}}function BTe(e,t){const r=Gs.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Gu(n),e(s-t))};return tn.setup(n,!0),()=>Gu(n)}const kG=["TopLeft","TopRight","BottomLeft","BottomRight"],zTe=kG.length,KF=e=>typeof e=="string"?parseFloat(e):e,YF=e=>typeof e=="number"||zt.test(e);function UTe(e,t,r,n,a,s){a?(e.opacity=on(0,r.opacity??1,$Te(n)),e.opacityExit=on(t.opacity??1,0,WTe(n))):s&&(e.opacity=on(t.opacity??1,r.opacity??1,n));for(let i=0;i<zTe;i++){const o=`border${kG[i]}Radius`;let c=XF(t,o),u=XF(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||YF(c)===YF(u)?(e[o]=Math.max(on(KF(c),KF(u),n),0),(Nl.test(u)||Nl.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=on(t.rotate||0,r.rotate||0,n))}function XF(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const $Te=NG(0,.5,cq),WTe=NG(.5,.95,so);function NG(e,t,r){return n=>n<e?0:n>t?1:r(Rg(e,t,n))}function ZF(e,t){e.min=t.min,e.max=t.max}function Wi(e,t){ZF(e.x,t.x),ZF(e.y,t.y)}function JF(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function QF(e,t,r,n,a){return e-=t,e=Vb(e,1/r,n),a!==void 0&&(e=Vb(e,1/a,n)),e}function HTe(e,t=0,r=1,n=.5,a,s=e,i=e){if(Nl.test(t)&&(t=parseFloat(t),t=on(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=on(s.min,s.max,n);e===s&&(o-=t),e.min=QF(e.min,t,r,o,a),e.max=QF(e.max,t,r,o,a)}function eD(e,t,[r,n,a],s,i){HTe(e,t[r],t[n],t[a],t.scale,s,i)}const VTe=["x","scaleX","originX"],qTe=["y","scaleY","originY"];function tD(e,t,r,n){eD(e.x,t,VTe,r?r.x:void 0,n?n.x:void 0),eD(e.y,t,qTe,r?r.y:void 0,n?n.y:void 0)}function rD(e){return e.translate===0&&e.scale===1}function SG(e){return rD(e.x)&&rD(e.y)}function nD(e,t){return e.min===t.min&&e.max===t.max}function GTe(e,t){return nD(e.x,t.x)&&nD(e.y,t.y)}function aD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jG(e,t){return aD(e.x,t.x)&&aD(e.y,t.y)}function sD(e){return _s(e.x)/_s(e.y)}function iD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class KTe{constructor(){this.members=[]}add(t){Z_(this.members,t),t.scheduleRender()}remove(t){if(J_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YTe(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((a||s||i)&&(n=`translate3d(${a}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const y4=["","X","Y","Z"],XTe=1e3;let ZTe=0;function b4(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function AG(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=dG(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",tn,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&AG(n)}function _G({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=ZTe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ePe),this.nodes.forEach(aPe),this.nodes.forEach(sPe),this.nodes.forEach(tPe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new RTe)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new tE),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const c=this.eventHandlers.get(i);c&&c.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=$q(i)&&!zEe(i),this.instance=i;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;tn.read(()=>{f=window.innerWidth}),e(i,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=BTe(h,250),ry.hasAnimatedSinceResize&&(ry.hasAnimatedSinceResize=!1,this.nodes.forEach(cD)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||uPe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!jG(this.targetLayout,m),y=!f&&h;if(this.options.layoutRoot||this.resumeFrom||y||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...mE(p,"layout"),onPlay:g,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,y)}else f||cD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iPe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nPe),this.nodes.forEach(JTe),this.nodes.forEach(QTe)):this.nodes.forEach(lD),this.clearAllSnapshots();const o=Gs.now();Ma.delta=Sc(0,1e3/60,o-Ma.timestamp),Ma.timestamp=o,Ma.isProcessing=!0,l4.update.process(Ma),l4.preRender.process(Ma),l4.render.process(Ma),Ma.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rPe),this.sharedNodes.forEach(oPe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_s(this.snapshot.measuredBox.x)&&!_s(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!SG(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(o||Ad(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return i&&(c=this.removeTransform(c)),dPe(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return Pn();const o=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(fPe))){const{scroll:d}=this.root;d&&(Rf(o.x,d.offset.x),Rf(o.y,d.offset.y))}return o}removeElementScroll(i){var c;const o=Pn();if(Wi(o,i),(c=this.scroll)!=null&&c.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Wi(o,i),Rf(o.x,f.offset.x),Rf(o.y,f.offset.y))}return o}applyTransform(i,o=!1){const c=Pn();Wi(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Bf(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ad(d.latestValues)&&Bf(c,d.latestValues)}return Ad(this.latestValues)&&Bf(c,this.latestValues),c}removeTransform(i){const o=Pn();Wi(o,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ad(u.latestValues))continue;g3(u.latestValues)&&u.updateSnapshot();const d=Pn(),f=u.measurePageBox();Wi(d,f),tD(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ad(this.latestValues)&&tD(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ma.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ma.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Ip(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vTe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wi(this.target,this.layout.layoutBox),sG(this.target,this.targetDelta)):Wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Ip(this.relativeTargetOrigin,this.target,m.target),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g3(this.parent.latestValues)||aG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const i=this.getLead(),o=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ma.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Wi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;TCe(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Pn());const{target:m}=i;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JF(this.prevProjectionDelta.x,this.projectionDelta.x),JF(this.prevProjectionDelta.y,this.projectionDelta.y)),Dp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!iD(this.projectionDelta.x,this.prevProjectionDelta.x)||!iD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zf(),this.projectionDelta=zf(),this.projectionDeltaWithTransform=zf()}setAnimationOrigin(i,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=zf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Pn(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,x=this.getStack(),v=!x||x.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(cPe));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const S=N/1e3;uD(f.x,i.x,S),uD(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ip(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lPe(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&GTe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Pn()),Wi(b,this.relativeTarget)),g&&(this.animationValues=d,UTe(d,u,this.latestValues,S,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,c,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Gu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{ry.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_h(0)),this.currentAnimation=ITe(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XTe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=i;if(!(!o||!c||!u)){if(this!==i&&this.layout&&u&&EG(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Pn();const f=_s(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=_s(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Wi(o,c),Bf(o,d),Dp(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new KTe),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var o;const{layoutId:i}=this.options;return i?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:i}=this.options;return i?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&b4("z",i,u,this.animationValues);for(let d=0;d<y4.length;d++)b4(`rotate${y4[d]}`,i,u,this.animationValues),b4(`skew${y4[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=ty(o==null?void 0:o.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=ty(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ad(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=YTe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),i.transform=f;const{x:h,y:m}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in $g){if(d[p]===void 0)continue;const{correct:g,applyTo:x,isCSSVariable:v}=$g[p],y=f==="none"?d[p]:g(d[p],u);if(x){const b=x.length;for(let N=0;N<b;N++)i[x[N]]=y}else v?this.options.visualElement.renderState.vars[p]=y:i[p]=y}this.options.layoutId&&(i.pointerEvents=u===this?ty(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(oD),this.root.sharedNodes.clear()}}}function JTe(e){e.updateLayout()}function QTe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Yi(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],m=_s(h);h.min=n[f].min,h.max=h.min+m}):EG(s,t.layoutBox,n)&&Yi(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],m=_s(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=zf();Dp(o,n,t.layoutBox);const c=zf();i?Dp(c,e.applyTransform(a,!0),t.measuredBox):Dp(c,n,t.layoutBox);const u=!SG(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Pn();Ip(p,t.layoutBox,h.layoutBox);const g=Pn();Ip(g,n,m.layoutBox),jG(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function ePe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tPe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rPe(e){e.clearSnapshot()}function oD(e){e.clearMeasurements()}function lD(e){e.isLayoutDirty=!1}function nPe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function aPe(e){e.resolveTargetDelta()}function sPe(e){e.calcProjection()}function iPe(e){e.resetSkewAndRotation()}function oPe(e){e.removeLeadSnapshot()}function uD(e,t,r){e.translate=on(t.translate,0,r),e.scale=on(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function dD(e,t,r,n){e.min=on(t.min,r.min,n),e.max=on(t.max,r.max,n)}function lPe(e,t,r,n){dD(e.x,t.x,r.x,n),dD(e.y,t.y,r.y,n)}function cPe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uPe={duration:.45,ease:[.4,0,.1,1]},fD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hD=fD("applewebkit/")&&!fD("chrome/")?Math.round:so;function mD(e){e.min=hD(e.min),e.max=hD(e.max)}function dPe(e){mD(e.x),mD(e.y)}function EG(e,t,r){return e==="position"||e==="preserve-aspect"&&!xTe(sD(t),sD(r),.2)}function fPe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const hPe=_G({attachResizeListener:(e,t)=>Wg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),w4={current:void 0},CG=_G({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!w4.current){const e=new hPe({});e.mount(window),e.setOptions({layoutScroll:!0}),w4.current=e}return w4.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mPe={pan:{Feature:OTe},drag:{Feature:PTe,ProjectionNode:CG,MeasureLayout:wG}};function pD(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&tn.postRender(()=>s(t,zx(t)))}class pPe extends od{mount(){const{current:t}=this.node;t&&(this.unmount=DEe(t,(r,n)=>(pD(this.node,n,"Start"),a=>pD(this.node,a,"End"))))}unmount(){}}class gPe extends od{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mx(Wg(this.node.current,"focus",()=>this.onFocus()),Wg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gD(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&tn.postRender(()=>s(t,zx(t)))}class xPe extends od{mount(){const{current:t}=this.node;t&&(this.unmount=BEe(t,(r,n)=>(gD(this.node,n,"Start"),(a,{success:s})=>gD(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const N3=new WeakMap,k4=new WeakMap,vPe=e=>{const t=N3.get(e.target);t&&t(e)},yPe=e=>{e.forEach(vPe)};function bPe({root:e,...t}){const r=e||document;k4.has(r)||k4.set(r,{});const n=k4.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(yPe,{root:e,...t})),n[a]}function wPe(e,t,r){const n=bPe(t);return N3.set(e,r),n.observe(e),()=>{N3.delete(e),n.unobserve(e)}}const kPe={some:0,all:1};class NPe extends od{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:kPe[a]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return wPe(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(SPe(t,r))&&this.startObserver()}unmount(){}}function SPe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const jPe={inView:{Feature:NPe},tap:{Feature:xPe},focus:{Feature:gPe},hover:{Feature:pPe}},APe={layout:{ProjectionNode:CG,MeasureLayout:wG}},_Pe={...dTe,...jPe,...mPe,...APe},EPe=_Ce(_Pe,zCe),CPe=({isOpen:e=!1,onClose:t})=>{const r=Ec(),{logout:n,user:a}=Wa(),{settings:s}=Tj(),o=[{icon:Gv,label:"Dashboard",path:"/",roles:["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY"]},{icon:jl,label:"My Children",path:"/my-children",roles:["PARENT"]},{icon:In,label:"Students",path:"/students",roles:["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY"]},{icon:cs,label:"Academics",path:"/academics",roles:["SUPER_ADMIN","TEACHER"]},{icon:hl,label:"Finance",path:"/finance",roles:["SUPER_ADMIN","BURSAR"]},{icon:In,label:"Attendance",path:"/academics/attendance",roles:["SUPER_ADMIN","TEACHER","BURSAR","SECRETARY"]},{icon:ki,label:"Gradebook",path:"/academics/gradebook",roles:["SUPER_ADMIN","TEACHER","BURSAR","SECRETARY"]},{icon:lee,label:"Users",path:"/users",roles:["SUPER_ADMIN"]},{icon:Bo,label:"Communication",path:"/communication",roles:["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY","PARENT"]},{icon:aee,label:"Settings",path:"/settings",roles:["SUPER_ADMIN"]},{icon:IQ,label:"Timetable",path:"/academics/timetable",roles:["PARENT","STUDENT"]},{icon:cs,label:"Assignments",path:"/student/assessments",roles:["PARENT","STUDENT"]},{icon:Pj,label:"Academic Reports",path:"/academics/reports",roles:["PARENT","STUDENT"]}].filter(c=>a&&c.roles.includes(a.role));return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t}),l.jsxs("div",{className:`
        h-screen w-64 bg-slate-900 text-white flex flex-col fixed left-0 top-0 z-50 transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        md:translate-x-0
      `,children:[l.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-400",style:{color:"var(--primary-color)"},children:s.schoolName}),l.jsx("p",{className:"text-xs text-slate-400",children:"School Management"})]}),l.jsx("button",{onClick:t,className:"md:hidden text-slate-400 hover:text-white",children:l.jsx(ea,{size:24})})]}),l.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:o.map(c=>{const u=r.pathname===c.path;return l.jsxs(Of,{to:c.path,onClick:t,className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${u?"bg-primary text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[l.jsx(c.icon,{size:20}),l.jsx("span",{className:"font-medium",children:c.label})]},c.label)})}),l.jsx("div",{className:"p-4 border-t border-slate-800",children:l.jsxs("button",{onClick:n,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-slate-800 rounded-lg transition-colors",children:[l.jsx(GQ,{size:20}),l.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})]})},TPe="BB7DzC7jdgpf0PtthMK1CCHNPTuNa9Roecz5Ajx3hYLZ3rTRl8NtlxlkfJ5zDSTauJY7rnZemuYQLo4yevp5qns";function PPe(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(r),a=new Uint8Array(n.length);for(let s=0;s<n.length;++s)a[s]=n.charCodeAt(s);return a}async function OPe(){if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.warn("Push notifications not supported"),!1;try{const e=await navigator.serviceWorker.ready;if(await e.pushManager.getSubscription())return console.log("Already subscribed to push notifications"),!0;const r=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:PPe(TPe)});return await Ee.post("/communication/push/subscribe",r),console.log("Subscribed to push notifications"),!0}catch(e){return console.error("Failed to subscribe to push notifications",e),!1}}const LPe=()=>{var y,b,N,S;const{user:e}=Wa(),[t,r]=k.useState([]),[n,a]=k.useState(!1),[s,i]=k.useState(0),[o,c]=k.useState(!1),[u,d]=k.useState(""),f=k.useRef(null),h=k.useRef(null);k.useEffect(()=>{m();const A=setInterval(m,6e4);return()=>clearInterval(A)},[]),k.useEffect(()=>{const A=j=>{f.current&&!f.current.contains(j.target)&&a(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),k.useEffect(()=>{o&&h.current&&h.current.focus()},[o]);const m=async()=>{try{const A=await Ee.get("/communication/notifications");r(A.data),i(A.data.filter(j=>!j.isRead).length)}catch(A){console.error("Failed to fetch notifications",A)}},p=async A=>{try{await Ee.patch(`/communication/notifications/${A}/read`),r(j=>j.map(C=>C.id===A?{...C,isRead:!0}:C)),i(j=>Math.max(0,j-1))}catch(j){console.error("Failed to mark notification as read",j)}},g=async()=>{try{await Ee.patch("/communication/notifications/read-all"),r(A=>A.map(j=>({...j,isRead:!0}))),i(0)}catch(A){console.error("Failed to mark all as read",A)}},x=async()=>{try{const A=await OPe();alert(A?"Push notifications enabled!":"Failed to enable push notifications. Please check your browser settings.")}catch(A){console.error("Error enabling push notifications:",A),alert("An error occurred while enabling push notifications.")}},v=()=>{const A=new Date().getHours();return A<12?"Good morning":A<17?"Good afternoon":"Good evening"};return l.jsx("header",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-b border-gray-200/50 dark:border-slate-700/50 fixed top-0 right-0 left-0 md:left-64 z-40 transition-all duration-300",style:{paddingTop:"env(safe-area-inset-top)"},children:l.jsxs("div",{className:"h-16 px-4 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"md:hidden flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center text-white font-bold text-lg shadow-sm flex-shrink-0",children:"S"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-[11px] text-gray-500 dark:text-gray-400 font-medium truncate",children:v()}),l.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:((y=e==null?void 0:e.fullName)==null?void 0:y.split(" ")[0])||"User"})]})]}),l.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 dark:bg-slate-800 rounded-xl px-4 py-2.5 w-full max-w-sm",children:[l.jsx(ei,{size:18,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"}),l.jsx("input",{type:"text",placeholder:"Search students, payments...",className:"bg-transparent border-none focus:outline-none ml-3 w-full text-sm text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"}),l.jsx(bee,{onResult:A=>console.log("Voice search:",A),size:18})]}),o&&l.jsxs("div",{className:"md:hidden absolute inset-x-0 top-0 h-full bg-white z-50 px-4 flex items-center gap-3 animate-fade-in",style:{paddingTop:"env(safe-area-inset-top)"},children:[l.jsxs("div",{className:"flex-1 flex items-center bg-gray-100 rounded-xl px-4 py-2.5",children:[l.jsx(ei,{size:18,className:"text-gray-400"}),l.jsx("input",{ref:h,type:"text",value:u,onChange:A=>d(A.target.value),placeholder:"Search...",className:"bg-transparent border-none focus:outline-none ml-3 w-full text-sm text-gray-700"})]}),l.jsx("button",{onClick:()=>{c(!1),d("")},className:"p-2 text-gray-500 hover:text-gray-700",children:l.jsx(ea,{size:20})})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>{bR(),c(!0)},className:"md:hidden p-2.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:l.jsx(ei,{size:20})}),l.jsx(jee,{}),l.jsxs("button",{onClick:x,className:"hidden md:flex items-center gap-1.5 text-xs text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 px-3 py-2 rounded-xl transition-colors",title:"Enable Push Notifications",children:[l.jsx(DQ,{size:14}),l.jsx("span",{children:"Enable Push"})]}),l.jsxs("div",{className:"relative",ref:f,children:[l.jsxs("button",{onClick:()=>a(!n),className:"relative p-2.5 text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",children:[l.jsx(ch,{size:20}),s>0&&l.jsx("span",{className:"absolute top-1.5 right-1.5 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1",children:s>9?"9+":s})]}),n&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"md:hidden fixed inset-x-0 bottom-0 top-auto bg-white rounded-t-3xl shadow-2xl z-50 animate-slide-up max-h-[80vh] flex flex-col",children:[l.jsx("div",{className:"flex justify-center py-3",children:l.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),l.jsxs("div",{className:"px-5 pb-3 flex justify-between items-center border-b border-gray-100",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Notifications"}),l.jsxs("div",{className:"flex items-center gap-2",children:[s>0&&l.jsx("button",{onClick:g,className:"text-sm text-blue-600 font-medium",children:"Mark all read"}),l.jsx("button",{onClick:()=>a(!1),className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(ea,{size:20})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:t.length===0?l.jsxs("div",{className:"p-12 text-center",children:[l.jsx(ch,{size:40,className:"mx-auto text-gray-300 mb-3"}),l.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]}):t.map(A=>l.jsx("div",{className:`px-5 py-4 border-b border-gray-50 active:bg-gray-50 ${A.isRead?"":"bg-blue-50/50"}`,children:l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:`text-sm font-semibold ${A.isRead?"text-gray-600":"text-gray-900"}`,children:A.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:A.message}),l.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:new Date(A.createdAt).toLocaleString()})]}),!A.isRead&&l.jsx("button",{onClick:()=>p(A.id),className:"p-2 text-gray-400 hover:text-blue-600 flex-shrink-0",children:l.jsx(Ty,{size:16})})]})},A.id))}),l.jsx("div",{style:{paddingBottom:"env(safe-area-inset-bottom)"}})]}),l.jsx("div",{className:"md:hidden fixed inset-0 bg-black/30 z-40",onClick:()=>a(!1)}),l.jsxs("div",{className:"hidden md:block absolute right-0 mt-2 w-80 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden z-50 animate-scale-in",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[l.jsx("h3",{className:"font-semibold text-gray-700",children:"Notifications"}),s>0&&l.jsx("button",{onClick:g,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?l.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No notifications"}):t.map(A=>l.jsxs("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors ${A.isRead?"":"bg-blue-50/50"}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h4",{className:`text-sm font-medium ${A.isRead?"text-gray-600":"text-gray-900"}`,children:A.title}),!A.isRead&&l.jsx("button",{onClick:()=>p(A.id),className:"text-gray-400 hover:text-blue-600",title:"Mark as read",children:l.jsx(Ty,{size:14})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:A.message}),l.jsx("span",{className:"text-[10px] text-gray-400 mt-2 block",children:new Date(A.createdAt).toLocaleString()})]},A.id))})]})]})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-3 pl-4 border-l border-gray-200 cursor-pointer hover:bg-gray-50 rounded-xl py-2 pr-3 -mr-3 transition-colors",onClick:()=>window.location.href="/profile",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:(e==null?void 0:e.fullName)||"User"}),l.jsx("p",{className:"text-xs text-gray-500",children:((b=e==null?void 0:e.role)==null?void 0:b.replace("_"," "))||"Role"})]}),l.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold shadow-sm",children:e!=null&&e.profilePictureUrl?l.jsx("img",{src:e.profilePictureUrl.startsWith("http")?e.profilePictureUrl:`${e.profilePictureUrl}`,alt:e.fullName,className:"w-full h-full object-cover"}):((N=e==null?void 0:e.fullName)==null?void 0:N.charAt(0))||"U"})]}),l.jsx("button",{onClick:()=>window.location.href="/profile",className:"md:hidden w-9 h-9 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-sm shadow-sm",children:e!=null&&e.profilePictureUrl?l.jsx("img",{src:e.profilePictureUrl.startsWith("http")?e.profilePictureUrl:`${e.profilePictureUrl}`,alt:(e==null?void 0:e.fullName)||"User",className:"w-full h-full object-cover"}):((S=e==null?void 0:e.fullName)==null?void 0:S.charAt(0))||"U"})]})]})})},FPe=({onMenuClick:e})=>{const t=Ec(),{user:r}=Wa(),[n,a]=k.useState({notifications:0,messages:0});k.useEffect(()=>{const c=async()=>{var d;try{const[f]=await Promise.all([Ee.get("/communication/notifications/unread-count").catch(()=>({data:{count:0}}))]);a({notifications:((d=f.data)==null?void 0:d.count)||0,messages:0})}catch{}};c();const u=setInterval(c,6e4);return()=>clearInterval(u)},[]);const s=()=>{const c=r==null?void 0:r.role;return c==="PARENT"?[{icon:Gv,label:"Home",path:"/my-children",roles:["PARENT"]},{icon:jl,label:"Reports",path:"/my-children",roles:["PARENT"]},{icon:Bo,label:"Chat",path:"/communication",roles:["PARENT"],badgeKey:"messages"},{icon:lo,label:"Profile",path:"/profile",roles:["PARENT"]}]:c==="TEACHER"?[{icon:Gv,label:"Home",path:"/",roles:["TEACHER"]},{icon:cs,label:"Classes",path:"/academics",roles:["TEACHER"]},{icon:Bo,label:"Chat",path:"/communication",roles:["TEACHER"],badgeKey:"messages"},{icon:lo,label:"Profile",path:"/profile",roles:["TEACHER"]}]:[{icon:Gv,label:"Home",path:"/",roles:["SUPER_ADMIN","BURSAR","SECRETARY"]},{icon:In,label:"Students",path:"/students",roles:["SUPER_ADMIN","BURSAR","SECRETARY"]},{icon:AN,label:"Finance",path:"/finance",roles:["SUPER_ADMIN","BURSAR"]},{icon:Bo,label:"Chat",path:"/communication",roles:["SUPER_ADMIN","BURSAR","SECRETARY"],badgeKey:"messages"}]},i=k.useMemo(()=>s().filter(c=>r&&c.roles.includes(r.role)),[r==null?void 0:r.role]),o=()=>{"vibrate"in navigator&&navigator.vibrate(5)};return l.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-t border-gray-200/50 dark:border-slate-700/50 z-50",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:l.jsxs("div",{className:"flex justify-around items-stretch h-16",children:[i.map(c=>{const u=t.pathname===c.path,d=c.badgeKey?n[c.badgeKey]:0;return l.jsxs(Of,{to:c.path,onClick:o,className:`flex flex-col items-center justify-center flex-1 relative group min-h-[48px] transition-all duration-200 ${u?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 active:text-gray-700 dark:active:text-gray-300"}`,children:[u&&l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-blue-600 rounded-b-full animate-scale-in"}),l.jsxs("div",{className:"relative",children:[l.jsx(c.icon,{size:24,strokeWidth:u?2.5:2,className:`transition-transform duration-200 ${u?"scale-110":"group-active:scale-90"}`}),d>0&&l.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1 animate-bounce-in",children:d>99?"99+":d})]}),l.jsx("span",{className:`text-[10px] mt-1 font-medium transition-all duration-200 ${u?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:c.label})]},c.label)}),l.jsxs("button",{onClick:()=>{o(),e()},className:"flex flex-col items-center justify-center flex-1 min-h-[48px] text-gray-500 dark:text-gray-400 active:text-gray-700 dark:active:text-gray-300 transition-all duration-200 group",children:[l.jsxs("div",{className:"relative",children:[l.jsx(KQ,{size:24,strokeWidth:2,className:"transition-transform duration-200 group-active:scale-90"}),n.notifications>0&&l.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),l.jsx("span",{className:"text-[10px] mt-1 font-medium text-gray-500 dark:text-gray-400",children:"More"})]})]})})},DPe=()=>{const[e,t]=k.useState(!1),r=Ec(),a=!["/communication","/profile","/settings"].includes(r.pathname);return l.jsxs("div",{className:"min-h-screen bg-gray-50/50 dark:bg-slate-900",children:[l.jsx(CPe,{isOpen:e,onClose:()=>t(!1)}),l.jsx(LPe,{}),l.jsx("main",{className:"md:pl-64 min-h-screen transition-all duration-300",style:{paddingTop:"calc(4rem + env(safe-area-inset-top))",paddingBottom:"calc(4rem + env(safe-area-inset-bottom))"},children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx(YEe,{mode:"wait",children:l.jsx(EPe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15,ease:"easeOut"},children:l.jsx(UM,{})},r.pathname)})})}),a&&l.jsx(vee,{}),l.jsx(FPe,{onMenuClick:()=>t(!0)})]})},IPe=()=>{const{isAuthenticated:e,isLoading:t}=Wa();return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e?l.jsx(UM,{}):l.jsx(d2,{to:"/login"})},ya=({children:e,allowedRoles:t})=>{const{user:r,isLoading:n}=Wa();return n?l.jsx("div",{children:"Loading..."}):!r||!t.includes(r.role)?l.jsx(d2,{to:r?"/":"/login",replace:!0}):l.jsx(l.Fragment,{children:e})},MPe=()=>{const{assessmentId:e}=jj(),t=Ol(),{user:r}=Wa(),[n,a]=k.useState(null),[s,i]=k.useState(!0),[o,c]=k.useState(!1),[u,d]=k.useState({}),[f,h]=k.useState(!1),[m,p]=k.useState(null);k.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{const y=await Ee.get(`/online-assessments/${e}/take`);a(y.data)}catch(y){console.error("Failed to load quiz",y),alert("Failed to load quiz. Please try again.")}finally{i(!1)}},x=(y,b)=>{d(N=>({...N,[y]:b}))},v=async()=>{if(!(!n||!r)&&window.confirm("Are you sure you want to submit your answers?")){c(!0);try{const y=Object.entries(u).map(([N,S])=>({questionId:N,answer:S})),b=await Ee.post(`/online-assessments/${e}/submit`,{studentId:r.id,responses:y});p(b.data.score),h(!0)}catch(y){console.error("Failed to submit quiz",y),alert("Failed to submit quiz. Please try again.")}finally{c(!1)}}};return s?l.jsx("div",{className:"p-8 text-center dark:text-gray-400",children:"Loading quiz..."}):n?f?l.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-8 pb-24 md:pb-8 text-center",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 md:p-8",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ca,{size:32})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Quiz Submitted!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your answers have been recorded successfully."}),m!==null&&l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6",children:[l.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium uppercase tracking-wider",children:"Your Score"}),l.jsxs("div",{className:"text-3xl font-bold text-blue-700 dark:text-blue-400",children:[m," points"]})]}),l.jsx("button",{onClick:()=>t("/"),className:"px-6 py-2 bg-gray-900 dark:bg-slate-600 text-white rounded-lg hover:bg-gray-800 dark:hover:bg-slate-500 transition-colors",children:"Return to Dashboard"})]})}):l.jsx("div",{className:"max-w-3xl mx-auto p-4 md:p-6 pb-24 md:pb-6",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden mb-6",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-900/20",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:n.title}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Sl,{size:16}),n.durationMinutes?`${n.durationMinutes} mins`:"No time limit"]}),l.jsxs("span",{children:[n.questions.length," Questions"]})]})]}),l.jsx("div",{className:"p-6 space-y-8",children:n.questions.map((y,b)=>{var N,S;return l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-400",children:[b+1,"."]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-lg text-gray-900 dark:text-white font-medium mb-3",children:y.text}),y.type==="MULTIPLE_CHOICE"&&l.jsx("div",{className:"space-y-2",children:(N=y.options)==null?void 0:N.map(A=>l.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer transition-colors",children:[l.jsx("input",{type:"radio",name:y.id,value:A.id,checked:u[y.id]===A.id,onChange:j=>x(y.id,j.target.value),className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:A.text})]},A.id))}),y.type==="TRUE_FALSE"&&l.jsx("div",{className:"flex gap-4",children:(S=y.options)==null?void 0:S.map(A=>l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:y.id,value:A.id,checked:u[y.id]===A.id,onChange:j=>x(y.id,j.target.value),className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:A.text})]},A.id))}),(y.type==="SHORT_ANSWER"||y.type==="ESSAY")&&l.jsx("textarea",{value:u[y.id]||"",onChange:A=>x(y.id,A.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",rows:3,placeholder:"Type your answer here..."})]})]})},y.id)})}),l.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700 flex justify-end",children:l.jsx("button",{onClick:v,disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50",children:o?"Submitting...":"Submit Quiz"})})]})}):l.jsx("div",{className:"p-8 text-center text-red-600 dark:text-red-400",children:"Quiz not found."})},RPe=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(null),[i,o]=k.useState(!0),c=Ol(),{user:u}=Wa(),d=(u==null?void 0:u.role)==="PARENT";k.useEffect(()=>{d?f():h()},[u]),k.useEffect(()=>{d&&a&&h(a)},[a]);const f=async()=>{try{const p=await Ee.get("/students/my-children");n(p.data),p.data.length>0?s(p.data[0].id):o(!1)}catch(p){console.error("Failed to fetch children",p),o(!1)}},h=async p=>{try{o(!0);const g=p?`/online-assessments/student/my-assessments?studentId=${p}`:"/online-assessments/student/my-assessments",x=await Ee.get(g);t(x.data)}catch(g){console.error("Failed to fetch assessments",g)}finally{o(!1)}},m=p=>{d||c(`/student/quiz/${p}`)};return i?l.jsx("div",{className:"p-6 dark:text-gray-400",children:"Loading..."}):l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:d?"Student Assignments":"My Assessments"})}),d&&r.length>0&&l.jsx("div",{className:"flex space-x-2 mb-8 overflow-x-auto pb-2",children:r.map(p=>l.jsxs("button",{onClick:()=>s(p.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${a===p.id?"bg-blue-600 text-white shadow-sm":"bg-white dark:bg-slate-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[l.jsx(lo,{size:16}),l.jsx("span",{children:p.firstName})]},p.id))}),e.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(p=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.type==="EXAM"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":p.type==="QUIZ"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400"}`,children:p.type}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(p.date).toLocaleDateString()})]}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2 line-clamp-2",children:p.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:p.subject.name}),l.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-6",children:p.durationMinutes&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Sl,{size:16})," ",p.durationMinutes,"m"]})}),p.submission?l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-slate-700 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium text-sm",children:[l.jsx(ca,{size:16}),"Submitted"]}),p.submission.score!==null&&l.jsxs("span",{className:"font-bold text-gray-900 dark:text-white text-sm",children:[p.submission.score," pts"]})]}):p.isOnline?l.jsxs("button",{onClick:()=>m(p.id),disabled:d,className:`w-full flex items-center justify-center gap-2 py-2 rounded-lg transition-colors font-medium ${d?"bg-gray-100 dark:bg-slate-700 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[l.jsx(tee,{size:18}),d?"Online Quiz":"Take Quiz"]}):l.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2 bg-gray-50 dark:bg-slate-700 rounded-lg",children:"In-class assessment"})]},p.id))}):l.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600",children:[l.jsx(Ps,{size:48,className:"mx-auto text-gray-300 dark:text-gray-600 mb-4"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No assessments found"}),d&&l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Select a student to view their tasks"})]})]})};let BPe={data:""},zPe=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||BPe},UPe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$Pe=/\/\*[^]*?\*\/|  +/g,xD=/\n+/g,fu=(e,t)=>{let r="",n="",a="";for(let s in e){let i=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?fu(i,s):s+"{"+fu(i,s[1]=="k"?"":t)+"}":typeof i=="object"?n+=fu(i,t?t.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=fu.p?fu.p(s,i):s+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Kl={},TG=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+TG(e[r]);return t}return e},WPe=(e,t,r,n,a)=>{let s=TG(e),i=Kl[s]||(Kl[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Kl[i]){let c=s!==e?e:(u=>{let d,f,h=[{}];for(;d=UPe.exec(u.replace($Pe,""));)d[4]?h.shift():d[3]?(f=d[3].replace(xD," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(xD," ").trim();return h[0]})(e);Kl[i]=fu(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let o=r&&Kl.g?Kl.g:null;return r&&(Kl.g=Kl[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Kl[i],t,n,o),i},HPe=(e,t,r)=>e.reduce((n,a,s)=>{let i=t[s];if(i&&i.call){let o=i(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;i=c?"."+c:o&&typeof o=="object"?o.props?"":fu(o,""):o===!1?"":o}return n+a+(i??"")},"");function Vw(e){let t=this||{},r=e.call?e(t.p):e;return WPe(r.unshift?r.raw?HPe(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,zPe(t.target),t.g,t.o,t.k)}let PG,S3,j3;Vw.bind({g:1});let Ac=Vw.bind({k:1});function VPe(e,t,r,n){fu.p=t,PG=e,S3=r,j3=n}function ld(e,t){let r=this||{};return function(){let n=arguments;function a(s,i){let o=Object.assign({},s),c=o.className||a.className;r.p=Object.assign({theme:S3&&S3()},o),r.o=/ *go\d+/.test(c),o.className=Vw.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),j3&&u[0]&&j3(o),PG(u,o)}return a}}var qPe=e=>typeof e=="function",qb=(e,t)=>qPe(e)?e(t):e,GPe=(()=>{let e=0;return()=>(++e).toString()})(),OG=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),KPe=20,EE="default",LG=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return LG(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},ny=[],FG={toasts:[],pausedAt:void 0,settings:{toastLimit:KPe}},xl={},DG=(e,t=EE)=>{xl[t]=LG(xl[t]||FG,e),ny.forEach(([r,n])=>{r===t&&n(xl[t])})},IG=e=>Object.keys(xl).forEach(t=>DG(e,t)),YPe=e=>Object.keys(xl).find(t=>xl[t].toasts.some(r=>r.id===e)),qw=(e=EE)=>t=>{DG(t,e)},XPe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ZPe=(e={},t=EE)=>{let[r,n]=k.useState(xl[t]||FG),a=k.useRef(xl[t]);k.useEffect(()=>(a.current!==xl[t]&&n(xl[t]),ny.push([t,n]),()=>{let i=ny.findIndex(([o])=>o===t);i>-1&&ny.splice(i,1)}),[t]);let s=r.toasts.map(i=>{var o,c,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||XPe[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...r,toasts:s}},JPe=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||GPe()}),Ux=e=>(t,r)=>{let n=JPe(t,e,r);return qw(n.toasterId||YPe(n.id))({type:2,toast:n}),n.id},pr=(e,t)=>Ux("blank")(e,t);pr.error=Ux("error");pr.success=Ux("success");pr.loading=Ux("loading");pr.custom=Ux("custom");pr.dismiss=(e,t)=>{let r={type:3,toastId:e};t?qw(t)(r):IG(r)};pr.dismissAll=e=>pr.dismiss(void 0,e);pr.remove=(e,t)=>{let r={type:4,toastId:e};t?qw(t)(r):IG(r)};pr.removeAll=e=>pr.remove(void 0,e);pr.promise=(e,t,r)=>{let n=pr.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let s=t.success?qb(t.success,a):void 0;return s?pr.success(s,{id:n,...r,...r==null?void 0:r.success}):pr.dismiss(n),a}).catch(a=>{let s=t.error?qb(t.error,a):void 0;s?pr.error(s,{id:n,...r,...r==null?void 0:r.error}):pr.dismiss(n)}),e};var QPe=1e3,e8e=(e,t="default")=>{let{toasts:r,pausedAt:n}=ZPe(e,t),a=k.useRef(new Map).current,s=k.useCallback((f,h=QPe)=>{if(a.has(f))return;let m=setTimeout(()=>{a.delete(f),i({type:4,toastId:f})},h);a.set(f,m)},[]);k.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(p<0){m.visible&&pr.dismiss(m.id);return}return setTimeout(()=>pr.dismiss(m.id,t),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let i=k.useCallback(qw(t),[t]),o=k.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=k.useCallback((f,h)=>{i({type:1,toast:{id:f,height:h}})},[i]),u=k.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),d=k.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=h||{},x=r.filter(b=>(b.position||g)===(f.position||g)&&b.height),v=x.findIndex(b=>b.id===f.id),y=x.filter((b,N)=>N<v&&b.visible).length;return x.filter(b=>b.visible).slice(...m?[y+1]:[0,y]).reduce((b,N)=>b+(N.height||0)+p,0)},[r]);return k.useEffect(()=>{r.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let h=a.get(f.id);h&&(clearTimeout(h),a.delete(f.id))}})},[r,s]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},t8e=Ac`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,r8e=Ac`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,n8e=Ac`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,a8e=ld("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${t8e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${r8e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${n8e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,s8e=Ac`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,i8e=ld("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${s8e} 1s linear infinite;
`,o8e=Ac`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,l8e=Ac`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,c8e=ld("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o8e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${l8e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,u8e=ld("div")`
  position: absolute;
`,d8e=ld("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,f8e=Ac`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,h8e=ld("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${f8e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,m8e=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?k.createElement(h8e,null,t):t:r==="blank"?null:k.createElement(d8e,null,k.createElement(i8e,{...n}),r!=="loading"&&k.createElement(u8e,null,r==="error"?k.createElement(a8e,{...n}):k.createElement(c8e,{...n})))},p8e=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,g8e=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,x8e="0%{opacity:0;} 100%{opacity:1;}",v8e="0%{opacity:1;} 100%{opacity:0;}",y8e=ld("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,b8e=ld("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,w8e=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=OG()?[x8e,v8e]:[p8e(r),g8e(r)];return{animation:t?`${Ac(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ac(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},k8e=k.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?w8e(e.position||t||"top-center",e.visible):{opacity:0},s=k.createElement(m8e,{toast:e}),i=k.createElement(b8e,{...e.ariaProps},qb(e.message,e));return k.createElement(y8e,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:s,message:i}):k.createElement(k.Fragment,null,s,i))});VPe(k.createElement);var N8e=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let s=k.useCallback(i=>{if(i){let o=()=>{let c=i.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return k.createElement("div",{ref:s,className:t,style:r},a)},S8e=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:OG()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},j8e=Vw`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Pv=16,A8e=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:s,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:u}=e8e(r,s);return k.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Pv,left:Pv,right:Pv,bottom:Pv,pointerEvents:"none",...i},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),m=S8e(f,h);return k.createElement(N8e,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?j8e:"",style:m},d.type==="custom"?qb(d.message,d):a?a(d):k.createElement(k8e,{toast:d,position:f}))}))};const _8e=({classId:e,className:t,onBack:r})=>{const[n,a]=k.useState(!0),[s,i]=k.useState(new Date().getMonth()),[o,c]=k.useState(new Date().getFullYear()),[u,d]=k.useState([]),[f,h]=k.useState([]),m=["January","February","March","April","May","June","July","August","September","October","November","December"];k.useEffect(()=>{p()},[e,s,o]);const p=async()=>{a(!0);try{const A=new Date(o,s,1),j=new Date(o,s+1,0),C=await Ee.get("/attendance/analytics",{params:{classId:e,startDate:A.toISOString().split("T")[0],endDate:j.toISOString().split("T")[0]}});d(C.data.dailyData||[]),h(C.data.studentSummaries||[])}catch(A){console.error("Failed to fetch analytics",A),g()}finally{a(!1)}},g=()=>{const A=new Date(o,s+1,0).getDate(),j=[];for(let C=1;C<=A;C++){const E=new Date(o,s,C).getDay();E!==0&&E!==6&&j.push({date:`${o}-${String(s+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`,present:Math.floor(Math.random()*10)+20,absent:Math.floor(Math.random()*5),late:Math.floor(Math.random()*3),total:30})}d(j)},x=k.useMemo(()=>{if(u.length===0)return{avgRate:0,totalDays:0,totalAbsent:0};const A=u.reduce((E,F)=>E+F.present,0),j=u.reduce((E,F)=>E+F.total,0),C=u.reduce((E,F)=>E+F.absent,0);return{avgRate:j>0?A/j*100:0,totalDays:u.length,totalAbsent:C}},[u]),v=k.useMemo(()=>f.filter(A=>A.absentDays>=3),[f]),y=()=>{const A=[[`Attendance Report: ${t} - ${m[s]} ${o}`],[],["Date","Present","Absent","Late","Rate %"]];u.forEach(E=>{const F=E.total>0?(E.present/E.total*100).toFixed(1):"0";A.push([E.date,E.present,E.absent,E.late,F])}),A.push([]),A.push(["Student Summary"]),A.push(["Name","Admission No","Present","Absent","Late","Rate %"]),f.forEach(E=>{A.push([E.studentName,E.admissionNumber,E.presentDays,E.absentDays,E.lateDays,E.attendanceRate.toFixed(1)])});const j=kn.book_new(),C=kn.aoa_to_sheet(A);kn.book_append_sheet(j,C,"Attendance"),O0(j,`Attendance_${t}_${m[s]}_${o}.xlsx`)},b=A=>{let j=s+A,C=o;j<0&&(j=11,C--),j>11&&(j=0,C++),i(j),c(C)},N=k.useMemo(()=>{const A=new Date(o,s,1).getDay(),j=new Date(o,s+1,0).getDate(),C=[];for(let E=0;E<A;E++)C.push(null);for(let E=1;E<=j;E++){const F=`${o}-${String(s+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`,O=u.find(T=>T.date===F);C.push(O||null)}return C},[u,s,o]),S=A=>{if(!A)return"bg-gray-100 dark:bg-slate-700";const j=A.total>0?A.present/A.total:0;return j>=.95?"bg-green-500":j>=.85?"bg-green-300":j>=.7?"bg-yellow-300":j>=.5?"bg-orange-400":"bg-red-500"};return n?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("button",{onClick:r,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white flex items-center mb-2 text-sm",children:[l.jsx(Gf,{size:16,className:"mr-1"})," Back to Register"]}),l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(Oj,{className:"text-purple-600"}),"Attendance Analytics"]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-1 shadow-sm",children:[l.jsx("button",{onClick:()=>b(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded",children:l.jsx(pR,{size:18,className:"text-gray-600 dark:text-gray-400"})}),l.jsxs("span",{className:"font-medium text-gray-800 dark:text-white min-w-[140px] text-center",children:[m[s]," ",o]}),l.jsx("button",{onClick:()=>b(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded",children:l.jsx(gp,{size:18,className:"text-gray-600 dark:text-gray-400"})})]}),l.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 shadow-sm",children:[l.jsx(Qs,{size:18}),"Export"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Average Rate"}),l.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[x.avgRate.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:l.jsx(ki,{className:"text-blue-600 dark:text-blue-400",size:24})})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"School Days"}),l.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x.totalDays})]}),l.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:l.jsx(hs,{className:"text-purple-600 dark:text-purple-400",size:24})})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Total Absences"}),l.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:x.totalAbsent})]}),l.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:l.jsx(In,{className:"text-red-600 dark:text-red-400",size:24})})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"At-Risk Students"}),l.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:v.length})]}),l.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:l.jsx(IT,{className:"text-orange-600 dark:text-orange-400",size:24})})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:[l.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"Monthly Attendance Heatmap"}),l.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(A=>l.jsx("div",{className:"text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-2",children:A},A)),N.map((A,j)=>l.jsx("div",{className:`aspect-square rounded-lg flex items-center justify-center text-xs font-medium ${S(A)} ${A?"text-white":"text-gray-400 dark:text-gray-600"}`,title:A?`${A.date}: ${A.present}/${A.total} present`:"",children:A?new Date(A.date).getDate():""},j))]}),l.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4 text-xs text-gray-600 dark:text-gray-400",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-4 h-4 bg-green-500 rounded"})," 95%+"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-4 h-4 bg-green-300 rounded"})," 85-94%"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-4 h-4 bg-yellow-300 rounded"})," 70-84%"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-4 h-4 bg-orange-400 rounded"})," 50-69%"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-4 h-4 bg-red-500 rounded"})," <50%"]})]})]}),v.length>0&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-orange-200 dark:border-orange-900/50 shadow-sm",children:[l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(IT,{className:"text-orange-500",size:20}),"Chronic Absenteeism Alert (3+ absences)"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:v.map(A=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:A.studentName}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:A.admissionNumber})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:A.absentDays}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"absences"})]})]},A.studentId))})]})]})},E8e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(""),[a,s]=k.useState(""),[i,o]=k.useState(new Date().toISOString().split("T")[0]),[c,u]=k.useState([]),[d,f]=k.useState({}),[h,m]=k.useState(!1),[p,g]=k.useState(!1),[x,v]=k.useState(""),[y,b]=k.useState("daily"),[N,S]=k.useState([]),[A,j]=k.useState({}),[C,E]=k.useState(!1),[F,O]=k.useState(null),[T,H]=k.useState("");k.useEffect(()=>{K()},[]),k.useEffect(()=>{r&&i&&y==="daily"&&M()},[r,i,y]),k.useEffect(()=>{r&&y==="weekly"&&(se(),B())},[r,i,y]);const K=async()=>{try{const V=await Ee.get("/classes");t(V.data),V.data.length>0&&(n(V.data[0].id),s(V.data[0].name))}catch(V){console.error("Error fetching classes:",V)}},se=()=>{const V=new Date(i),ee=V.getDay(),G=new Date(V);G.setDate(V.getDate()-(ee===0?6:ee-1));const ue=[];for(let ve=0;ve<5;ve++){const q=new Date(G);q.setDate(G.getDate()+ve),ue.push(q.toISOString().split("T")[0])}S(ue)},M=async()=>{m(!0);try{const ee=(await Ee.get(`/classes/${r}`)).data.students||[];ee.sort((q,Me)=>q.lastName.localeCompare(Me.lastName)),u(ee);const ue=(await Ee.get(`/attendance?classId=${r}&date=${i}`)).data,ve={};ee.forEach(q=>{const Me=ue.find(He=>He.studentId===q.id);ve[q.id]={studentId:q.id,status:Me?Me.status:"PRESENT",reason:(Me==null?void 0:Me.reason)||"",arrivalTime:(Me==null?void 0:Me.arrivalTime)||""}}),f(ve)}catch(V){console.error("Error fetching data:",V),pr.error("Failed to load class list")}finally{m(!1)}},B=async()=>{m(!0);try{const ee=(await Ee.get(`/classes/${r}`)).data.students||[];ee.sort((ue,ve)=>ue.lastName.localeCompare(ve.lastName)),u(ee);const G={};for(const ue of N)(await Ee.get(`/attendance?classId=${r}&date=${ue}`)).data.forEach(q=>{G[q.studentId]||(G[q.studentId]={}),G[q.studentId][ue]=q.status});j(G)}catch(V){console.error("Error fetching weekly data:",V)}finally{m(!1)}},Y=(V,ee)=>{var G;if(f(ue=>({...ue,[V]:{...ue[V],status:ee}})),ee==="ABSENT"){const ue=c.find(ve=>ve.id===V);ue&&(O(ue),H(((G=d[V])==null?void 0:G.reason)||""),E(!0))}},z=()=>{F&&f(V=>({...V,[F.id]:{...V[F.id],reason:T}})),E(!1),O(null),H("")},Q=async()=>{g(!0);try{const V=Object.entries(d).map(([ee,G])=>({studentId:ee,status:G.status}));await Ee.post("/attendance",{classId:r,date:new Date(i).toISOString(),records:V}),pr.success("Attendance saved successfully")}catch(V){console.error("Save error:",V),pr.error("Failed to save attendance")}finally{g(!1)}},de=V=>{const ee={...d};L.forEach(G=>{ee[G.id]={...ee[G.id],status:V}}),f(ee)},L=k.useMemo(()=>{if(!x)return c;const V=x.toLowerCase();return c.filter(ee=>ee.firstName.toLowerCase().includes(V)||ee.lastName.toLowerCase().includes(V)||ee.admissionNumber.toLowerCase().includes(V))},[c,x]),R=k.useMemo(()=>{const V=c.length,ee=Object.values(d).filter(ve=>ve.status==="PRESENT").length,G=Object.values(d).filter(ve=>ve.status==="ABSENT").length,ue=Object.values(d).filter(ve=>ve.status==="LATE").length;return{total:V,present:ee,absent:G,late:ue}},[d,c]),U=()=>{const V=[[`Daily Attendance: ${a} - ${i}`],[],["#","Admission No","Student Name","Status","Reason"]];L.forEach((ue,ve)=>{const q=d[ue.id];V.push([ve+1,ue.admissionNumber,`${ue.firstName} ${ue.lastName}`,(q==null?void 0:q.status)||"-",(q==null?void 0:q.reason)||""])}),V.push([]),V.push(["Summary"]),V.push(["Present",R.present]),V.push(["Absent",R.absent]),V.push(["Late",R.late]);const ee=kn.book_new(),G=kn.aoa_to_sheet(V);kn.book_append_sheet(ee,G,"Attendance"),O0(ee,`Attendance_${a}_${i}.xlsx`)},I=()=>{window.print()},X=V=>{const ee=new Date(i);ee.setDate(ee.getDate()+V),o(ee.toISOString().split("T")[0])};return y==="analytics"?l.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:l.jsx(_8e,{classId:r,className:a,onBack:()=>b("daily")})}):l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto print:p-0 printable-content",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(yR,{className:"text-blue-600"}),"Class Attendance"]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Daily register and attendance tracking"})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-3",children:l.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>b("daily"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${y==="daily"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Daily"}),l.jsx("button",{onClick:()=>b("weekly"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${y==="weekly"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Weekly"}),l.jsxs("button",{onClick:()=>b("analytics"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors flex items-center gap-1 ${y==="analytics"?"bg-white dark:bg-slate-600 shadow-sm text-purple-600 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[l.jsx(Oj,{size:14}),"Analytics"]})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm mb-6 flex flex-wrap items-center gap-4",children:[l.jsx("select",{value:r,onChange:V=>{var ee;n(V.target.value),s(((ee=e.find(G=>G.id===V.target.value))==null?void 0:ee.name)||"")},className:"px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50 dark:bg-slate-700 dark:text-white",children:e.map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))}),l.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>X(-1),className:"p-2 hover:bg-white dark:hover:bg-slate-600 rounded transition-colors dark:text-gray-300",children:l.jsx(pR,{size:16})}),l.jsxs("div",{className:"relative",children:[l.jsx(hs,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500"}),l.jsx("input",{type:"date",value:i,onChange:V=>o(V.target.value),className:"pl-9 pr-3 py-2 bg-transparent focus:outline-none w-36 dark:text-white"})]}),l.jsx("button",{onClick:()=>X(1),className:"p-2 hover:bg-white dark:hover:bg-slate-600 rounded transition-colors dark:text-gray-300",children:l.jsx(gp,{size:16})})]}),l.jsxs("div",{className:"relative flex-1 max-w-xs",children:[l.jsx(ei,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500"}),l.jsx("input",{type:"text",placeholder:"Search student...",value:x,onChange:V=>v(V.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white dark:placeholder-gray-400"})]}),l.jsxs("div",{className:"flex gap-2 ml-auto",children:[l.jsx("button",{onClick:U,className:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Export to Excel",children:l.jsx(Qs,{size:18})}),l.jsx("button",{onClick:I,className:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors print:hidden",title:"Print",children:l.jsx(tx,{size:18})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 print:hidden",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:[l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Total"}),l.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:R.total})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm border-l-4 border-l-green-500",children:[l.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium mb-1",children:"Present"}),l.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:R.present})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm border-l-4 border-l-red-500",children:[l.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 font-medium mb-1",children:"Absent"}),l.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:R.absent})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm border-l-4 border-l-orange-500",children:[l.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400 font-medium mb-1",children:"Late"}),l.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-400",children:R.late})]})]}),y==="daily"&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex justify-between items-center bg-gray-50 dark:bg-slate-700/50 print:bg-white",children:[l.jsx("h2",{className:"font-semibold text-gray-700 dark:text-gray-200",children:"Student Register"}),l.jsxs("div",{className:"flex gap-2 print:hidden",children:[l.jsx("button",{onClick:()=>de("PRESENT"),className:"text-xs font-medium text-green-700 bg-green-50 px-3 py-1.5 rounded-lg hover:bg-green-100 transition-colors",children:"Mark All Present"}),l.jsx("button",{onClick:()=>de("ABSENT"),className:"text-xs font-medium text-red-700 bg-red-50 px-3 py-1.5 rounded-lg hover:bg-red-100 transition-colors",children:"Mark All Absent"})]})]}),h?l.jsxs("div",{className:"p-12 text-center text-gray-500",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),"Loading register..."]}):L.length===0?l.jsx("div",{className:"p-12 text-center text-gray-500",children:x?"No students match your search.":"No students found in this class."}):l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider w-16",children:"#"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-center print:hidden",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden print:table-cell",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider print:hidden",children:"Reason"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:L.map((V,ee)=>{var G,ue,ve,q,Me,He,Ae,le;return l.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:ee+1}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-sm",children:[V.firstName[0],V.lastName[0]]}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[V.firstName," ",V.lastName]}),l.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:V.admissionNumber})]})]})}),l.jsx("td",{className:"px-6 py-4 print:hidden",children:l.jsx("div",{className:"flex items-center justify-center gap-2",children:["PRESENT","ABSENT","LATE"].map(De=>{var ze;const Je=((ze=d[V.id])==null?void 0:ze.status)===De,Ve={PRESENT:{active:"bg-green-100 text-green-700 ring-2 ring-green-500",inactive:"bg-gray-50 text-gray-600 hover:bg-gray-100"},ABSENT:{active:"bg-red-100 text-red-700 ring-2 ring-red-500",inactive:"bg-gray-50 text-gray-600 hover:bg-gray-100"},LATE:{active:"bg-orange-100 text-orange-700 ring-2 ring-orange-500",inactive:"bg-gray-50 text-gray-600 hover:bg-gray-100"}},ge={PRESENT:ca,ABSENT:uh,LATE:Sl}[De];return l.jsxs("button",{onClick:()=>Y(V.id,De),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ring-offset-1 ${Je?Ve[De].active:Ve[De].inactive}`,children:[l.jsx(ge,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:De.charAt(0)+De.slice(1).toLowerCase()})]},De)})})}),l.jsx("td",{className:"px-6 py-4 hidden print:table-cell text-center",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${((G=d[V.id])==null?void 0:G.status)==="PRESENT"?"bg-green-100 text-green-700":((ue=d[V.id])==null?void 0:ue.status)==="ABSENT"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:((ve=d[V.id])==null?void 0:ve.status)||"-"})}),l.jsxs("td",{className:"px-6 py-4 print:hidden",children:[((q=d[V.id])==null?void 0:q.status)==="ABSENT"&&l.jsxs("button",{onClick:()=>{var De;O(V),H(((De=d[V.id])==null?void 0:De.reason)||""),E(!0)},className:"flex items-center gap-1 text-sm text-gray-500 hover:text-blue-600",children:[l.jsx(Bo,{size:14}),(Me=d[V.id])!=null&&Me.reason?"Edit Reason":"Add Reason"]}),((He=d[V.id])==null?void 0:He.reason)&&l.jsx("div",{className:"text-xs text-gray-400 mt-1 truncate max-w-[150px]",title:(Ae=d[V.id])==null?void 0:Ae.reason,children:(le=d[V.id])==null?void 0:le.reason})]})]},V.id)})})]})]}),y==="weekly"&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[l.jsx("h2",{className:"font-semibold text-gray-700 dark:text-gray-200",children:"Weekly View"}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Week of ",N[0]?new Date(N[0]).toLocaleDateString(void 0,{month:"short",day:"numeric"}):""," -",N[4]?new Date(N[4]).toLocaleDateString(void 0,{month:"short",day:"numeric"}):""]})]}),h?l.jsxs("div",{className:"p-12 text-center text-gray-500",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),"Loading..."]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase sticky left-0 bg-gray-50 dark:bg-slate-700 z-10",children:"Student"}),N.map(V=>l.jsxs("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase text-center min-w-[80px]",children:[new Date(V).toLocaleDateString(void 0,{weekday:"short"}),l.jsx("br",{}),l.jsx("span",{className:"text-[10px] font-normal",children:new Date(V).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]},V))]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:L.map(V=>l.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50",children:[l.jsxs("td",{className:"px-4 py-3 sticky left-0 bg-white dark:bg-slate-800 z-10",children:[l.jsxs("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[V.firstName," ",V.lastName]}),l.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:V.admissionNumber})]}),N.map(ee=>{var ue;const G=(ue=A[V.id])==null?void 0:ue[ee];return l.jsx("td",{className:"px-4 py-3 text-center",children:G?l.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${G==="PRESENT"?"bg-green-100 text-green-700":G==="ABSENT"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:G==="PRESENT"?"P":G==="ABSENT"?"A":"L"}):l.jsx("span",{className:"text-gray-300",children:"-"})},ee)})]},V.id))})]})})]}),y==="daily"&&l.jsx("div",{className:"fixed bottom-6 right-6 z-10 print:hidden",children:l.jsxs("button",{onClick:Q,disabled:p||h||c.length===0,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[l.jsx(Qu,{size:20}),p?"Saving...":"Save Attendance"]})}),C&&F&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 print:hidden",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-6 w-full max-w-md mx-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Absence Reason"}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:[F.firstName," ",F.lastName]}),l.jsx("textarea",{value:T,onChange:V=>H(V.target.value),placeholder:"e.g., Sick, Family emergency, Doctor's appointment...",className:"w-full p-3 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none bg-white dark:bg-slate-700 dark:text-white dark:placeholder-gray-400",rows:3}),l.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[l.jsx("button",{onClick:()=>{E(!1),O(null)},className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Reason"})]})]})})]})},C8e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,o]=k.useState(""),[c,u]=k.useState(""),[d,f]=k.useState(""),[h,m]=k.useState(null),[p,g]=k.useState(!1),[x,v]=k.useState(!1),[y,b]=k.useState({});k.useEffect(()=>{N()},[]),k.useEffect(()=>{i&&c&&d&&S()},[i,c,d]);const N=async()=>{try{const[E,F,O]=await Promise.all([Ee.get("/classes"),Ee.get("/subjects"),Ee.get("/academic-terms")]);t(E.data),n(F.data),s(O.data);const T=O.data.find(H=>H.isActive);T&&f(T.id),E.data.length>0&&o(E.data[0].id),F.data.length>0&&u(F.data[0].id)}catch(E){console.error("Initial data fetch error:",E),pr.error("Failed to load filters")}},S=async()=>{g(!0);try{const E=await Ee.get("/assessments/gradebook",{params:{classId:i,subjectId:c,termId:d}});m(E.data),b({})}catch(E){console.error("Gradebook fetch error:",E),pr.error("Failed to load gradebook")}finally{g(!1)}},A=(E,F)=>{const O=`${F}_${E}`;if(O in y)return y[O];const T=h==null?void 0:h.results.find(H=>H.studentId===E&&H.assessmentId===F);return T?Number(T.score):""},j=(E,F,O)=>{const T=O===""?0:parseFloat(O),H=h==null?void 0:h.assessments.find(K=>K.id===F);if(H&&T>H.totalMarks){pr.error(`Max marks for this assessment is ${H.totalMarks}`);return}b(K=>({...K,[`${F}_${E}`]:T}))},C=async()=>{if(Object.keys(y).length!==0){v(!0);try{const E={};Object.entries(y).forEach(([O,T])=>{const[H,K]=O.split("_");E[H]||(E[H]=[]),E[H].push({studentId:K,score:T})});const F=Object.entries(E).map(([O,T])=>Ee.post("/assessments/results",{assessmentId:O,results:T}));await Promise.all(F),pr.success("Grades saved successfully"),S()}catch(E){console.error("Save error:",E),pr.error("Failed to save grades")}finally{v(!1)}}};return l.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-[1600px] mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[l.jsx(ki,{className:"text-blue-600"}),"Teacher Gradebook"]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage assessment scores for your classes"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-white dark:bg-slate-800 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 px-2",children:[l.jsx(Fj,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),l.jsx("select",{value:d,onChange:E=>f(E.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-slate-600 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:a.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))}),l.jsx("select",{value:i,onChange:E=>o(E.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-slate-600 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:e.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))}),l.jsx("select",{value:c,onChange:E=>u(E.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-slate-600 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:r.map(E=>l.jsxs("option",{value:E.id,children:[E.name," (",E.code,")"]},E.id))})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col min-h-[500px]",children:p?l.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"Loading gradebook..."}):!h||h.students.length===0?l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500 dark:text-gray-400",children:[l.jsx(pc,{size:48,className:"text-gray-300 dark:text-gray-600 mb-4"}),l.jsx("p",{children:"No students or data found for this selection."})]}):l.jsx("div",{className:"overflow-x-auto flex-1",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 z-10 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"sticky left-0 bg-gray-50 dark:bg-slate-700 px-4 py-3 border-b border-gray-200 dark:border-slate-600 font-semibold text-xs text-gray-500 dark:text-gray-300 uppercase tracking-wider w-12 z-20 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:"#"}),l.jsx("th",{className:"sticky left-12 bg-gray-50 dark:bg-slate-700 px-4 py-3 border-b border-gray-200 dark:border-slate-600 font-semibold text-xs text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[200px] z-20 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:"Student"}),h.assessments.map(E=>l.jsxs("th",{className:"px-4 py-3 border-b border-gray-200 dark:border-slate-600 min-w-[120px] text-center",children:[l.jsx("div",{className:"text-xs font-bold text-gray-800 dark:text-white",children:E.title}),l.jsxs("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-normal",children:["Max: ",E.totalMarks,"  ",E.weight,"%"]})]},E.id)),l.jsx("th",{className:"px-4 py-3 border-b border-gray-200 dark:border-slate-600 text-center font-semibold text-xs text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[100px] bg-blue-50/50 dark:bg-blue-900/30",children:"Average"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:h.students.map((E,F)=>{let O=0;return h.assessments.forEach(T=>{const H=A(E.id,T.id);H!==""&&H!==0&&(O+=Number(H)/T.totalMarks*100*(T.weight/100))}),l.jsxs("tr",{className:"hover:bg-gray-50/80 dark:hover:bg-slate-700/50 transition-colors group",children:[l.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-800 group-hover:bg-gray-50 dark:group-hover:bg-slate-700 px-4 py-3 text-sm text-gray-500 dark:text-gray-400 border-r border-gray-100 dark:border-slate-700 z-10",children:F+1}),l.jsxs("td",{className:"sticky left-12 bg-white dark:bg-slate-800 group-hover:bg-gray-50 dark:group-hover:bg-slate-700 px-4 py-3 border-r border-gray-100 dark:border-slate-700 z-10",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[E.firstName," ",E.lastName]}),l.jsx("div",{className:"text-xs text-gray-400",children:E.admissionNumber})]}),h.assessments.map(T=>l.jsx("td",{className:"p-0 border-r border-gray-100 dark:border-slate-700 relative",children:l.jsx("input",{type:"number",min:"0",max:T.totalMarks,value:A(E.id,T.id),onChange:H=>j(E.id,T.id,H.target.value),className:`w-full h-full min-h-[48px] px-2 text-center text-sm outline-none focus:bg-blue-50 dark:focus:bg-blue-900/30 focus:ring-2 focus:ring-blue-500 inset-0 transition-all dark:text-white ${`${T.id}_${E.id}`in y?"bg-amber-50 dark:bg-amber-900/30 text-amber-900 dark:text-amber-300 font-semibold":"bg-transparent"}`,placeholder:"-"})},T.id)),l.jsx("td",{className:"px-4 py-3 text-center text-sm font-bold text-gray-700 dark:text-gray-300 bg-blue-50/30 dark:bg-blue-900/20",children:"-"})]},E.id)})})]})})}),l.jsx("div",{className:"fixed bottom-6 right-6 z-30",children:l.jsxs("button",{onClick:C,disabled:x||p||Object.keys(y).length===0,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium transform active:scale-95",children:[x?l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l.jsx(Qu,{size:20}),x?"Saving...":`Save ${Object.keys(y).length>0?`(${Object.keys(y).length})`:""} Changes`]})})]})},T8e=()=>{const{id:e}=jj(),[t,r]=k.useState(null),[n,a]=k.useState(!0);return k.useEffect(()=>{e&&(async()=>{try{const i=await Ee.get(`/reports/public/verify/${e}`);r(i.data)}catch{r({valid:!1,message:"Invalid or expired report QR code."})}finally{a(!1)}})()},[e]),n?l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col items-center justify-center p-4",children:[l.jsx(qQ,{className:"animate-spin text-blue-600 mb-4",size:40}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Verifying Report Authenticity..."})]}):l.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 max-w-md w-full rounded-2xl shadow-xl overflow-hidden",children:[l.jsxs("div",{className:`p-6 text-center ${t!=null&&t.valid?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-white dark:bg-slate-700 rounded-full flex items-center justify-center shadow-sm mb-4",children:t!=null&&t.valid?l.jsx(ca,{className:"text-green-500",size:32}):l.jsx(uh,{className:"text-red-500",size:32})}),l.jsx("h1",{className:`text-2xl font-bold ${t!=null&&t.valid?"text-green-800 dark:text-green-400":"text-red-800 dark:text-red-400"}`,children:t!=null&&t.valid?"Verified Authentic":"Verification Failed"}),l.jsx("p",{className:`text-sm mt-1 ${t!=null&&t.valid?"text-green-600 dark:text-green-500":"text-red-600 dark:text-red-500"}`,children:t!=null&&t.valid?"This report card is a valid document issued by the school system.":t==null?void 0:t.message})]}),(t==null?void 0:t.valid)&&l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:[l.jsx(ag,{size:12}),"School Name"]}),l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:t.schoolName})]}),l.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-400 font-bold uppercase",children:"Student"}),l.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:t.studentName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-400 font-bold uppercase",children:"Admission No"}),l.jsx("p",{className:"font-mono text-slate-800 dark:text-white",children:t.admissionNumber})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-400 font-bold uppercase",children:"Class"}),l.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:t.className})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-400 font-bold uppercase",children:"Term"}),l.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:t.term})]})]}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-xl p-4 flex justify-between items-center border border-slate-100 dark:border-slate-600 mt-2",children:[l.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:"Term Average"}),l.jsxs("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:[t.averageScore,"%"]})]})]}),l.jsxs("div",{className:"pt-4 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 text-xs",children:[l.jsx(vR,{size:14}),l.jsx("span",{children:"Securely verified by Sync System"})]}),l.jsxs("p",{className:"text-[10px] text-slate-300 dark:text-slate-500 mt-1",children:["Generated: ",new Date(t.generatedAt||"").toLocaleDateString()]})]})]}),!(t!=null&&t.valid)&&l.jsx("div",{className:"p-6 text-center",children:l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"The document you scanned could not be verified in our system. It may be forged, or the QR code is invalid."})})]})})},P8e=()=>{var N;const[e,t]=k.useState(1),[r,n]=k.useState(""),[a,s]=k.useState(!1),[i,o]=k.useState(null),[c,u]=k.useState(""),[d,f]=k.useState(""),[h,m]=k.useState("airtel"),[p,g]=k.useState(null),[x,v]=k.useState({processing:0,total:0});k.useEffect(()=>{const S=parseFloat(c)||0,A=S*.025;v({processing:A,total:S+A})},[c]);const y=async S=>{var A,j;if(S.preventDefault(),!!r.trim()){s(!0);try{const C=await Ee.get(`/payments/public/students/${r}`);o(C.data),t(2),C.data.balance>0?u(C.data.balance.toString()):u("")}catch(C){pr.error(((j=(A=C.response)==null?void 0:A.data)==null?void 0:j.message)||"Student not found")}finally{s(!1)}}},b=async S=>{var A,j;if(S.preventDefault(),!(!i||!c||!d)){s(!0);try{const C={studentId:i.id,amount:parseFloat(c),phone:d,operator:h,country:"zm"},E=await Ee.post("/payments/public/mobile-money/initiate",C);g(E.data),t(3)}catch(C){pr.error(((j=(A=C.response)==null?void 0:A.data)==null?void 0:j.message)||"Payment initiation failed")}finally{s(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4 font-sans text-slate-900 dark:text-white",children:[e===1&&l.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300",children:[l.jsxs("div",{className:"bg-blue-600 p-10 text-center relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 text-white",children:l.jsx(jl,{size:120})}),l.jsx("div",{className:"bg-white/10 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 backdrop-blur-sm text-white shadow-inner",children:l.jsx(ag,{size:32})}),l.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"School Fees Payment"}),l.jsx("p",{className:"text-blue-100 font-medium opacity-90",children:"Secure Mobile Money Payment Portal"})]}),l.jsx("div",{className:"p-10",children:l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Student ID or Admission Number"}),l.jsxs("div",{className:"relative group",children:[l.jsx("input",{type:"text",value:r,onChange:S=>n(S.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900 focus:border-blue-500 transition-all font-medium placeholder:text-slate-400 dark:text-white",placeholder:"Enter ID...",required:!0}),l.jsx(ei,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20})]})]}),l.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-2xl transition-all shadow-lg shadow-blue-200 dark:shadow-blue-900/30 flex items-center justify-center gap-2 transform active:scale-[0.98]",children:a?l.jsx(ng,{className:"animate-spin"}):l.jsxs(l.Fragment,{children:["Verify Student ",l.jsx(MT,{size:20})]})}),l.jsx("div",{className:"text-center pt-2",children:l.jsxs("a",{href:"#",className:"text-sm text-slate-400 hover:text-blue-600 transition-colors flex items-center justify-center gap-1",children:["Having trouble? ",l.jsx("span",{className:"underline decoration-slate-300",children:"Contact Support"})]})})]})})]}),e===2&&i&&l.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in slide-in-from-right-8 duration-500",children:[l.jsxs("div",{className:"flex-1 p-6 md:p-10 bg-white dark:bg-slate-800",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8 max-w-sm mx-auto md:mx-0",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-sm shadow-md",children:l.jsx(Ty,{size:16})}),l.jsx("span",{className:"text-xs font-bold text-blue-600",children:"Verify"})]}),l.jsx("div",{className:"flex-1 h-1 bg-blue-100 dark:bg-blue-900 mx-2 rounded-full relative overflow-hidden",children:l.jsx("div",{className:"absolute left-0 top-0 h-full w-full bg-blue-600 origin-left animate-slide"})}),l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-sm shadow-md ring-4 ring-blue-100 dark:ring-blue-900",children:"2"}),l.jsx("span",{className:"text-xs font-bold text-blue-600",children:"Pay"})]}),l.jsx("div",{className:"flex-1 h-1 bg-slate-100 dark:bg-slate-700 mx-2 rounded-full"}),l.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-40",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 flex items-center justify-center font-bold text-sm border border-slate-200 dark:border-slate-600",children:"3"}),l.jsx("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400",children:"Receipt"})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Make Payment"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Complete the transaction securely."})]}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-2xl p-5 border border-slate-100 dark:border-slate-600 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center font-bold text-lg shrink-0",children:[i.firstName[0],i.lastName[0]]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white",children:[i.firstName," ",i.lastName]}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide font-semibold",children:[(N=i.class)==null?void 0:N.name,"  ",i.admissionNumber]})]})]}),l.jsxs("div",{className:"text-left sm:text-right",children:[l.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Outstanding"}),l.jsxs("p",{className:"text-2xl font-black text-blue-600 dark:text-blue-400",children:["ZMW ",Number(i.balance).toLocaleString()]})]})]}),l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Payment Amount (ZMW)"}),l.jsxs("div",{className:"relative group",children:[l.jsx("input",{type:"number",value:c,onChange:S=>u(S.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-700 border-2 border-slate-100 dark:border-slate-600 rounded-2xl focus:outline-none focus:border-blue-500 focus:ring-0 transition-all font-bold text-lg dark:text-white",placeholder:"0.00",required:!0}),l.jsx(hl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Payer Phone Number"}),l.jsxs("div",{className:"relative group",children:[l.jsx("input",{type:"tel",value:d,onChange:S=>f(S.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-700 border-2 border-slate-100 dark:border-slate-600 rounded-2xl focus:outline-none focus:border-blue-500 focus:ring-0 transition-all font-medium dark:text-white",placeholder:"e.g 097xxxxxxx",required:!0}),l.jsx(ex,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Select Network Operator"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("label",{className:`cursor-pointer relative overflow-hidden rounded-2xl border-2 transition-all h-20 flex items-center justify-center ${h==="airtel"?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-slate-100 dark:border-slate-600 bg-white dark:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-500"}`,children:[l.jsx("input",{type:"radio",name:"operator",value:"airtel",checked:h==="airtel",onChange:S=>m(S.target.value),className:"sr-only"}),l.jsx("div",{className:`font-black text-lg ${h==="airtel"?"text-red-600 dark:text-red-400":"text-slate-400"}`,children:"Airtel"}),h==="airtel"&&l.jsx("div",{className:"absolute top-2 right-2 text-red-600 dark:text-red-400",children:l.jsx(ca,{size:16})})]}),l.jsxs("label",{className:`cursor-pointer relative overflow-hidden rounded-2xl border-2 transition-all h-20 flex items-center justify-center ${h==="mtn"?"border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":"border-slate-100 dark:border-slate-600 bg-white dark:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-500"}`,children:[l.jsx("input",{type:"radio",name:"operator",value:"mtn",checked:h==="mtn",onChange:S=>m(S.target.value),className:"sr-only"}),l.jsx("div",{className:`font-black text-lg ${h==="mtn"?"text-yellow-600 dark:text-yellow-400":"text-slate-400"}`,children:"MTN"}),h==="mtn"&&l.jsx("div",{className:"absolute top-2 right-2 text-yellow-600 dark:text-yellow-400",children:l.jsx(ca,{size:16})})]})]})]}),l.jsxs("div",{className:"md:hidden bg-slate-50 dark:bg-slate-700 p-4 rounded-2xl border border-slate-100 dark:border-slate-600 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Payment Amount"}),l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:["ZMW ",Number(c||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Processing Fee"}),l.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:["ZMW ",x.processing.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-600 pt-2 flex justify-between items-center mt-2",children:[l.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"Total"}),l.jsxs("span",{className:"font-black text-xl text-blue-600 dark:text-blue-400",children:["ZMW ",x.total.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>t(1),className:"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 font-bold px-6 rounded-2xl transition-all",children:"Back"}),l.jsx("button",{type:"submit",disabled:a||!c,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-2xl transition-all shadow-lg shadow-blue-200 dark:shadow-blue-900/30 flex items-center justify-center gap-2",children:a?l.jsx(ng,{className:"animate-spin"}):l.jsxs(l.Fragment,{children:["Pay ZMW ",x.total.toLocaleString()," ",l.jsx(MT,{size:20})]})})]})]})]}),l.jsx("div",{className:"hidden md:block w-96 bg-slate-50 dark:bg-slate-700 p-10 border-l border-slate-100 dark:border-slate-600 relative",children:l.jsxs("div",{className:"sticky top-10 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-4",children:"Transaction Summary"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200 dark:border-slate-600 border-dashed",children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Tuition/Fees"}),l.jsxs("span",{className:"font-mono font-medium dark:text-white",children:["ZMW ",Number(c||0).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200 dark:border-slate-600 border-dashed",children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Processing Fee"}),l.jsxs("span",{className:"font-mono font-medium dark:text-white",children:["ZMW ",x.processing.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2",children:[l.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Total"}),l.jsxs("span",{className:"text-2xl font-black text-blue-600 dark:text-blue-400",children:["ZMW ",x.total.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]}),l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-6 rounded-2xl border border-blue-200 dark:border-blue-800",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-lg shrink-0 h-fit",children:l.jsx(vR,{size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-blue-900 dark:text-blue-300 mb-1",children:"Secure Transaction"}),l.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-400 leading-relaxed",children:["You will receive a prompt on your phone (",d||"...",") to approve the transaction. Please ensure your screen is unlocked."]})]})]})})]})})]}),e===3&&p&&l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden p-10 text-center animate-in zoom-in duration-300",children:[l.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl shadow-green-100 dark:shadow-green-900/30 ring-8 ring-green-50 dark:ring-green-900/20",children:l.jsx(Ty,{size:48,strokeWidth:3})}),l.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Payment Initiated"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Please check your phone to complete the payment."}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-2xl p-6 mb-8 border border-slate-100 dark:border-slate-600",children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Reference"}),l.jsx("span",{className:"font-mono font-bold text-slate-900 dark:text-white",children:p.reference})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Mobile Number"}),l.jsx("span",{className:"font-mono font-bold text-slate-900 dark:text-white",children:d})]})]}),l.jsx("button",{onClick:()=>{t(1),n(""),u(""),f("")},className:"w-full bg-slate-900 dark:bg-slate-600 hover:bg-black dark:hover:bg-slate-500 text-white font-bold py-4 rounded-2xl transition-all",children:"Back to Home"})]})]})},vD=()=>{const[e]=eJ(),t=Ol(),[r,n]=k.useState(null),[a,s]=k.useState(!1),[i,o]=k.useState(!1);k.useEffect(()=>{const d=e.get("title")||void 0,f=e.get("text")||void 0,h=e.get("url")||void 0,m=async()=>{};(d||f||h)&&n({title:d,text:f,url:h}),m()},[e]);const c=async()=>{s(!0);try{await new Promise(d=>setTimeout(d,1500)),o(!0),pr.success("Content processed successfully!"),setTimeout(()=>{t("/")},2e3)}catch{pr.error("Failed to process shared content")}finally{s(!1)}},u=()=>{t("/")};return r?i?l.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ca,{className:"text-green-600 dark:text-green-400",size:40})}),l.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Success!"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Content has been added to Sync."}),l.jsx("p",{className:"text-sm text-slate-400",children:"Redirecting to dashboard..."})]})}):l.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:l.jsx(Ni,{className:"text-blue-600 dark:text-blue-400",size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Shared Content"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Review and process"})]})]}),l.jsx("button",{onClick:u,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(ea,{size:20,className:"text-slate-400"})})]}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-xl p-4 mb-6 space-y-3",children:[r.title&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-1",children:"Title"}),l.jsx("p",{className:"text-slate-900 dark:text-white font-medium",children:r.title})]}),r.text&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-1",children:"Content"}),l.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm line-clamp-3",children:r.text})]}),r.url&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-1",children:"URL"}),l.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline truncate block",children:r.url})]}),r.files&&r.files.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2",children:"Files"}),l.jsx("div",{className:"space-y-2",children:r.files.map((d,f)=>l.jsxs("div",{className:"flex items-center gap-3 bg-white dark:bg-slate-600 p-3 rounded-lg border border-slate-200 dark:border-slate-500",children:[l.jsx(Ps,{size:20,className:"text-blue-600 dark:text-blue-400"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:d.name}),l.jsx("p",{className:"text-xs text-slate-400",children:O8e(d.size)})]})]},f))})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:u,className:"flex-1 py-3 px-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-xl transition-colors",children:"Cancel"}),l.jsx("button",{onClick:c,disabled:a,className:"flex-1 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2",children:a?l.jsxs(l.Fragment,{children:[l.jsx(ng,{className:"animate-spin",size:18}),"Processing..."]}):"Add to Sync"})]})]})}):l.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ng,{className:"animate-spin text-slate-400",size:32})}),l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Processing Share"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Please wait..."})]})})},O8e=e=>e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`;function L8e(){return l.jsx(TQ,{children:l.jsx(OQ,{children:l.jsxs(XZ,{children:[l.jsx(A8e,{position:"top-right"}),l.jsxs($Z,{children:[l.jsx(br,{path:"/login",element:l.jsx(hee,{})}),l.jsx(br,{path:"/verify/report/:id",element:l.jsx(T8e,{})}),l.jsx(br,{path:"/pay",element:l.jsx(P8e,{})}),l.jsx(br,{path:"/share-target",element:l.jsx(vD,{})}),l.jsx(br,{path:"/open-file",element:l.jsx(vD,{})}),l.jsxs(br,{element:l.jsx(IPe,{}),children:[l.jsx(br,{path:"/student/quiz/:assessmentId",element:l.jsx(MPe,{})}),l.jsxs(br,{element:l.jsx(DPe,{}),children:[l.jsx(br,{path:"/",element:l.jsx(Aee,{})}),l.jsx(br,{path:"/profile",element:l.jsx(U6e,{})}),l.jsx(br,{path:"/my-children",element:l.jsx(ya,{allowedRoles:["PARENT"],children:l.jsx(V6e,{})})}),l.jsx(br,{path:"/student/assessments",element:l.jsx(ya,{allowedRoles:["STUDENT","SUPER_ADMIN","PARENT"],children:l.jsx(RPe,{})})}),l.jsx(br,{path:"/students",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY"],children:l.jsx(Tfe,{})})}),l.jsx(br,{path:"/students/:id",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY"],children:l.jsx(Pfe,{})})}),l.jsx(br,{path:"/finance",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","BURSAR"],children:l.jsx(w6e,{})})}),l.jsx(br,{path:"/attendance",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","TEACHER","SECRETARY"],children:l.jsx(k6e,{})})}),l.jsx(br,{path:"/academics",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","TEACHER"],children:l.jsx(M6e,{})})}),l.jsx(br,{path:"/academics/grading-scales",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","TEACHER"],children:l.jsx(YV,{})})}),l.jsx(br,{path:"/academics/report-cards",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","TEACHER"],children:l.jsx(XV,{})})}),"// ... (In Routes)",l.jsx(br,{path:"/academics/attendance",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","TEACHER","SECRETARY"],children:l.jsx(E8e,{})})}),l.jsx(br,{path:"/academics/gradebook",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","TEACHER","BURSAR","SECRETARY"],children:l.jsx(C8e,{})})}),l.jsx(br,{path:"/academics/timetable",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","TEACHER","STUDENT","PARENT"],children:l.jsx(ZV,{})})}),l.jsx(br,{path:"/subjects",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","TEACHER"],children:l.jsx(GV,{})})}),l.jsx(br,{path:"/classes",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","TEACHER","SECRETARY"],children:l.jsx(KV,{})})}),l.jsx(br,{path:"/users",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN"],children:l.jsx(R6e,{})})}),l.jsx(br,{path:"/communication",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY","PARENT"],children:l.jsx(H6e,{})})}),l.jsx(br,{path:"/academics/reports",element:l.jsx(ya,{allowedRoles:["PARENT","STUDENT"],children:l.jsx(q6e,{})})}),l.jsx(br,{path:"/settings",element:l.jsx(ya,{allowedRoles:["SUPER_ADMIN"],children:l.jsx(B6e,{})})})]})]}),l.jsx(br,{path:"*",element:l.jsx(d2,{to:"/",replace:!0})})]})]})})})}function F8e(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:s,onRegisterError:i}=e;let o,c,u;const d=async(h=!0)=>{await c,u==null||u()};async function f(){if("serviceWorker"in navigator){if(o=await qy(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{i==null||i(h)}),!o)return;u=()=>{o==null||o.messageSkipWaiting()};{let h=!1;const m=()=>{h=!0,o==null||o.addEventListener("controlling",p=>{p.isUpdate&&window.location.reload()}),r==null||r()};o.addEventListener("installed",p=>{typeof p.isUpdate>"u"?typeof p.isExternal<"u"&&p.isExternal?m():!h&&(n==null||n()):p.isUpdate||n==null||n()}),o.addEventListener("waiting",m)}o.register({immediate:t}).then(h=>{s?s("/sw.js",h):a==null||a(h)}).catch(h=>{i==null||i(h)})}}return c=f(),d}function D8e(e={}){const{immediate:t=!0,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:s,onRegisterError:i}=e,[o,c]=k.useState(!1),[u,d]=k.useState(!1),[f]=k.useState(()=>F8e({immediate:t,onOfflineReady(){d(!0),n==null||n()},onNeedRefresh(){c(!0),r==null||r()},onRegistered:a,onRegisteredSW:s,onRegisterError:i}));return{needRefresh:[o,c],offlineReady:[u,d],updateServiceWorker:f}}const I8e=()=>{const{needRefresh:[e,t],updateServiceWorker:r}=D8e({onRegisteredSW(s,i){console.log("SW registered:",s),i&&setInterval(()=>{i.update()},36e5)},onRegisterError(s){console.error("SW registration error:",s)}}),n=()=>{r(!0)},a=()=>{t(!1)};return e?l.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-[9999] animate-in slide-in-from-bottom-4 duration-300",children:l.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl shadow-2xl p-4 flex items-start gap-4",children:[l.jsx("div",{className:"bg-blue-600 p-2 rounded-xl shrink-0",children:l.jsx(Wd,{size:20})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-bold text-sm mb-1",children:"Update Available"}),l.jsx("p",{className:"text-slate-300 text-xs leading-relaxed",children:"A new version of Sync is ready. Refresh to get the latest features and improvements."}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsx("button",{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold px-4 py-2 rounded-lg transition-colors",children:"Update Now"}),l.jsx("button",{onClick:a,className:"bg-slate-700 hover:bg-slate-600 text-slate-300 text-xs font-medium px-4 py-2 rounded-lg transition-colors",children:"Later"})]})]}),l.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white transition-colors shrink-0",children:l.jsx(ea,{size:16})})]})}):null},M8e=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!1),[a,s]=k.useState(!1);k.useEffect(()=>{const c=/iPad|iPhone|iPod/.test(navigator.userAgent),u=window.matchMedia("(display-mode: standalone)").matches;c&&!u&&(localStorage.getItem("pwa-install-dismissed")||(s(!0),n(!0)));const d=f=>{f.preventDefault(),t(f),localStorage.getItem("pwa-install-dismissed")||n(!0)};return window.addEventListener("beforeinstallprompt",d),()=>{window.removeEventListener("beforeinstallprompt",d)}},[]);const i=async()=>{if(e){await e.prompt();const{outcome:c}=await e.userChoice;c==="accepted"&&n(!1),t(null)}},o=()=>{n(!1),localStorage.setItem("pwa-install-dismissed","true")};return r?l.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-[9998] animate-in slide-in-from-bottom-4 duration-300",children:l.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-2xl p-4 flex items-start gap-4",children:[l.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-xl shrink-0",children:l.jsx(Qs,{size:20})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-bold text-sm text-slate-900 mb-1",children:"Install Sync App"}),a?l.jsxs("p",{className:"text-slate-500 text-xs leading-relaxed",children:["Tap the ",l.jsx("strong",{children:"Share"})," button, then ",l.jsx("strong",{children:'"Add to Home Screen"'})," for a better experience."]}):l.jsx("p",{className:"text-slate-500 text-xs leading-relaxed",children:"Install Sync on your device for quick access and offline support."}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[!a&&l.jsx("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold px-4 py-2 rounded-lg transition-colors",children:"Install"}),l.jsx("button",{onClick:o,className:"bg-slate-100 hover:bg-slate-200 text-slate-600 text-xs font-medium px-4 py-2 rounded-lg transition-colors",children:a?"Got it":"Not now"})]})]}),l.jsx("button",{onClick:o,className:"text-slate-400 hover:text-slate-600 transition-colors shrink-0",children:l.jsx(ea,{size:16})})]})}):null},R8e=()=>{const[e,t]=k.useState(navigator.onLine),[r,n]=k.useState(!1);return k.useEffect(()=>{const a=()=>{t(!0),r&&console.log("Back online - syncing...")},s=()=>{t(!1),n(!0)};return window.addEventListener("online",a),window.addEventListener("offline",s),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}},[r]),{isOnline:e,wasOffline:r}},B8e=()=>{const{isOnline:e}=R8e(),[t,r]=k.useState(!1),[n,a]=k.useState(!1);return k.useEffect(()=>{if(!e)a(!0);else if(n){r(!0);const s=setTimeout(()=>{r(!1)},3e3);return()=>clearTimeout(s)}},[e,n]),e&&!t?null:l.jsx("div",{className:`fixed top-0 left-0 right-0 z-[9999] transition-all duration-300 ${e?"bg-green-600":"bg-amber-500"}`,children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2 flex items-center justify-center gap-2 text-white text-sm font-medium",children:e?l.jsxs(l.Fragment,{children:[l.jsx(fee,{size:16}),l.jsx("span",{children:"Back online!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(dee,{size:16}),l.jsx("span",{children:"You're offline. Some features may be limited."})]})})})},z8e=()=>{const e="setAppBadge"in navigator,t=k.useCallback(async n=>{if(e)try{n>0?await navigator.setAppBadge(n):await navigator.clearAppBadge(),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SET_BADGE",count:n})}catch(a){console.error("Failed to set badge:",a)}},[e]),r=k.useCallback(async()=>{if(e)try{await navigator.clearAppBadge(),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"CLEAR_BADGE"})}catch(n){console.error("Failed to clear badge:",n)}},[e]);return{isSupported:e,setBadge:t,clearBadge:r}},U8e=()=>{const e=k.useCallback(async(r,n)=>{if(!("periodicSync"in navigator.serviceWorker))return console.warn("Periodic Background Sync not supported"),!1;try{const a=await navigator.serviceWorker.ready;return(await navigator.permissions.query({name:"periodic-background-sync"})).state==="granted"?(await a.periodicSync.register(r,{minInterval:n}),console.log(`Periodic sync registered: ${r}`),!0):(console.warn("Periodic sync permission not granted"),!1)}catch(a){return console.error("Failed to register periodic sync:",a),!1}},[]),t=k.useCallback(async r=>{try{return await(await navigator.serviceWorker.ready).periodicSync.unregister(r),console.log(`Periodic sync unregistered: ${r}`),!0}catch(n){return console.error("Failed to unregister periodic sync:",n),!1}},[]);return{registerPeriodicSync:e,unregisterPeriodicSync:t}},$8e=e=>{k.useEffect(()=>{if(!("serviceWorker"in navigator))return;const t=r=>{e(r.data)};return navigator.serviceWorker.addEventListener("message",t),()=>{navigator.serviceWorker.removeEventListener("message",t)}},[e])},W8e=()=>{const{setBadge:e}=z8e(),{registerPeriodicSync:t}=U8e(),r=k.useCallback(async()=>{var s;try{const o=((s=(await Ee.get("/notifications/unread-count")).data)==null?void 0:s.count)||0;await e(o)}catch{console.log("Could not fetch notification count")}},[e]),n=k.useCallback(async()=>{try{await t("sync-student-data",12*60*60*1e3),await t("sync-notifications",60*60*1e3)}catch{console.log("Periodic sync not available")}},[t]),a=k.useCallback(s=>{switch(s.type){case"SYNC_SUCCESS":pr.success("Your request was synced successfully!",{icon:"",duration:4e3});break;case"DATA_REFRESHED":console.log("Data refreshed in background");break}},[]);return $8e(a),k.useEffect(()=>{r(),window.matchMedia("(display-mode: standalone)").matches&&n();const s=setInterval(r,5*60*1e3);return()=>{clearInterval(s)}},[r,n]),null};N4.createRoot(document.getElementById("root")).render(l.jsxs(Ou.StrictMode,{children:[l.jsx(B8e,{}),l.jsx(L8e,{}),l.jsx(W8e,{}),l.jsx(I8e,{}),l.jsx(M8e,{})]}));export{_r as _,T5 as c,Tl as g};
